var fe=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var n=r(1);n.assign(e,r(2)),n.assign(e,r(3)),n.assign(e,r(4)),n.assign(e,r(5)),e._=n,e.numeric=r(6),e.geometry={pointset:r(7),topology:r(8)},e.feutils=r(9),e.fens=r(10),e.gcellset=r(11),e.field=r(12),e.property=r(13),e.material=r(14),e.feblock=r(15),e.system=r(16),e.nodalload=r(17),e.forceintensity=r(18),e.integrationrule=r(19),e.ebc=r(20),e.mesh=r(21)},function(t,e,r){function n(){}var o=r(25);o.assign(e,o),e.Bimap=r(2).Bimap,e.Bipartite=r(3).Bipartite,e.SetStore=r(4).SetStore,e.array1d=function(t,e){return Array.apply(null,Array(t)).map("function"==typeof e?function(t,r){return e(r)}:function(){return e})};var i=e.array1d;e.array2d=function(t,e,r){return"function"==typeof r?i(t,function(t){return i(e,function(e){return r(t,e)})}):i(t,function(){return i(e,r)})};e.array2d;e.embed=function(t,e){var r,n,u;if(o.isArray(t)&&"number"==typeof e){for(u=i(e,0),r=0,n=t.length<e?t.length:e;n>r;++r)u[r]=t[r];return u}throw new Error("embed(vec, dim): vec must be a Javascript array.")},e.byLexical=function(t,e){for(var r,n=0,o=t.length;o>n;){if(r=t[n]-e[n],0!==r)return r;++n}return r},e.rotateLeft=function(t,e){if("undefined"==typeof e)throw new Error("rotateLeft(): no offset specified.");for(var r=t.length,n=new Array(r),o=(r+e%r)%r,i=0;r>i;)n[i]=t[(o+i)%r],++i;return n};var u=e.rotateLeft;e.rotateRight=function(t,e){return u(t,-e)};e.rotateRight;e.minIndex=function(t,e){return"function"==typeof e?o.reduce(t,function(t,r,n){return e(r,t.value)<0&&(t.value=r,t.index=n),t},{value:1/0,index:-1}).index:o.reduce(t,function(t,e,r){return e<t.value&&(t.value=e,t.index=r),t},{value:1/0,index:-1}).index};var s=e.minIndex;e.isIterator=function(t){return t&&"function"==typeof t.hasNext&&"function"==typeof t.next};e.isIterator;e.noopIterator={hasNext:function(){return!1},next:function(){return null}},e.listFromIterator=function(t){for(var e=[];t.hasNext();)e.push(t.next());return e};e.listFromIterator;e.iteratorFromList=function(t){if(!o.isArray(t))throw new Error("iteratorFromList(lst): lst must be an array.");var e=0,r=t.length;return{hasNext:function(){return r>e},next:function(){return t[e++]}}};e.iteratorFromList;e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})};e.uuid;e.normalizedCell=function(t){var e=s(t);return u(t,e)};var a=(e.normalizedCell,r(26)),c=r(24);e._env="dev",e.noop=n,e.defineContract=function(t,r){return"dev"===e._env?function(){try{t.apply(null,arguments)}catch(e){throw"function"==typeof r&&(e.message=r.apply(null,arguments)+"\n"+e.message),r&&(e.message=r+"\n"+e.message),e}}:n};var f=e.defineContract;c.string=a.assert.string,c.unemptyString=a.assert.unemptyString,c.webUrl=a.assert.webUrl,c.length=a.assert.length,c.number=a.assert.number,c.positive=a.assert.positive,c.negative=a.assert.negative,c.odd=a.assert.odd,c.even=a.assert.even,c.integer=a.assert.integer,c["function"]=a.assert["function"],c.array=a.assert.array,c.length=a.assert.length,c.date=a.assert.date,c.object=a.assert.object,c.emptyObject=a.assert.emptyObject,c.instance=a.assert.instance,c.like=a.assert.like,c["null"]=a.assert["null"],c.undefined=a.assert.undefined,c.assigned=a.assert.assigned,c["boolean"]=a.assert["boolean"],e.check=a,e.assert=c,e.ensureMatrixOfDimension=function(t,e,r){return"*"!==t&&c.positive(t),"*"!==e&&c.positive(e),r||(r="input is not a matrix of "+t+" x "+e+"."),f(function(r){c.array(r,"mat is not a JS array"),"*"===t&&(t=r.length),c(r.length===t,"mat length "+r.length+" is not "+t);var n,o;for(n=0;t>n;++n)for(c.array(r[n],"row "+n+" is not a JS array"),"*"===e&&(e=r[n].length),c(r[n].length===e,"row "+n+" has "+r[n].length+" elements instead of "+e),o=0;e>o;++o)c.number(r[n][o],"mat("+[n,o]+") is not a number.")},r)};var p=c.ensureMatrixOfDimension=e.ensureMatrixOfDimension;e.isMatrixOfDimension=function(t,e,r){try{p(e,r)(t)}catch(n){return!1}return!0};a.isMatrixOfDimension=e.isMatrixOfDimension;e.ensureVectorOfDimension=function(t,e){return"*"!==t&&c.positive(t),e||(e="input is not a vector of "+t+" dimension."),f(function(e){c.array(e,"vec is not a JS array"),"*"===t&&(t=e.length),c(e.length===t,"vec length "+e.length+" is not "+t);var r;for(r=0;t>r;++r)c.number(e[r],"vec("+r+"): "+e[r]+" is not a number.")},e)};var l=c.ensureVectorOfDimension=e.ensureVectorOfDimension;e.isVectorOfDimension=function(t,e){try{l(e)(t)}catch(r){return!1}return!0};a.isVectorOfDimension=e.isVectorOfDimension},function(t,e){function r(t,e){this._l2r={},this._r2l={},"function"==typeof e&&(this.getKeyOf=e),Array.isArray(t)&&t.forEach(function(t){this.insert(t[0],t[1])},this)}r.prototype.insert=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.getKeyOf(t),n=this.getKeyOf(e);return this._l2r[r]=e,this._r2l[n]=t,this},r.prototype.add=r.prototype.insert,r.prototype.size=function(){return Object.keys(this._l2r).length},r.prototype.empty=function(){return 0===this.size()},r.prototype.clear=function(){return this._l2r={},this._r2l={},this},r.prototype.insertSafe=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.getKeyOf(t);if("undefined"!=typeof this._l2r[r])throw new Error(t+" with key"+r+" exists!");return this.add(t,e),this},r.prototype.getKeyOf=function(t){return t&&t._uid?t._uid:t},r.prototype.belongsTo=function(t){var e=this.getKeyOf(t);return"undefined"!=typeof this._l2r[e]?"left":"undefined"!=typeof this._r2l[e]?"right":"none"},r.prototype.leftFind=function(t){return this._l2r[this.getKeyOf(t)]},r.prototype.rightFind=function(t){return this._r2l[this.getKeyOf(t)]},r.prototype.find=function(t){return this.leftFind(t)||this.rightFind(t)},r.prototype.lookup=r.prototype.find,r.prototype.inLeft=function(t){return"undefined"!=typeof this.leftFind(t)},r.prototype.inRight=function(t){return"undefined"!=typeof this.rightFind(t)},r.prototype.containsObject=function(t){return"undefined"!=typeof this.find(t)},r.prototype.containsPair=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.leftFind(t);return"undefined"!=typeof r?this.getKeyOf(e)===this.getKeyOf(r):!1},r.prototype.contains=function(){var t=Array.prototype.slice.call(arguments),e=t.length;return 1>=e?this.containsObject(t[0]):this.containsPair(t[0],t[1])},r.prototype.leftRemove=function(t){var e=this.leftFind(t);return"undefined"!=typeof e&&(delete this._l2r[this.getKeyOf(t)],this.rightRemove(e)),this},r.prototype.rightRemove=function(t){var e=this.rightFind(t);return"undefined"!=typeof e&&(delete this._r2l[this.getKeyOf(t)],this.leftRemove(e)),this},r.prototype.removePair=function(t,e){return this.containsPair(t,e)&&(delete this._l2r[this.getKeyOf(t)],delete this._r2l[this.getKeyOf(e)]),this},r.prototype.remove=function(){var t=Array.prototype.slice.call(arguments),e=t.length;if(1>=e){var r=t[0];this.inLeft(r)?this.leftRemove(r):this.inRight(r)&&this.rightRemove(r)}else this.removePair(t[0],t[1]);return this},r.prototype.erase=r.prototype.remove,r.prototype.getNodes=function(t){if(!t)return this.getLeftNodes().concat(this.getRightNodes());var e=/[lL](eft)?/.test(t)?this._r2l:this._l2r;return Object.keys(e).map(function(t){return e[t]})},r.prototype.getLeftNodes=function(){return this.getNodes("left")},r.prototype.getRightNodes=function(){return this.getNodes("right")},r.prototype.forEachNode=function(t,e,r){var n=this.getNodes(t);n.forEach(e,r||this)},r.prototype.forEachLeftNode=function(t,e){this.forEachNode("left",t,e)},r.prototype.forEachRightNode=function(t,e){this.forEachNode("right",t,e)},r.prototype.toJSON=function(){var t={};return this.forEachLeftNode(function(e){var r=this.find(e);t[e]=r},this),t},e.Bimap=r},function(t,e){function r(t,e,r){"undefined"==typeof t&&(t=[]),"function"==typeof e&&(this.getKeyOf=e),this._autoRemoveIsolatedNodes=void 0===typeof r?!1:r,this._l2r={},this._r2l={},this.addEdges(t)}r.prototype.getNumOfLeftNodes=function(){return Object.keys(this._l2r).length},r.prototype.getNumOfRightNodes=function(){return Object.keys(this._r2l).length},r.prototype.getNumOfNodes=function(){return this.getNumOfLeftNodes()+this.getNumOfRightNodes()},r.prototype.getNumOfEdges=function(){var t=0;return this.forEachLeftNode(function(e){t+=this.getDegree(e)},this),t},r.prototype.empty=function(){return 0===this.getNumOfNodes()},r.prototype.clear=function(){return this._l2r={},this._r2l={},this},r.prototype.getKeyOf=function(t){return t&&t._uid?t._uid:t},r.prototype.addNode=function(t,e){var r=this.getKeyOf(e),n=/[lL](eft)?/.test(t)?this._l2r:this._r2l;return n[r]={node:e,neighbors:{}},this},r.prototype.addLeftNode=function(t){return this.addNode("l",t)},r.prototype.addRightNode=function(t){return this.addNode("r",t)},r.prototype.addEdges=function(t){return t.forEach(function(t){var e=t[0],r=t[1];this.addEdge(e,r)},this),this},r.prototype.addEdge=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.getKeyOf(t),n=this.getKeyOf(e);return this._l2r[r]||(this._l2r[r]={node:t,neighbors:{}}),this._r2l[n]||(this._r2l[n]={node:e,neighbors:{}}),this._l2r[r].neighbors[n]=e,this._r2l[n].neighbors[r]=t,this},r.prototype.insert=r.prototype.addEdge,r.prototype.removeEdge=function(t,e){if(Array.isArray(t)&&(e=t[1],t=t[0]),this.hasPair(t,e)){var r=this.getKeyOf(t),n=this.getKeyOf(e);delete this._l2r[r].neighbors[n],delete this._r2l[n].neighbors[r],this._autoRemoveIsolatedNodes===!0&&(0===Object.keys(this._l2r[r].neighbors).length&&delete this._l2r[r],0===Object.keys(this._r2l[n].neighbors).length&&delete this._r2l[n])}return this},r.prototype.erase=r.prototype.removeEdge,r.prototype.removeNode=function(t){var e=this.belongsTo(t);return"none"===e?this:(this.getNeighbors(t).forEach(function(r){var n,o;"left"===e?(n=t,o=r):(n=r,o=t),this.removeEdge(n,o)},this),this)},r.prototype.eraseNode=r.prototype.removeNode,r.prototype.hasNode=function(t){var e=this.getKeyOf(t);return this._l2r[e]?!0:this._r2l[e]?!0:!1},r.prototype.hasEdge=function(t,e){var r=this.getKeyOf(t),n=this.getKeyOf(e);if(this._l2r[r]){var o="undefined"!=typeof this._l2r[r].neighbors[n],i="undefined"!=typeof this._r2l[n].neighbors[r];return console.assert(o===i),o}return!1},r.prototype.contains=function(){var t=Array.prototype.slice.call(arguments),e=t.length;return 1>=e?this.hasNode(t[0]):(this.hasEdge(t[0]),t[1])},r.prototype.isAdjacent=function(t,e){return this.hasEdge(t,e)||this.hasEdge(e,t)},r.prototype.hasPair=r.prototype.isAdjacent,r.prototype.getNeighbors=function(t){var e=this.getKeyOf(t),r=null;return this._l2r[e]&&(r=this._l2r[e].neighbors),this._r2l[e]&&(r=this._r2l[e].neighbors),null===r?[]:Object.keys(r).map(function(t){return r[t]})},r.prototype.getDegree=function(t){var e=this.getKeyOf(t);return this._l2r[e]?Object.keys(this._l2r[e].neighbors).length:this._r2l[e]?Object.keys(this._r2l[e].neighbors).length:-1},r.prototype.getGroupName=function(t){var e=this.getKeyOf(t);return this._l2r[e]?"left":this._r2l[e]?"right":"none"},r.prototype.belongsTo=r.prototype.getGroupName,r.prototype.getNodesOfGroup=function(t,e){var r,n=/[lL](eft)?/.test(t)?this._l2r:this._r2l;return r=Object.keys(n).map(function(t){return n[t].node}),"function"==typeof e&&(r=r.filter(e)),r},r.prototype.getLeftNodes=function(t){return this.getNodesOfGroup("left",t)},r.prototype.getRightNodes=function(t){return this.getNodesOfGroup("right",t)},r.prototype.getNodes=function(t){return this.getLeftNodes(t).concat(this.getRightNodes(t))},r.prototype.forEachLeftNode=function(t,e){this.getLeftNodes().forEach(t,e||this)},r.prototype.forEachRightNode=function(t,e){this.getRightNodes().forEach(t,e||this)},r.prototype.forEachNode=function(t,e){this.forEachLeftNode(t,e),this.forEachRightNode(t,e)},r.prototype.forEachEdge=function(t,e){var r=e||this;this.forEachLeftNode(function(e){this.getNeighbors(e).forEach(function(n){t.call(r,e,n)})},this)},r.prototype.toDot=function(){var t=["graph g {"];return this.forEachLeftNode(function(e){this.getNeighbors(e).forEach(function(r){var n=this.getKeyOf(e),o=this.getKeyOf(r);t.push("  "+n+" -- "+o)},this)},this),t.push("}"),t.join("\n")},e.Bipartite=r},function(t,e,r){function n(t,e,r,n){function i(t){return"string"==typeof t?t:u.getKeyOf(t)}this._items={},this._byLabels=new o([],i),this._byTypes={},"function"==typeof e&&(this.getKeyOf=e),"function"==typeof r&&(this.setKeyOf=r),"function"==typeof n&&(this.getTypeOf=n),Array.isArray(t)&&t.forEach(function(t){this.insert(t)},this);var u=this}var o=r(2).Bimap;n.prototype.size=function(){return Object.keys(this._items).length},n.prototype.empty=function(){return 0===this.size()},n.prototype.clear=function(){this._items={},this._byTypes={},this._byLabels.clear()},n.prototype.contains=function(t){return"undefined"!=typeof this.find(t)},n.prototype.has=n.prototype.contains,n.prototype.insert=function(t){var e=this.getKeyOf(t),r=this.getTypeOf(t);return"undefined"!=typeof this._items[e]?!1:(this._items[e]=t,r&&("undefined"==typeof this._byTypes[r]&&(this._byTypes[r]={}),this._byTypes[r][e]=t),!0)},n.prototype.add=n.prototype.insert,n.prototype.erase=function(t){var e=this.getKeyOf(t),r=this.getTypeOf(t);return"undefined"==typeof this._items[e]?!1:(delete this._items[e],r&&(delete this._byTypes[r][e],0===Object.keys(this._byTypes[r]).length&&delete this._byTypes[r]),!0)},n.prototype.remove=n.prototype.erase,n.prototype.find=function(t){var e=this.getKeyOf(t);return this._items[e]},n.prototype.get=n.prototype.find,n.prototype.findInType=function(t,e){var r=this.getKeyOf(t),n=this._byTypes[e];return n?n[r]:void 0},n.prototype.getAllTypes=function(){return Object.keys(this._byTypes)},n.prototype.getTypeOf=function(t){return t&&"function"==typeof t.getType?t.getType():""},n.prototype.forEach=function(t,e){var r,n=this._items,o=e||this;for(r in n)t.call(o,n[r],r)},n.prototype.getKeyOf=function(t){return t&&t._uid?t._uid:t},n.prototype.setKeyOf=function(t,e){this.contains(t)&&(this.erase(t),item._uid=e,this.insert(t))},n.prototype.setLabelOf=function(t,e){this.contains(t)&&("string"==typeof e&&e?this._byLabels.insert(e,t):this._byLabels.remove(t))},n.prototype.unsetLabelOf=function(t){this.setLabelOf(t,"")},n.prototype.getLabelOf=function(t){return this._byLabels.lookup(t)||""},n.prototype.findByLabel=function(t){return this._byLabels.lookup(t)},n.prototype.isLabeled=function(t){return""!==this.getLabelOf(t)},n.prototype.labelExists=function(t){return void 0!==this.findByLabel(t)},n.prototype.getAllLabels=function(){return this._byLabels.getLeftNodes()},n.prototype.getItemsOfType=function(t,e){var r=this._byTypes[t];return r=Object.keys(r).map(function(t){return r[t]}),"function"==typeof e&&(r=r.filter(e)),r},n.prototype.getItems=function(t){var e=this._items;return e=Object.keys(e).map(function(t){return e[t]}),"function"==typeof t&&(e=e.filter(t)),e},e.SetStore=n},function(t,e,r){function n(){this._uid=this.generateUid()}function o(t,e,r,o){n.call(this),t=parseFloat(t),e=parseFloat(e),r=parseFloat(r),this.x=isNaN(t)?0:t,this.y=isNaN(e)?0:e,this.z=isNaN(r)?0:r,this._model=o}function i(t){n.call(this),this._values={spc:new u,forceLoad:new s,dispLoad:new s},this._values.forceLoad.setType("force"),this._values.dispLoad.setType("disp"),this._model=t}function u(){n.call(this),this._comps=_(null,6)}function s(){n.call(this),this._type="",this._values=_(0,6)}function a(t,e){n.call(this),this._nodes=t.slice(),this._model=e;var r=e._nodeEleGraph;this._nodes.forEach(function(t){r.addEdge(t,this)},this)}function c(t){n.call(this),this._model=t}function f(t,e,r){c.call(this,t),this.A=e,this.E=r}function p(t){n.call(this),this._model=t,this._type="",this._factor=1,this._params={},this.setType("Linear")}function l(t,e){n.call(this),this._ts=t,this._model=e}function h(t,e){l.call(this,t,e),this._nodeProps={},this._eleProps={},this._nodalLoads={},this._nodalLoadGraph=new w([],g,!1),this._eleLoads={},this._eleLoadGraph=new w([],g,!1)}function m(){n.call(this),this._objects=new E([],g,v,b),this._nodeEleGraph=new w([],g,!1),this._nodePropGraph=new w([],g,!1),this._elePropGraph=new w([],g,!1),this._patternPropGraph=new w([],g,!1),this._timeSeriesPatternMap=new S([],g)}function y(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return t.replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})}function d(t){this.name="NotImplementedError",this.message=t,this.stack=(new Error).stack}function g(t){return"string"==typeof t||"number"==typeof t?t:t&&"object"==typeof t&&"function"==typeof t.uid?t.uid():"undefined"!=typeof t._uid?t._uid:""}function v(t,e){this.contains(t)&&(this.erase(t),t._uid=e,this.insert(t))}function b(t){return t&&"function"==typeof t.getType?t.getType():"string"==typeof t?"string":"number"==typeof t?"number":Array.isArray(t)?"array":"function"==typeof t?"function":"object"==typeof t?"object":""}function _(t,e){for(var r=new Array(e);e--;)r[e]=t;return r}function x(t,e){if(t&&"function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.slice();if("object"==typeof t){var r,n={};if(e===!0)for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else for(r in t)t.hasOwnProperty(r)&&(n[r]=x(t[r]));return n}return t}var w=r(3).Bipartite,S=r(2).Bimap,E=r(4).SetStore;n.prototype.generateUid=y,n.prototype.uid=function(){return this._uid},n.prototype.getId=function(){return this._model?this._model.getIdOf(this):this._uid},n.prototype.setId=function(t){return this._model&&this._model.setIdOf(this,t),this},n.prototype.getLabel=function(){return this._model?this._model.getLabelOf(this):""},n.prototype.setLabel=function(t){return this._model&&this._model.setLabelOf(this,t),this},n.prototype.getType=function(){throw new d},n.prototype.clone=function(){throw new d},n.prototype.copy=function(){throw new d},n.prototype.toJSON=function(){throw new d},n.prototype.setFromJSON=function(){throw new d},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.getType=function(){return"fe_node"},o.prototype.clone=function(){return new o(this.x,this.y,this.z,this._model)},o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},o.prototype.toJSON=function(){var t={};return t.x=this.x,t.y=this.y,t.z=this.z,t},o.prototype.setFromJSON=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},o.prototype.getElements=function(){var t=this._model,e=t._nodeEleGraph.getNeighbors(this);return Array.isArray(e)?e:[]},o.prototype.isInElement=function(t){var e=this._model._nodeEleGraph;return e.hasEdge(this,t)},o.prototype.isAdjacentTo=function(t){var e=this.getAdjacentNodes();return-1!==e.indexOf(t)},o.prototype.getAdjacentNodes=function(){var t=this.getElements(),e=[],r={};return r[this.uid()]=!0,t.forEach(function(t){var n=t.getNodes();n.forEach(function(t){var n=t.uid();r[n]||(e.push(t),r[n]=!0)})}),e},o.prototype.setConstraint=function(){},o.prototype.getNumOfConstraints=function(){},o.prototype.isFree=function(){},o.prototype.isConstrained=function(){},o.prototype.setFixedIn=function(){},o.prototype.setFreeIn=function(){},o.prototype.isFreeIn=function(){},o.prototype.isFixedIn=function(){},o.prototype.isFixedIn=function(){},i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.getType=function(){return"fe_node_property"},i.prototype.clone=function(){var t=new i(this._model);return t.copy(this),this},i.prototype.copy=function(t){return this._model=t._model,this.setNodes(t.getNodes()),this._values={},this._valuse.spc=new u,this._values.spc.copy(t._values.spc),this._valuse.forceLoad=new s,this._values.forceLoad.copy(t._values.forceLoad),this._valuse.dispLoad=new s,this._values.dispLoad.copy(t._values.dispLoad),this},i.prototype.toJSON=function(){var t={};return t.nodes=this.getNodes().map(g),t.values=this.getValues(),t},i.prototype.getNodes=function(){var t=this._model._nodePropGraph,e=t.getNeighbors(this);return Array.isArray(e)?e:[]},i.prototype.getNumOfNodes=function(){return this.getNodes().length},i.prototype.setNodes=function(t){return this._model.assignNodeProperty(t,this),this},i.prototype.getValues=function(){var t={};return this._values.spc.isConstrained()&&(t.spc=this._values.spc.getValue()),this._values.forceLoad.isZero()||(t.forceLoad=this._values.forceLoad.getValue()),this._values.dispLoad.isZero()||(t.dispLoad=this._values.dispLoad.getValue()),t};var j=["setConstraint","getNumOfConstraints","isFree","isConstrained","setFixedIn","setFreeIn","isFreeIn","isFixedIn"];j.forEach(function(t){i.prototype[t]=function(){var e=this._values.spc[t].apply(this._values.spc,arguments);return e===this._values.spc&&(e=this),e}}),u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.prototype.getType=function(){return"spc"},u.prototype.copy=function(t){return this._comps=x(t._comps),this},u.prototype.clone=function(){var t=new u;return t._comps=x(this._comps),t},u.prototype.toJSON=function(){var t={};return t.components=x(this._comps),t},u.prototype.getValue=function(){return x(this._comps)},u.prototype.setValue=function(t){return this._comps=x(t),this},u.prototype.setConstraint=function(t,e){if(Array.isArray(t))t.forEach(function(t,r){var n=Array.isArray(e)?e[r]:e;this.setConstraint(t,n)},this);else{for(var r=this._comps.length;t>r;++r)this._comps[r]=null;this._comps[t]=e}return this},u.prototype.getNumOfConstraints=function(){var t=0;return this._comps.forEach(function(e){null!==e&&++t}),t},u.prototype.isFree=function(){return 0===this.getNumOfConstraints()},u.prototype.isConstrained=function(){return!this.isFree()},u.prototype.setFixedIn=function(t){Array.isArray(t)||(t=[t]);var e=t.map(function(){return 0});return this.setConstraint(t,e),this},u.prototype.setFreeIn=function(t){Array.isArray(t)||(t=[t]);var e=t.map(function(){return null});return this.setConstraint(t,e),this},u.prototype.isFreeIn=function(t){var e=this._comps[t];return null===e||"undefined"==typeof e},u.prototype.isFixedIn=function(t){return!this.isFree(t)},s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype.getType=function(){return this._type},s.prototype._setType=function(t){return this._type=/^(nodal_)?[dD]isp(lacement)?(_load)?$/.test(t)?"nodal_displacement_load":"nodal_force_load",this},s.prototype.getValues=function(){return this._values.slice()},s.prototype._setValues=function(t){return this._values=t.slice(),this},s.prototype.isZero=function(){return 0===this._values.reduce(function(t,e){return t+e*e},0)},s.prototype.getValueAt=function(t){return"undefined"==typeof t?this.getValues():(Array.isArray(t)||(t=[t]),t.map(function(t){var e=this._values[t];return"number"!=typeof e||isNaN(e)?0:e},this))},s.prototype.setValueAt=function(t,e){if(Array.isArray(t))t.forEach(function(t,r){var n=Array.isArray(e)?e[r]:e;this.setLoad(t,n)},this);else{for(var r=this._values.length;t>r;++r)this._values[r]=0;this._values[t]=e}return this},a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.getType=function(){return"fe_element"},a.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.nodes=this._nodes.map(function(t){return t.uid()}),t},a.prototype.getNodes=function(){return this._nodes.slice()},a.prototype.getNumOfNodes=function(){return this._nodes.length},a.prototype.hasNode=function(t){return-1!==this._nodes.indexOf(t)},a.prototype.isAdjacentTo=function(t){var e=this.getAdjacentElements();return-1!==e.indexOf(t)},a.prototype.getAdjacentElements=function(){var t=[],e={};e[this.uid()]=!0;var r=this._nodes;return r.forEach(function(r){var n=r.getElements();n.forEach(function(r){var n=r.uid();e[n]||(t.push(r),e[n]=!0)})}),t},c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.getType=function(){return""},c.prototype.getElements=function(){var t=this._model._elePropGraph,e=t.getNeighbors(this);return Array.isArray(e)?e:[]},c.prototype.setElements=function(t){var e=(this.uid(),this._model._elePropGraph);return Array.isArray(t)||(t=[t]),t.forEach(function(t){e.addEdge(t,this)},this),this},c.prototype.getValue=function(){return null},c.prototype.setValue=function(){return this},f.prototype=Object.create(c.prototype),f.prototype.constructor=f,f.prototype.getType=function(){return"truss"},f.prototype.copy=function(t){return this._model=t._model,this.A=t.A,this.E=t.E,this},f.prototype.clone=function(){return new f(this._model,this.A,this.E)},p.prototype=Object.create(n.prototype),p.prototype.constructor=p,p.prototype.getType=function(){return this._type},p.prototype.setType=function(t){if(/^[lL]inear$/.test(t))this._type="linear";else{if(!/^[cC]onstant$/.test(t))throw new Error("Unknown time series type"+t+"!");this._type="constant"}return this},p.prototype.getFactor=function(){return this._factor},p.prototype.setFactor=function(t){return t=parseFloat(t),this._factor=isNaN(t)?1:t,this},p.prototype.getParams=function(){return x(this._params)},p.prototype.setParams=function(t){return this._params=x(t),this},p.prototype.evalAt=function(t){var e=this._type,r=(this._params,this._factor);switch(e){case"linear":return r*t;case"constant":default:return r}},p.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.type=this.getType(),t.factor=this.getFactor(),t.params=this.getParams(),t},l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.prototype.getType=function(){return""},l.prototype.getTimeSeries=function(){return this._ts},l.prototype.setTimeSeries=function(t){return this._ts=t,this},l.prototype.getFactor=function(){return this._ts.getFactor()},l.prototype.setFactor=function(t){return this._ts.setFactor(t),this},l.prototype.setAsCurrent=function(){return this._model.setCurrentPattern(this),this},h.prototype=Object.create(l.prototype),h.prototype.constructor=h,h.prototype.getType=function(){return"plain"},h.prototype.createNodalLoad=function(t,e){var r=new s;return r._setType(e),r._setValues(t),this._nodalLoads[r.uid()]=r,r},h.prototype.createNodalLoad=function(t,e){var r=new s;return r._setType(e),r._setValues(t),this._nodalLoads[r.uid()]=r,r},h.prototype.createBeamUniformLoad=function(){return null},h.prototype.createBeamPointLoad=function(){return null},h.prototype.assignNodalLoad=function(t,e){var r=this._nodalLoadGraph;return Array.isArray(t)||(t=[t]),t.forEach(function(t){r.addEdge(t,e)}),this},h.prototype.getNodalLoad=function(t){var e,r=this._nodalLoadGraph,n={};return e=r.hasNode(t)?r.getNeighbors()[0]:new s,n.type=e.getType(),n.values=e.getValues(),n},h.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.type=this.getType(),t.nodalLoads=Object.keys(this._nodeProps).map(function(t){return this[t].toJSON()},this._nodeProps),t.eleProps=Object.keys(this._eleProps).map(function(t){return this[t].toJSON()},this._eleProps),t},m.prototype=Object.create(n.prototype),m.prototype.constructor=m,m.prototype.find=function(t){return this._objects.find(t)},m.prototype.getObject=m.prototype.find,m.prototype.findInType=function(t,e){return this._objects.findInType(t,e)},m.prototype.findNode=function(t){return this.findInType(t,"fe_node")},m.prototype.findElement=function(t){return this.findInType(t,"fe_element")},m.prototype.setIdOf=function(t,e){this._objects.setKeyOf(t,e)},m.prototype.getIdOf=function(t){return this._objects.getKeyOf(t)},m.prototype.setLabelOf=function(t,e){this._objects.setLabelOf(t,e)},m.prototype.getLabelOf=function(t){return this._objects.getLabelOf(t)},m.prototype.findByLabel=function(t){return this._objects.findByLabel(t)},m.prototype.createNode=function(t,e,r){Array.isArray(t)&&(e=t[1],r=t[2],t=t[0]);var n=new o(t,e,r,this);return this._objects.insert(n),n},m.prototype.createElement=function(t){var e=new a(t,this);return this._objects.insert(e),e},m.prototype.assignNodeProperty=function(t,e){var r=this.getCurrentPattern();return r.assignNodeProperty(t,e),this},m.prototype.createNodalLoad=function(t){var e=this.getCurrentPattern();return e.createNodalLoad(t)},m.prototype.assignNodalLoad=function(t){var e=this.getCurrentPattern();return e.assignNodalLoad(t,nodeLoad),this},m.prototype.createElementProperty=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var r;if(/[tT]russ/.test(t)){var n=e.shift(),o=e.shift();r=new f(this,n,o)}},m.prototype.assignElementProperty=function(t,e){var r=this._elePropGraph;return Array.isArray(t)||(t=[t]),t.forEach(function(t){r.addEdge(t,e)}),this},m.prototype.getNodeProperty=function(t){var e=this.getCurrentPattern();return e.getNodeProperty(t)},m.prototype.createSPC=function(t,e){var r=this.createNodeProperty();return r.setConstraint(t,e),r},m.prototype.assignSPC=function(t,e){return this.assignNodeProperty(t,e),this},m.prototype.createPattern=function(t,e){var r;if(/^[pP]lain$/.test(t))r=new PlainPattern(e,this);else{if(!/^[uU]niform(Excitation)?$/.test(t))throw new Error("Unknown load pattern type "+t+"!");r=new UniformPattern(e,this)}return this.setCurrentPattern(r),r},m.prototype.getCurrentPattern=function(){return this._currentPattern},m.prototype.setCurrentPattern=function(t){var e=g(t);return"undefined"==typeof this._patterns[e]&&(this._patterns[e]=t),this._currentPattern=t,this},m.prototype.getNodes=function(){return this._nodeEleGraph.getLeftNodes()},m.prototype.getElements=function(){return this._nodeEleGraph.getRightNodes()},m.prototype.forEachNode=function(t,e){this._nodes;this._nodeEleGraph.forEachLeftNode(t,e)},m.prototype.forEachElement=function(t,e){this._elements;this._nodeEleGraph.forEachRightNode(t,e)},m.prototype.getAABB=function(){var t=[1/0,-1/0,1/0,-1/0,1/0,-1/0];return this.forEachNode(function(e){e.x<t[0]?t[0]=e.x:e.x>t[1]&&(t[1]=e.x),e.y<t[2]?t[2]=e.y:e.y>t[3]&&(t[3]=e.y),e.z<t[4]?t[4]=e.z:e.z>t[5]&&(t[5]=e.z)}),t},m.prototype.getXRange=function(){return this.getAABB().slice(0,2)},m.prototype.getYRange=function(){return this.getAABB().slice(2,4)},m.prototype.getZRange=function(){return this.getAABB().slice(4)},m.prototype.getXDiff=function(){var t=this.getXRange();return t[1]-t[0]},m.prototype.getYDiff=function(){var t=this.getYRange();return t[1]-t[0]},m.prototype.getZDiff=function(){var t=this.getZRange();return t[1]-t[0]},m.TOL=1e-8,m.prototype.getDimension=function(){var t=m.TOL,e=0;return e+=this.getXDiff()>t?1:0,e+=this.getYDiff()>t?1:0,e+=this.getZDiff()>t?1:0},m.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.nodes=Object.keys(this._nodes).map(function(t){var e=this[t],r=e.toJSON();return r.id=e.uid(),r},this._nodes),t.elements=Object.keys(this._elements).map(function(t){var e=this[t],r=e.toJSON();return r.id=e.uid(),r},this._elements),t.currentPattern=this._currentPattern.uid(),t.patterns=Object.keys(this._patterns).map(function(t){return this[t].toJSON()},this._patterns),t},m.prototype.setFromJSON=function(){return this},m.prototype.copy=function(t){this.setFromJSON(t.toJSON())},m.prototype.clone=function(){this.setFromJSON(other.toJSON())},m.createFromJSON=function(t){var e=new m;t.id&&(e._uid=t.id);var r=(t.refType||"id",t.nodes);Array.isArray(r)&&r.forEach(function(t){var r=e.createNode(t.x,t.y,t.z);t.id&&r.setId(t.id)});var n=t.elements;return Array.isArray(n)&&n.forEach(function(t){var r=t.nodes.map(function(t){return e.getObject(t)}),n=e.createElement(r);t.id&&n.setId(t.id)}),e},d.prototype=new Error,e.FeObject=n,e.FeNode=o,e.FeElement=a,e.FeSPC=u,e.FeModel=m},function(t,e,r){function n(t){return Math.sqrt(k.sum(k.pow(t,2)))}function o(t,e){return t[e-1]}function i(t,e){return t.map(function(t){return[t[e-1]]})}function u(t,e,r){var n=f(t,1),o=f(t,2);":"===e&&(e=E(n,function(t){return t+1})),":"===r&&(r=E(o,function(t){return t+1}));var i=e.length,u=r.length,s=j(i,u,0);return e.forEach(function(e,n){var o=e-1;r.forEach(function(e,r){var i=e-1;s[n][r]=t[o][i]})}),s}function s(t,e,r,n){var o=f(t,1),i=f(t,2);":"===e&&(e=E(o,function(t){return t+1})),":"===r&&(r=E(i,function(t){return t+1}));var u=e.length,s=r.length;"number"==typeof n&&(n=j(u,s,n));var a=t;return e.forEach(function(t,e){var o=t-1;r.forEach(function(t,r){var i=t-1;a[o][i]=n[e][r]})}),a}function a(t,e,r,n){var o=S(t);
return s(o,e,r,n)}function c(t,e,r){"number"!=typeof r&&(r=1);var n=[],o=t;if(r>0)for(;e>=o;)n.push(o),o+=r;else{if(!(0>r))throw new Error("colon(): step must not equals to 0.");for(;o>=e;)n.push(o),o+=r}return n}function f(t,e){return 1===e?t.length:2===e?t[0].length:[t.length,t[0].length]}function p(t,e,r){if(!w.isArray(t)||!w.isArray(e))return!1;if(t.length!==e.length)return!1;if(0===t.length)return!1;var n,o=t.length;for(n=0;o>n;++n)if("number"!=typeof t[n])return!1;for(n=0;o>n;++n)if("number"!=typeof e[n])return!1;var i=r||p.TOLERANCE,u=k.sub(t,e),s=k.norm2(u);if(0===s)return!0;var a=s/k.norm2(e);return i>a}function l(t,e,r){if(t.length!==e.length)return!1;var n=t.length;if(0===n)return!1;var o=t[0].length||0;if(0===o)return!1;if(!e||!e[0]||e[0].length!==o)return!1;var i="number"==typeof r?r:l.TOLERANCE,u=k.sub(t,e),s=k.norm2(u);if(0===s)return!0;var a=s/k.norm2(e);return i>a}function h(t){var e=t[0],r=t[1],n=t[2],o=n.length,i=0,u=0;return{hasNext:function(){return o>i},next:function(){var t,o,s,a;t=r[i],o=u,s=n[i],a=[t,o,s];var c=e[u+1];return++i,i>=c&&++u,a}}}function m(t){if(!w.isArray(t))return!1;if(t.length<=0)return!1;if(!w.isArray(t[0]))return!1;var e=t.length,r=t[0].length;if(0>=r)return!1;var n;for(n=1;e>n;++n)if(!w.isArray(t[n])||t[n].length!==r)return!1;return!0}function y(t){return[t.length,t[0].length]}function d(t,e,r){if("number"==typeof t&&t>0&&"number"==typeof e&&e>0)this._m=t,this._n=e,this._data=w.array2d(t,e,"undefined"!=typeof r?r:0);else if(m(t)){this._data=w.cloneDeep(t);var n=y(t);this._m=n[0],this._n=n[1]}else{if(!(t instanceof d))throw new Error("DenseMatrix(m, n): m and n must be positive integer.");this._m=t._m,this._n=t._n,this._data=w.cloneDeep(t._data)}}function g(t,e,r){var n=new d(t);if(null!==e&&n.m()!==e)throw new Error("ensureMatrixDimension(mat, m, n): mat.m = "+n.m()+" but expect m = "+e);if(null!==r&&n.n()!==r)throw new Error("ensureMatrixDimension(mat, m, n): mat.n = "+n.n()+" but expect n = "+r);return t}function v(t,e,r){if((0|e)!==e||0>=e||(0|r)!==r||0>=r)throw new Error("DokSparseMatrix(ijvLst, m, n): m, n must be positive integer.");this._m=e,this._n=r,this._dict={};var n=w.noopIterator;w.isArray(t)?n=w.iteratorFromList(t):w.isIterator(t)&&(n=t);for(var o,i,u,s;n.hasNext();)o=n.next(),i=o[0],u=o[1],s=o[2],this.set_(i,u,s)}function b(t,e){if((0|e)!==e||0>=e)throw new Error("SparseVector(valueList, dimension): dimension must be positive integer.");this._dim=e,this._dict={};var r=w.noopIterator;w.isArray(t)?r=w.iteratorFromList(t):w.isIterator(t)&&(r=t);for(var n,o,i;r.hasNext();)n=r.next(),o=n[0],i=n[1],0!==i&&this.set_(o,i)}function _(t,e){if(t instanceof v&&e instanceof b)return t.solveSparseVector(e);if(t instanceof v&&w.isArray(e))return t.solveVector(e);throw new Error("mldivide(A, b): unsupported type A or b. A, b: "+t+", "+e)}function x(t){return j(t,t,function(t,e){return t===e?1:0})}var w=r(1),S=w.cloneDeep,E=w.array1d,j=w.array2d,O=w.listFromIterator,k=r(27),A=k.ccsSparse,M=(k.ccsFull,k.ccsLUP),N=k.ccsLUPSolve;w.assign(e,k),e.norm=n,e.nthRow=o,e.nthColumn=i,e.ix=u,e.ixUpdate_=s,e.ixUpdate=a,e.colon=c,e.size=f,p.TOLERANCE=1e-4,e.vecEquals=p,e.vecEql=p,e.array1dEquals=p,l.TOLERANCE=1e-4,e.array2dEquals=l,e.matrixEquals=l,e.matEql=l,e.ccsValueListIterator=h,e.isMatrixLikeArray=m,d.prototype.at=function(t,e){if(t>=0&&t<this._m&&e>=0&&e<this._n)return this._data[t][e];throw new Error("DenseMatrix::at(): index "+[t,e]+" outof bound "+[this.m,this.n])},d.prototype.size=function(){return[this._m,this._n]},d.prototype.m=function(){return this._m},d.prototype.n=function(){return this._n},d.prototype.set_=function(t,e,r){if(0>t||t>=this._m||0>e||e>=this._n)throw new Error("DenseMatrix::set(): index "+[t,e]+" outof bound "+[this.m,this.n]);if("number"!=typeof r)throw new Error("DenseMatrix::set_(i, j, val): val must be a number.");this._data[t][e]=r},d.prototype.toFull=function(){return w.cloneDeep(this._data)},d.prototype.toCcs=function(){return A(this._data)},e.DenseMatrix=d,e.ensureMatrixDimension=g,v.prototype.size=function(){return[this.m,this.n]},v.prototype.m=function(){return this._m},v.prototype.n=function(){return this._n},v.prototype.at=function(t,e){if(t>=0&&t<this._m&&e>=0&&e<this._n)return this._dict[e]&&this._dict[e][t]?this._dict[e][t]:0;throw new Error("DokSparseMatrix::at(i, j): i,j: "+[t,e]+" outof dimension m, n: "+[this._m,this._n])},v.prototype.set_=function(t,e,r){if(t>=0&&t<this._m&&e>=0&&e<this._n){if("number"!=typeof r)throw new Error("DokSparseMatrix::set_(i, j, val): val must be a number. val = "+r);return this._dict[e]||(this._dict[e]={}),void(this._dict[e][t]=r)}throw new Error("DokSparseMatrix::set_(i, j, val): i,j: "+[t,e]+" outof dimension m, n: "+[this._m,this._n])},v.prototype.toFull=function(){var t=this._m,e=this._n,r=j(t,e,0);return Object.keys(this._dict).forEach(function(t){Object.keys(this._dict[t]).forEach(function(e){r[e][t]=this.at(e,t)},this)},this),r},v.prototype.toCcs=function(){var t=this._dict,e=(this._m,this._n),r=[[0],[],[]],n=E(e,function(e){return"undefined"!=typeof t[e]?Object.keys(t[e]).length:0});n.forEach(function(t){var e=r[0],n=e[e.length-1];e.push(n+t)});var o=Object.keys(t).sort(function(t,e){return parseInt(t)-parseInt(e)});return o.forEach(function(e){Object.keys(t[e]).forEach(function(n){var o=t[e][n];r[1].push(n),r[2].push(o)})}),r},v.prototype.toJSON=function(){return{m:this.m,n:this.n,values:this.toValueList()}},v.prototype.toValueList=function(){var t=[],e=this._dict;return Object.keys(e).forEach(function(r){Object.keys(e[r]).forEach(function(n){var o=e[r][n];t.push([r,n,o])})}),t},v.prototype.solveVector=function(t){if(this._m!==this._n)throw new Error("DokSparseMatrix::solve can only be used by square matrix where this.m === this.n.");if(this._m!==t.length)throw new Error("DokSparseMatrix::solve can only be applied to vector of same dimension.");var e=this.toCcs(),r=M(e);return N(r,t)},v.prototype.solveSparseVector=function(t){if(!(t instanceof b))throw new Error("DokSparseMatrix::solveSparseVector(b): b must be a SparseVector.");if(this._m!==t.length())throw new Error("DokSparseMatrix::solve can only be applied to vector of same dimension.");var e=this.toCcs(),r=M(e),n=t.toCcs(),o=N(r,n),i=O(h(o)).map(function(t){return[t[0],t[2]]}),u=new b(i,this._m);return u},e.DokSparseMatrix=v,b.prototype.length=function(){return this._dim},b.prototype.dim=b.prototype.length,b.prototype.nzCount=function(){var t,e=0;for(t in this._dict)++e;return e},b.prototype.at=function(t){if(t>=0&&t<this._dim){var e=this._dict[t];return"number"==typeof e?e:0}throw new Error("SparseVector::at(i): index outof bound.")},b.prototype.valueListIterator=function(){var t=0,e=Object.keys(this._dict),r=e.length,n=this._dict;return e.sort(function(t,e){return parseInt(t)-parseInt(e)}),{hasNext:function(){return r>t},next:function(){var r=e[t],o=[parseInt(r),n[r]];return++t,o}}},b.prototype.equals=function(t,e){var r=this.toList(),n="function"==typeof t.toList?t.toList():t,o=p(r,n,e);return o},b.prototype.set_=function(t,e){if(0>t||t>=this._dim)throw new Error("SparseVector::set_(i): index outof bound.");if("number"!=typeof e)throw new Error("SparseVector::set_(i, val): val must be a number. val = "+e);0!==e&&(this._dict[t]=e)},b.prototype.toCcs=function(){var t,e,r=this._dict,n=(this._dim,[[0,-1],[],[]]),o=0;for(t in r)e=parseInt(t),n[1].push(e),n[2].push(r[e]),++o;return n[0][1]=o,n},b.prototype.toFull=function(){var t=this._dim,e=this._dict;return j(t,1,function(t){return"number"==typeof e[t]?e[t]:0})},b.prototype.toList=function(){var t=this._dim,e=this._dict;return E(t,function(t){return"number"==typeof e[t]?e[t]:0})},e.mldivide=_,e.eye=x,e.SparseVector=b},function(t,e,r){function n(){function t(t){return o.reduce(t,function(t,e){return e.length>t&&(t=e.length),t},0)}var e,r=Array.prototype.slice.call(arguments),n=r.length;if(1===n&&o.isArray(r[0])){if(0===r[0].length)throw new Error("PointSet() Can not determin pointset dimension from []");e=r[0],this._rn=t(e)}else if(2===n&&"number"==typeof r[0]&&"number"==typeof r[1])e=o.array2d(r[0],r[1],0),this._rn=t(e);else if(2===n&&"number"==typeof r[0]&&"function"==typeof r[1])e=o.array1d(r[0],r[1]),this._rn=t(e);else{if(2!==n||!o.isArray(r[0])||"number"!=typeof r[1])throw new Error("PointSet() can not initialize with args: "+r);e=r[0],this._rn=r[1]}this._points=new Array(e.length),o.each(e,function(t,e){var r=o.array1d(this._rn,0);o.each(t,function(t,e){r[e]=t}),this._points[e]=r},this)}var o=r(1),i=r(6),u=i.norm2,s=i.sub;n.prototype.getSize=function(){return this._points.length},n.prototype.__defineGetter__("size",n.prototype.getSize),n.prototype.getRn=function(){return this._rn},n.prototype.__defineGetter__("rn",n.prototype.getRn),n.prototype.clone=function(){return new n(this.toList(),this.rn)},n.prototype.toJSON=function(){var t={};return t.points=this.toList(),t.rn=this.rn,t},n.prototype.toList=function(){return o.cloneDeep(this._points)},n.prototype.equals=function(t){if(this.rn!==t.rn||this.size!==t.size)return!1;var e,r,n=this.size,o=this.rn;for(e=0;n>e;e+=1){var i=this.get(e),u=t.get(e);for(r=0;o>r;++r)if(i[r]!==u[r])return!1}return!0},n.prototype.isEqualTo=n.prototype.equals,n.prototype.get=function(t){if(t>=0&&t<this._points.length)return this._points[t].slice();throw new Error("PointSet::get() index outof bounds.")},n.prototype.set_=function(t,e){if(t>=0&&t<this._points.length){if(e.length!==this.rn)throw new Error("PointSet::set() point dimension is not matched.");var r=this._points;return void o.each(r[t],function(n,o){r[t][o]=e[o]})}throw new Error("PointSet::set() index outof bounds.")},n.prototype.setAtDir_=function(t,e,r){if(0>e||e>=this.getRn())throw new Error("PointSet::setAtDir_() dir is out of range.");if(t>=0&&t<this._points.length){var n=this._points;return void(n[t][e]=r)}throw new Error("PointSet::set() index outof bounds.")},n.prototype.forEach=function(t){var e,r,n;for(e=0,r=this.getSize();r>e;++e)n=this.get(e),t(n,e)},n.prototype.map=function(t){var e=new Array(this.getSize());return this.forEach(function(r,n){e[n]=t(r,n)}),new n(e)},n.prototype.filter=function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(r)}),new n(e,this._rn)},n.prototype.embed=function(t){return this.map(function(e){return o.embed(e,t)})},n.prototype.extrude=function(t){var e=t.reduce(function(t,e){var r=t[t.length-1];return t.push(r+e),t},[0]),r=this.rn,i=this._points,u=o.reduce(e,function(t,e){return o.each(i,function(r){var n=o.clone(r);n.push(e),t.push(n)}),t},[]);return new n(u,r+1)},n.prototype.findOne=function(t){var e,r,n=this.getSize();for(e=0;n>e;++e)if(r=this.get(e),t(r,e)===!0)return r;return null},n.prototype.contains=function(t,e){var r=e||n.DEFAULT_PRECISION;return o.isArray(t)&&t.length===this.rn?null!==this.findOne(function(e){return u(s(e,t))<r}):!1},n.prototype.merged=function(t){var e=t||n.DEFAULT_PRECISION,r=[];return this.forEach(function(t){var n=o.any(r,function(r){return u(t,r)<e});n||r.push(t)}),new n(r,this.rn)},n.DEFAULT_PRECISION=1e-6,n.prototype.combineWith=function(t){if(this.rn!==t.rn)throw new Error("Pointset::combineWith(other): pointset rn dismatch.");var e=this.toList();return t.forEach(function(t){e.push(t)}),new n(e,this.rn)},n.prototype.fuse=n.prototype.combineWith,n.prototype.rotate=function(){throw new Error("PointSet::rotate(dims, values) is not implemented")},n.prototype.scale=function(t,e){if(o.isArray(t)&&o.isArray(e)&&t.length===e.length){if(o.max(t)+1>this.rn)throw new Error("PointSet::scale(dims, values): dim must be no greater than rn.");return this.map(function(r){return t.forEach(function(t,n){r[t]=r[t]*e[n]}),r})}throw new Error("PointSet::scale(dims, values): dims and values must be array of same length.")},n.prototype.translate=function(t,e){if(o.isArray(t)&&o.isArray(e)&&t.length===e.length){if(o.max(t)+1>this.rn)throw new Error("PointSet::translate(dims, values): dim must be no greater than rn.");return this.map(function(r){return t.forEach(function(t,n){r[t]=r[t]+e[n]}),r})}throw new Error("PointSet::translate(dims, values): dims and values must be array of same length.")},n.prototype.transform=function(){throw new Error("PointSet::transform(matrix) is not implemented")},n.prototype.prod=function(){throw new Error("PointSet::prod(other) is not implemented.")},e.PointSet=n},function(t,e,r){function n(t,e){if(!m.isArray(t))throw new Error("Topology(): complexes must be a list of connectiviy list.");var r,n,o,i,u,s,a,c,f;for(i=t.length,r=0;i>r;++r){if(u=t[r],!m.isArray(u))throw new Error("Topology(): connectivity list must be an array.");if(s=u.length,s>0){if(c=u[0],!m.isArray(c))throw new Error("Topology(): cell index list must be an array.");for(a=c.length,n=0;s>n;++n){if(c=u[n],!m.isArray(c))throw new Error("Topology(): cell index list must be an array.");if(c.length!==a)throw new Error("Topology(): inconsist cell size.");for(o=0;a>o;++o)if(f=c[o],(0|f)!==f)throw new Error("Topology: cell index must be an integer.")}}}var p=m.cloneDeep(t);this._complexes=p;var l=[];if(m.isArray(e)&&e.length===this._complexes.length)this._cellSizes=m.clone(e);else if(this._cellSizes=this._complexes.map(function(t,e){return 0===t.length?(l.push("Topology(): Can not determine the dim of cells in dim "+e),-1):t[0].length}),l.length>0)throw new Error(l.join("\n"))}function o(t){var e=[t[0]],r=[t[1]];return[e,r]}function i(t){var e=[t[0],t[1]],r=[t[1],t[2]],n=[t[2],t[3]],o=[t[3],t[0]];return[e,r,n,o]}function u(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],u=t[5],s=t[6],a=t[7],c=[e,o,n,r],f=[e,r,u,i],p=[r,n,s,u],l=[n,o,a,s],h=[e,i,a,o],m=[i,u,s,a];return[c,f,p,l,h,m]}function s(t,e){var r;if(1===e)r=o;else if(2===e)r=i;else{if(3!==e)throw new Error("hypercubeBoundaryCells(conn, dim): dim ("+e+") is not valid.");r=u}var n=function(t){return g(t).join(",")},s={},a=[];return t.forEach(function(t){var e=r(t);e.forEach(function(t){var e=n(t);s[e]||(a.push(t),s[e]=!0)})}),a}function a(t){return"number"==typeof t[0]?[t.map(function(t){return[t]})]:[d(t)]}function c(t){var e=y(2,function(){return null});return e[1]=d(t),e[0]=s(e[1],1),e}function f(t){var e=y(3,function(){return null});return e[2]=d(t),e[1]=s(e[2],2),e[0]=s(e[1],1),e}function p(t){var e=y(4,function(){return null});return e[3]=d(t),e[2]=s(e[3],3),e[1]=s(e[2],2),e[0]=s(e[1],1),e}function l(t,e){if(0===e)return new n(a(t));if(1===e)return new n(c(t));if(2===e)return new n(f(t));if(3===e)return new n(p(t));throw new Error("hypercube(conn, dim): dim must be one of 0,1,2,3.")}function h(){var t=[];return new n(t)}var m=r(1),y=m.array1d,d=m.cloneDeep,g=m.normalizedCell,v=m.byLexical,b=m.Bimap;n.prototype.getDim=function(){return this._complexes.length-1},n.prototype.__defineGetter__("dim",n.prototype.getDim),n.prototype.getNumOfCellsInDim=function(t){if(0>t||t>this.getDim())throw new Error("Topology::getNumOfCellsInDim(): dim out of bound.");return this._complexes[t].length},n.prototype.getCellSizeInDim=function(t){if(0>t||t>this.getDim())throw new Error("Topology::getCellSizeInDim(): dim out of bound.");return this._cellSizes[t]},n.prototype.toList=function(){return m.cloneDeep(this._complexes)},n.prototype.toJSON=function(){return{complexes:this.toList()}},n.prototype.clone=function(){var t=new n([]);return t._complexes=this.toList(),t._cellSizes=m.cloneDeep(this._cellSizes),t},n.prototype.normalized=function(){var t=d(this._complexes);return t.forEach(function(t){t.forEach(function(e,r){t[r]=g(e)}),t.sort(v)}),new n(t,this._cellSizes)},n.prototype.equals=function(t){if(this.getDim()!==t.getDim())return!1;var e,r=this.getDim();for(e=0;r>=e;++e)if(this.getCellSizeInDim(e)!==t.getCellSizeInDim(e))return!1;var n,o;for(e=0;r>=e;++e)for(o=this.getNumOfCellsInDim(e),n=0;o>n;++n)if(!m.isEqual(this._complexes[e][n],t._complexes[e][n]))return!1;return!0},n.prototype.getCellsInDim=function(t){return m.cloneDeep(this._complexes[t])},n.prototype.getMaxCells=function(){return this.getCellsInDim(this.getDim())},n.prototype.getPointIndices=function(){return this._complexes[0].map(function(t){return t[0]})},n.prototype.boundary=function(){throw new Error("Topology::boundary(): is not implemented.")};new b([[0,1],[1,2],[2,4],[3,8]]);h.prototype=Object.create(n.prototype),h.prototype.constructor=h,e.Topology=n,e.hypercube=l,e.simplex=h},function(t,e,r){function n(t,e){var r=u(e),n=r[0],o=r[1];if(n===o)return s(n);var i=e.map(function(t){return[t[0]]});switch(i=a(i,c(i)),o){case 1:return i;case 2:throw new Error("genISORm: ntan = "+o+" is not implemented.");default:throw new Error("genISORm: incorrect size of tangents, ntan = "+o)}}function o(t){var e,r=t.length;if(3===r)e=[[0,-t[2],t[1]],[t[3],0,-t[0]],[-t[1],t[0],0]];else{if(2!==r)throw new Error("skewmat(theta): theta must be a vector of 2 or 3.");e=[-t[1],t[0]]}return e}var i=r(6),u=i.size,s=i.eye,a=i.div,c=i.norm2;e.genISORm=n,e.skewmat=o},function(t,e,r){function n(t){this._xyz=s.instance(t.xyz,p)?t.xyz.clone():new p(t.xyz)}{var o=r(1),i=o.cloneDeep,u=o.embed,s=o.check,a=o.assert,c=o.defineContract,f=o.isMatrixOfDimension,p=(o.vectorOfDimension,r(7).PointSet);c(function(t){if(a.object(t),a.assigned(t.xyz),!(f(t.xyz,"*",1)||f(t.xyz,"*",2)||f(t.xyz,"*",3)||s.instance(t.xyz,p)))throw new Error("Not valid xyz for fens.")},"Input is not a valid fens option.")}n.prototype.dim=function(){return this._xyz.getRn()},n.prototype.xyz=function(){return this._xyz.toList()},n.prototype.xyzById=function(t){return this._xyz.get(t-1)},n.prototype.get=n.prototype.xyzById,n.prototype.xyzIter=function(){var t=0,e=this._xyz,r=e.getSize();return{hasNext:function(){return r>t},next:function(){return e.get(t++)}}},n.prototype.xyz3=function(){return this._xyz.embed(3).toList()},n.prototype.xyz3ById=function(t){return u(this._xyz.get(t-1),3)},n.prototype.xyz3Iter=function(){var t=this.xyzIter();return{hasNext:function(){return t.hasNext()},next:function(){return u(t.next(),3)}}},n.prototype.count=function(){return this._xyz.getSize()},n.prototype.boxSelect=function(t){function e(t,e){var r,n,o,i,u=t.length,s=!0;for(r=0;u>r;++r)if(n=t[r],o=e[2*r],i=e[2*r+1],o>n||n>i)return!1;return s}if(!t||!t.bounds||t.bounds.length!==2*this.dim())throw new Error("FeNodeSet::boxSelect() invalid options.bounds");var r,n,o=i(t.bounds),u=o.length;if("number"==typeof t.inflate)for(n=Math.abs(t.inflate),r=0;u>r;++r)r%2==0?o[r]-=n:o[r]+=n;var s,a,c=(this.dim(),this.nfens()),f=[];for(s=1;c>=s;++s)a=this.xyzById(s),e(a,o)&&f.push(s);return f},n.prototype.nfens=n.prototype.count,e.FeNodeSet=n},function(t,e,r){function n(t,e){var r=[];return e.forEach(function(e){return r.push(u(t[e]))}),r}var o=r(1),i=o.uuid,u=o.cloneDeep,s=(o.noop,o.defineContract,o.assert),a=o.check,c=a.assigned,f=a.object,p=a.instance,l=a.number,h=a["function"],m=(s.matrixOfDimension,s.vectorOfDimension,r(6)),y=m.size,d=m.norm,g=m.nthColumn,v=m.dot,b=m.mul,_=m.inv,x=m.det,w=m.transpose,S=r(9),E=S.skewmat,j=r(8),O=j.Topology,k=j.hypercube;e.GCellSet=function(t){if(!f(t)||!p(t.topology,O))throw new Error("GCellSet#constructor(options): options is not a valid GCellSetInitOption.");this._axisSymm=null,this._otherDimension=null,this._id=null,this._topology=null,this._otherDimension=l(t.otherDimension)||h(t.otherDimension)?t.otherDimension:1,this._axisSymm=c(t.axisSymm)?!!t.axisSymm:!1;var e=t.topology,r=e.getCellSizeInDim(e.getDim()),n=this.cellSize();if(r!==n)throw new Error("GCellSet(): cellSize of the topology dismatch.");var o=e.getDim(),u=this.dim();if(o!==u)throw new Error("GCellSet(): dim of the topology dismatch.");this._id=i(),this._topology=e};var A=e.GCellSet;e.GCellSet.prototype.topology=function(){return this._topology},e.GCellSet.prototype.otherDimension=function(t,e,r){return"function"==typeof this._otherDimension?this._otherDimension(t,e,r):this._otherDimension},e.GCellSet.prototype.axisSymm=function(){return this._axisSymm},e.GCellSet.prototype.vertices=function(){return this._topology.getPointIndices()},e.GCellSet.prototype.edges=function(){return this._topology.getCellsInDim(1)},e.GCellSet.prototype.triangles=function(){return this._topology.getCellsInDim(2)},e.GCellSet.prototype.type=function(){throw new Error("GCellSet::type(): is not implemented.")},e.GCellSet.prototype.boundaryGCellSetConstructor=function(){throw new Error("GCellSet::getBoundaryGCellSetConstructor(): is not implemented.")},e.GCellSet.prototype.boundaryCellType=function(){var t=this.boundaryGCellSetConstructor();return t.prototype.type.call(null)},e.GCellSet.prototype.boundary=function(){var t=this.boundaryGCellSetConstructor(),e=this._topology.boundary();return new t({topology:e})},e.GCellSet.prototype.dim=function(){throw new Error("GCellSet::dim(): is not implemented.")},e.GCellSet.prototype.cellSize=function(){throw new Error("GCellSet::cellSize(): is not implemented.")},e.GCellSet.prototype.id=function(){return this._id},e.GCellSet.prototype.conn=function(){return this._topology.getMaxCells()},e.GCellSet.prototype.jacobianMatrix=function(t,e){return b(w(e),t)},e.GCellSet.prototype.bfun=function(){throw new Error("GCellSet::bfun(): is not implemented.")},e.GCellSet.prototype.bfundpar=function(){throw new Error("GCellSet::bfundpar(): is not implemented.")},e.GCellSet.prototype.bfundsp=function(t,e){var r=b(w(e),t),n=v(t,_(r));return n},e.GCellSet.prototype.count=function(){return this._topology.getNumOfCellsInDim(this._topology.getDim())},e.GCellSet.prototype.nfens=function(){return this._topology.getNumOfCellsInDim(0)},e.GCellSet.prototype.subset=function(t){var e=n(this.conn(),t),r=this.constructor;return new r({conn:e,axisSymm:this._axisSymm,otherDimension:this._otherDimension})},e.GCellSet.prototype.clone=function(){var t=this.constructor;return new t({topology:this._topology.clone(),axisSymm:this._axisSymm,otherDimension:this._otherDimension})},e.GCellSetManifold0=function(t){A.call(this,t)};var M=e.GCellSetManifold0;M.prototype=Object.create(A.prototype),M.prototype.constructor=M,e.GCellSetManifold0.prototype.dim=function(){return 0},e.GCellSetManifold0.prototype.jacobian=function(){var t=1;return t},e.GCellSetManifold0.prototype.jacobianCurve=function(t,e,r,n){var o,i;return this.axisSymm()?(i=v(w(e),n)[0],o=2*Math.PI*i[0]):o=1*this.otherDimension(t,e,n),o},e.GCellSetManifold0.prototype.jacobianSurface=function(t,e,r,n){var o,i;return this.axisSymm()?(i=v(w(e),n)[0],o=2*Math.PI*i[0]*this.otherDimension(t,e,n)):o=1*this.otherDimension(t,e,n),o},e.GCellSetManifold0.prototype.jacobianVolumn=function(t,e,r,n){var o;if(this.axisSymm()){var i=b(w(e),n)[0];o=2*this.jacobianCurve(t,e,r,n)*Math.PI*i[0]*this.otherDimension(t,e,n)}else o=this.jacobianCurve(t,e,r,n)*this.otherDimension(t,e,n);return o},e.GCellSetManifold0.prototype.jacobianInDim=function(t,e,r,n,o){var i;switch(o){case 3:i=this.jacobianVolumn(t,e,r,n);break;case 2:i=this.jacobianSurface(t,e,r,n);break;case 1:i=this.jacobianCurve(t,e,r,n);break;default:throw new Error("GCellSetManifold0::jacobianInDim(): wrong dimension "+o)}return i},e.GCellSetManifold1=function(t){A.call(this,t)};var N=e.GCellSetManifold1;N.prototype=Object.create(A.prototype),N.prototype.constructor=N,e.GCellSetManifold1.prototype.dim=function(){return 1},e.GCellSetManifold1.prototype.jacobian=function(t,e,r,n){var o=this.jacobianCurve(t,e,r,n);return o},e.GCellSetManifold1.prototype.jacobianCurve=function(t,e,r){var n=w(r)[0],o=d(n);return o},e.GCellSetManifold1.prototype.jacobianSurface=function(t,e,r,n){var o,i;return this.axisSymm()?(i=v(w(e),n)[0],o=2*this.jacobianCurve(t,e,r,n)*Math.PI*i[0]):o=this.jacobianCurve(t,e,r,n)*this.otherDimension(t,e,n),o},e.GCellSetManifold1.prototype.jacobianVolumn=function(t,e,r,n){var o,i;return this.axisSymm()?(i=v(w(e),n)[0],o=2*this.jacobianCurve(t,e,r,n)*Math.PI*i[0]*this.otherDimension(t,e,n)):o=this.jacobianCurve(t,e,r,n)*this.otherDimension(t,e,n),o},e.GCellSetManifold1.prototype.jacobianInDim=function(t,e,r,n,o){var i;switch(o){case 3:i=this.jacobianVolumn(t,e,r,n);break;case 2:i=this.jacobianSurface(t,e,r,n);break;case 1:i=this.jacobianCurve(t,e,r,n);break;default:throw new Error("GCellSetManifold1::jacobianInDim(): wrong dimension "+o)}return i},e.GCellSetManifold2=function(t){A.call(this,t)};var C=e.GCellSetManifold2;C.prototype=Object.create(A.prototype),C.prototype.constructor=C,e.GCellSetManifold2.prototype.dim=function(){return 2},e.GCellSetManifold2.prototype.jacobian=function(t,e,r,n){return this.jacobianSurface(t,e,r,n)},e.GCellSetManifold2.prototype.jacobianSurface=function(t,e,r){var n,o=y(r),i=o[0],u=o[1];if(2!==u)throw new Error("GCellSetManifold2::jacobianSurface(): is not implemented when ntan is not 2");return i===u?n=r[0][0]*r[1][1]-r[1][0]*r[0][1]:(n=E(g(r,1)),n=v(n,g(r,2)),n=d(n)),n},e.GCellSetManifold2.prototype.jacobianVolumn=function(t,e,r,n){var o,i;return this.axisSymm()?(o=v(w(e),n)[0],i=2*this.jacobianSurface(t,e,r,n)*Math.PI*o[0]):i=this.jacobianSurface(t,e,r,n)*this.otherDimension(t,e,n),i},e.GCellSetManifold2.prototype.jacobianInDim=function(t,e,r,n,o){switch(o){case 3:return this.jacobianVolumn(t,e,r,n);case 2:return this.jacobianSurface(t,e,r,n);default:throw new Error("GCellSetManifold2::jacobianInDim(): unsupported dim "+o)}},e.GCellSetManifold3=function(t){A.call(this,t)};var L=e.GCellSetManifold3;L.prototype=Object.create(A.prototype),L.prototype.constructor=L,e.GCellSetManifold3.prototype.dim=function(){return 3},e.GCellSetManifold3.prototype.jacobian=function(t,e,r,n){var o=this.jacobianVolumn(t,e,r,n);return o},e.GCellSetManifold3.prototype.jacobianVolumn=function(t,e,r){var n,o=y(r),i=(o[0],o[0]);if(3!==i)throw new Error("GCellSetManifold3#jacobianVolumn(): incorrect size of tangents.");return n=x(r)},e.GCellSetManifold3.prototype.jacobianInDim=function(t,e,r,n,o){switch(o){case 3:return this.jacobianVolumn(t,e,r,n);default:throw new Error("GCellSetManifold3::jacobianInDim(): unsupported dim "+o)}},e.P1=function(t){if(!t||!t.conn&&!t.topology)throw new Error("P1#constructor(options): options is not a valid P1InitOption");t.conn&&(t.topology=k(t.conn,0)),M.call(this,t)};var D=e.P1;D.prototype=Object.create(M.prototype),D.prototype.constructor=D,e.P1.prototype.boundaryGCellSetConstructor=function(){return null},e.P1.prototype.edges=function(){return[]},e.P1.prototype.triangles=function(){return[]},e.P1.prototype.cellSize=function(){return 1},e.P1.prototype.type=function(){return"P1"},e.P1.prototype.bfun=function(){return[[1]]},e.P1.prototype.bfundpar=function(){return[[0]]},e.L2=function(t){if(!t||!t.conn&&!t.topology)throw new Error("L2#constructor(options): options is not a valid L2InitOption");t.conn&&(t.topology=k(t.conn,1)),N.call(this,t)};var T=e.L2;T.prototype=Object.create(N.prototype),T.prototype.constructor=T,e.L2.prototype.boundaryGCellSetConstructor=function(){return D},e.L2.prototype.triangles=function(){return[]},e.L2.prototype.cellSize=function(){return 2},e.L2.prototype.type=function(){return"L2"},e.L2.prototype.bfun=function(t){var e=t[0],r=[[.5*(1-e)],[.5*(1+e)]];return r},e.L2.prototype.bfundpar=function(){return[[-.5],[.5]]},e.Q4=function(t){if(!t||!t.conn&&!t.topology)throw new Error("Q4#constructor(options): options is not a valid Q4InitOption");t.conn&&(t.topology=k(t.conn,2)),C.call(this,t)};var P=e.Q4;P.prototype=Object.create(C.prototype),P.prototype.constructor=P,e.Q4.prototype.cellSize=function(){return 4},e.Q4.prototype.type=function(){return"Q4"},e.Q4.prototype.boundaryGCellSetConstructor=function(){return T},e.Q4.prototype.triangles=function(){var t=this._topology.getCellsInDim(2),e=[];return t.forEach(function(t){var r=[t[0],t[1],t[2]],n=[t[2],t[3],t[0]];e.push(r,n)}),e},e.Q4.prototype.bfun=function(t){var e=1-t[0],r=1+t[0],n=1-t[1],o=1+t[1],i=[[.25*e*n],[.25*r*n],[.25*r*o],[.25*e*o]];return i},e.Q4.prototype.bfundpar=function(t){var e=t[0],r=t[1],n=[[.25*-(1-r),.25*-(1-e)],[.25*(1-r),.25*-(1+e)],[.25*(1+r),.25*(1+e)],[.25*-(1+r),.25*(1-e)]];return n},e.H8=function(t){if(!t||!t.conn&&!t.topology)throw new Error("H8#constructor(options): options is not a valid H8InitOption");t.conn&&(t.topology=k(t.conn,3)),L.call(this,t)};var I=e.H8;I.prototype=Object.create(L.prototype),I.prototype.constructor=I,e.H8.prototype.cellSize=function(){return 8},e.H8.prototype.type=function(){return"H8"},e.H8.prototype.boundaryGCellSetConstructor=function(){return P},e.H8.prototype.triangles=function(){var t=this._topology.getCellsInDim(3),e=[];return t.forEach(function(t){var r=[t[0],t[3],t[1]],n=[t[1],t[3],t[2]],o=[t[0],t[1],t[4]],i=[t[1],t[5],t[4]],u=[t[1],t[2],t[5]],s=[t[6],t[5],t[2]],a=[t[2],t[3],t[7]],c=[t[7],t[6],t[2]],f=[t[0],t[4],t[7]],p=[t[4],t[7],t[3]],l=[t[4],t[5],t[6]],h=[t[6],t[7],t[4]];e.push(r,n,o,i,u,s),e.push(a,c,f,p,l,h)}),e},e.H8.prototype.bfun=function(t){var e=1-t[0],r=1-t[1],n=1-t[2],o=1+t[0],i=1+t[1],u=1+t[2],s=[[.125*e*r*n],[.125*o*r*n],[.125*o*i*n],[.125*e*i*n],[.125*e*r*u],[.125*o*r*u],[.125*o*i*u],[.125*e*i*u]];return s},e.H8.prototype.bfundpar=function(t){var e=1-t[0],r=1-t[1],n=1-t[2],o=1+t[0],i=1+t[1],u=1+t[2],s=[[-r*n,r*n,i*n,-i*n,-r*u,r*u,i*u,-i*u],[-e*n,-o*n,o*n,e*n,-e*u,-o*u,o*u,e*u],[-e*r,-o*r,-o*i,-e*i,e*r,o*r,o*i,e*i]];return s=b(w(s),.125)}},function(t,e,r){var n=r(1),o=n.cloneDeep,i=n.check,u=n.assert,s=i.isVectorOfDimension,a=n.array2d,c=n.array1d,f=n.defineContract,p=u.ensureMatrixOfDimension,l=r(7).PointSet,h=r(10).FeNodeSet,m=f(function(t){if(u.object(t),i.assigned(t.values))p("*","*","values is not a valid matrix.")(t.values);else if(i.assigned(t.nfens)&&i.assigned(t.dim)){if(u.integer(t.nfens),u.integer(t.dim),t.nfens<0)throw new Error("nfens must > 0.");if(t.dim<0)throw new Error("dim must > 0")}else if(i.assigned(t.fens))u.instance(t.fens,h);else{if(!i.assigned(t.pointset))throw new Error("");u.instance(t.pointset,l)}i.assigned(t.ebcs)&&u.array(t.ebcs,"ebcs must be a array of valid EBC object")},"Input is not a valid Field option.");e.Field=function(t){if(m(t),this._values=null,this._prescribed=null,this._prescribedValues=null,this._eqnums=null,this._neqns=-1,i.assigned(t.values)?this._values=new l(t.values):i.assigned(t.pointset)?this._values=t.pointset.clone():i.assigned(t.fens)?this._values=new l(t.fens.xyz()):i.assigned(t.nfens)&&i.assigned(t.dim)&&(this._values=new l(t.nfens,t.dim)),i.assigned(t.ebcs)){var e=a(this.nfens()+1,this.dim()+1,!1),r=a(this.nfens()+1,this.dim()+1,0);this._prescribed=e,this._prescribedValues=r,t.ebcs.forEach(function(t){t.applyToField_(this)},this)}};var y=e.Field;e.Field.prototype.nfens=function(){return this._values.getSize()},e.Field.prototype.neqns=function(){return this._eqnums||this._numberEqnums_(),this._neqns},e.Field.prototype.dim=function(){return this._values.getRn()},e.Field.prototype.values=function(){return this._values.toList()},e.Field.prototype.map=function(t){var e=this._values.map(t),r=new y({pointset:e});return r},e.Field.prototype.clone=function(){var t=this._values.clone(),e=new y({pointset:t});return e._neqns=this._neqns,e._eqnums=o(this._eqnums),e._prescribed=o(this._prescribed),e._prescribedValues=o(this._prescribedValues),e},e.Field.prototype._bop=function(t,e,r){if(i.number(t))return this.map(function(r){return r.map(function(r){return e(r,t)})});if(i.instance(t,y)&&t.dim()===this.dim()&&t.nfens()===this.nfens())return this.map(function(r,n){return r.map(function(r,o){return e(r,t.at(n)[o])})});if(i.array(t)&&t.length===this.dim())return this.map(function(r){return r.map(function(r,n){return e(r,t[n])})});throw new Error("Field::"+r+"(other, bopFn): other must be a number , a field of same this.nfens() and this.dim() or an array of length this.dim().")},e.Field.prototype.bop=function(t,e){return this._bop(t,e,e.name||"custom binary function")},e.Field.prototype.mul=function(t){return this._bop(t,function(t,e){return t*e},"mul")},e.Field.prototype.scale=e.Field.prototype.mul,e.Field.prototype.add=function(t){return this._bop(t,function(t,e){return t+e},"add")},e.Field.prototype.sub=function(t){return this._bop(t,function(t,e){return t-e},"sub")},e.Field.prototype.div=function(t){return this._bop(t,function(t,e){return t/e},"div")},e.Field.prototype.getById=function(t){var e=t-1;return this._values.get(e)
},e.Field.prototype.at=function(t){return this._values.get(t)},e.Field.prototype.pointset=function(){return this._values},e.Field.prototype.isPrescribed=function(t,e){return this._prescribed?this._prescribed[t][e]:!1},e.Field.prototype.prescribedValue=function(t,e){return this.isPrescribed(t,e)?this._prescribedValues[t][e]:0},e.Field.prototype.setPrescribedValue_=function(t,e,r){this._prescribed[t][e]=!0,this._prescribedValues[t][e]=r,this._values.setAtDir_(t-1,e-1,r)},e.Field.prototype._numberEqnums_=function(){var t,e,r=a(this.nfens()+1,this.dim()+1,0),n=0,o=this.nfens(),i=this.dim();for(t=1;o>=t;++t)for(e=1;i>=e;++e)this.isPrescribed(t,e)?r[t][e]=0:(n++,r[t][e]=n);this._eqnums=r,this._neqns=n},e.Field.prototype.eqnum=function(t,e){if(this._eqnums||this._numberEqnums_(),1>t||t>this.nfens())throw new Error("Field::eqnum(): id out of range.");if(1>e||e>this.dim())throw new Error("Field::eqnum(): direction out of range.");return this._eqnums[t][e]},e.Field.prototype.gatherEqnumsVector=function(t){var e=[],r=this.dim();return t.forEach(function(t){var n;for(n=1;r>=n;++n)e.push(this.eqnum(t,n))},this),e},e.Field.prototype.gatherValuesMatrix=function(t){var e=t.length,r=(this.dim(),c(e,null));return t.forEach(function(t,e){var n=t-1;r[e]=this._values.get(n)},this),r},e.Field.prototype.gatherPrescirbedValues=function(t){var e=[],r=this.dim();return t.forEach(function(t){var n;for(n=1;r>=n;++n)e.push(this.prescribedValue(t,n))},this),e},e.Field.prototype.scatterSystemVector_=function(t){var e=this.neqns();if(!s(t,e))throw new Error("Field::scatterSystemVector(): vec is not a vector of dimension "+e);this._eqnums||this._numberEqnums_();var r,n,o,i,u=this._eqnums,a=this.nfens(),c=this.dim(),f=this._values;for(r=1;a>=r;++r)for(n=1;c>=n;++n)o=u[r][n],0!==o&&(i=t[o-1],f.setAtDir_(r-1,n-1,i))},e.Field=y},function(t,e,r){function n(t){this._rho=t&&"number"==typeof t.rho?t.rho:1}function o(t){d(t),n.call(this,t),this._E=t.E,this._nu=t.nu,s.assigned(this._nu)||(this._nu=0)}var i=r(1),u=i.assert,s=i.check,a=u.ensureMatrixOfDimension,c=a(6,6),f=r(6),p=f.diag,l=f.transpose,h=f.add,m=f.dot,y=f.mul;n.prototype.rho=function(){return this._rho},e.MaterialProperty=n;var d=i.defineContract(function(t){if(u.object(t,"props is not a JS object"),u.undefined(t.G,"props.G should not be set, it is compute from E and nu."),u.positive(t.E,"props.E is not a positive number."),s.assigned(t.nu)&&(u.number(t.nu,"props.nu is not a number."),t.nu<0))throw new Error("props.nu < 0.")},"input is not a valid linear elasitc iso property.");e.LinElIso=o,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.E=function(){return this._E},o.prototype.nu=function(){return this._nu},o.prototype.G=function(){return this._G||(this._G=.5*this._E/(1+this._nu)),this._G};var g=c;o.prototype.D=function(){if(!this._D){var t=this.E(),e=this.nu(),r=(this.G(),t*e/((1+e)*(1-2*e))),n=t/(2*(1+e)),o=p([1,1,1,.5,.5,.5]),i=l([[1,1,1,0,0,0]]);this._D=h(y(r,m(i,l(i))),y(2*n,o))}return g(this._D),this._D}},function(t,e,r){var n=r(1),o=n.check,i=o.object,u=o.instance,s=(n.assert,r(6)),a=s.ix,c=s.ixUpdate_,f=s.mul,p=s.div,l=s.dot,h=s.add,m=r(13),y=m.LinElIso;e.Material=function(){};var d=e.Material;e.Material.prototype.newState=function(){throw new Error("Material::newState(): is not implemented.")},e.Material.prototype.update=function(){throw new Error("Material::update(): is not implemented.")},e.DeforSSLinElUniax=function(t){if(!i(t)||!u(t.property,y))throw new Error("DeforSSLinElUniax#constructor(options): options is not valid DeforSSLinElUniaxInitOption");this._prop=t.property};var g=e.DeforSSLinElUniax;g.prototype=Object.create(d.prototype),g.prototype.constructor=g,e.DeforSSLinElUniax.prototype.tangentModuli=function(){return[[this._prop.E()]]},e.DeforSSLinElBiax=function(t){if(!i(t)||!u(t.property,y))throw new Error("DeforSSLinElBiax#constructor(options): options is not valid DeforSSLinElBiaxInitOption");this._prop=t.property,this._reduction=t.reduction||"strain"};var v=e.DeforSSLinElBiax;v.prototype=Object.create(d.prototype),v.prototype.constructor=v,e.DeforSSLinElBiax.prototype.tangentModuli=function(){var t,e,r=this._prop.D();if("strain"===this._reduction)t=a(r,[1,2,4],[1,2,4]);else if("axisSymm"===this._reduction)t=a(r,[1,2,3,4],[1,2,3,4]);else{if("stress"!==this._reduction)throw new Error("DeforSSLinElBiax::tangentModuli() is ");e=a(r,[1,2],[1,2]),e=h(e,f(-1,p(l(a(r,[1,2],[3]),a(r,[3],[1,2])),r[2][2]))),t=a(r,[1,2,4],[1,2,4]),t=c(t,[1,2],[1,2],e)}return t},e.DeforSSLinElTriax=function(t){if(!i(t)||!u(t.property,y))throw new Error("DeforSSLinElTriax#constructor(options): options is not valid DeforSSLinElTriaxInitOption");this._prop=t.property};var b=e.DeforSSLinElTriax;b.prototype=Object.create(d.prototype),b.prototype.constructor=b,e.DeforSSLinElTriax.prototype.tangentModuli=function(){return this._prop.D()}},function(t,e,r){var n=r(1),o=(n.assert,n.check),i=o.object,u=o["function"],s=o.assigned,a=o.instance,c=(o.isMatrixOfDimension,n.array2d),f=n.array1d,p=(n.defineContract,r(6)),l=p.size,h=p.transpose,m=p.dot,y=p.add,d=p.mul,g=p.inv,v=p.norm,b=p.colon,_=p.ixUpdate_,x=r(14).Material,w=r(11).GCellSet,S=r(19).IntegrationRule,E=r(22).ElementMatrix,j=r(23).ElementVector;e.Feblock=function(){};var O=e.Feblock;e.Feblock.prototype.gcells=function(){return this._gcells},e.Feblock.prototype.topology=function(){return this._gcells.topology()},e.DeforSS=function(t){if(this._mater=null,this._gcells=null,this._ir=null,this._rm=null,!i(t))throw new Error("DeforSS#constructor(options): option is not a valid DeforSSInitOption.");if(!a(t.material,x))throw new Error("DeforSS#constructor(options): options.material is not a instance of Material");if(!a(t.gcells,w))throw new Error("DeforSS#constructor(options):options.gcells is not a instance of GCellSet");if(!a(t.integrationRule,S))throw new Error("DeforSS#constructor(options):options.integrationRule is not a instance of integrationRule");this._mater=t.material,this._gcells=t.gcells,this._ir=t.integrationRule,s(t.rm)&&(this._rm=t.rm);var e=this._gcells.dim();switch(e){case 1:this.hBlmat=this._blmat1;break;case 2:if(this._gcells.axisSymm())throw new Error("DeforSS::hBlmat() for axixSymm, dim = "+e+" is not implemented.");this.hBlmat=this._blmat2;break;case 3:this.hBlmat=this._blmat3;break;default:throw new Error("DeforSS::hBlmat() for dim "+e+" is not implemented.")}};var k=e.DeforSS;k.prototype=Object.create(O.prototype),k.prototype.constructor=k,e.DeforSS.prototype._blmat1=function(t,e,r,n){var o,i,u,s,a,p,h=l(e,1),m=l(r,2),y=c(1,h*m,0);if(!n)throw new Error("_blmat1: not implmented when !Rm");for(u=n.map(function(t){return t[0]}),o=1;h>=o;++o)s=m*(o-1),a=m*o-1,p=a-s,i=f(p+1,function(t){return s+t}),i.forEach(function(t,r){y[0][t]=e[o-1][0]*u[r]});return y},e.DeforSS.prototype._blmat2=function(t,e,r,n){var o,i,u,s=l(e,1),a=l(r,2),f=c(3,s*a,0);if(!n)throw new Error("_blmat1: not implmented when !Rm");for(o=1;s>=o;++o)i=b(a*(o-1)+1,a*o),u=[[e[o-1][0],0],[0,e[o-1][1]],[e[o-1][1],e[o-1][0]]],f=_(f,":",i,u);return f},e.DeforSS.prototype._blmat3=function(t,e,r,n){var o,i,u,a,f,p=l(e,1),y=c(6,3*p);if(s(n))for(u=h(n),o=1;p>=o;++o)a=b(3*(o-1)+1,3*o),f=[[e[o-1][0],0,0],[0,e[o-1][1],0],[0,0,e[o-1][2]],[e[o-1][1],e[o-1][0],0],[e[o-1][2],0,e[o-1][0]],[0,e[o-1][2],e[o-1][1]]],f=m(f,u),_(y,":",a,f);else for(o=0;p>o;++o)i=3*o,y[0][i]=e[o][0],y[1][i+1]=e[o][1],y[2][i+2]=e[o][2],y[3][i]=e[o][1],y[3][i+1]=e[o][0],y[4][i]=e[o][2],y[4][i+2]=e[o][0],y[5][i+1]=e[o][2],y[5][i+2]=e[o][1];return y},k.prototype.stiffness=function(t,e){var r,n=this._gcells,o=n.cellSize(),i=this._ir,s=i.paramCoords(),a=i.weights(),p=i.npts(),l=[],v=[];for(r=0;p>r;++r)l[r]=n.bfun(s[r]),v[r]=n.bfundpar(s[r]);var b=null;u(this._rm)&&(b=this._rm);var _,x=this._rm,w=this._mater,S=n.conn(),j=n.count(),O=new Array(j),k=new Array(j),A=t.dim();for(_=0;j>_;++_)k[_]=e.gatherEqnumsVector(S[_]),O[_]=c(A*o,A*o,0);var M,N,C,L,D,T,P,I,F,V=f(t.nfens(),function(t){return t+1}),q=t.gatherValuesMatrix(V);for(_=0;j>_;++_)for(M=S[_],N=M.map(function(t){return q[t-1]}),r=0;p>r;++r){if(C=m(h(l[r]),N),L=m(h(N),v[r]),b&&(x=b(C,L)),D=x?m(v[r],g(m(h(x),L))):m(v[r],g(L)),T=n.jacobianVolumn(M,l[r],L,N),0>T)throw new Error("Non-positive Jacobian");P=this.hBlmat(l[r],D,C,x),I=w.tangentModuli({xyz:C}),F=m(m(h(P),d(I,T*a[r])),P),O[_]=y(O[_],F)}var z=O.map(function(t,e){return new E(t,k[e])});return z},k.prototype.noneZeroEBCLoads=function(t,e){var r,n,o,i,u,s,a,c,f=this._gcells,p=f.count(),l=f.conn(),h=[];for(r=0;p>r;++r)n=l[r],o=e.gatherPrescirbedValues(n),0!==v(o)&&(i=new k({material:this._mater,gcells:this._gcells.subset([r]),integrationRule:this._ir,rm:this._rm}),u=i.stiffness(t,e),s=u[0].matrix,a=d(-1,m(s,o)),c=e.gatherEqnumsVector(n),h.push(new j(a,c)));return h},e.DeforSS=k},function(t,e,r){function n(t,e){if(t instanceof a&&e instanceof c)return t.dokMatrix().solveSparseVector(e.sparseVector()).toList();if(t instanceof a&&i(e))return t.dokMatrix().solveVector(e);throw new Error("system.solve(): unsupported type A and b.")}var o=r(1),i=o.isArray,u=r(22),s=r(23),a=u.SparseSystemMatrix,c=s.SparseSystemVector;e.matrix=u,e.vector=s,e.mldivide=n},function(t,e,r){function n(t){var e=t.ids||t.id,r=t.dirs||t.dir,n=t.magns||t.magn;i.array(e)||(e=[e]),i.array(r)||(r=[r]),i.array(n)||(n=[n]),this._ids=e,this._dirs=r,this._magns=n}var o=r(1),i=o.check,u=r(23).ElementVector;n.prototype.loads=function(t){var e,r,n,o,i,s,a=this._ids.length,c=this._dirs.length,f=[],p=[];for(e=0;a>e;++e)for(o=this._ids[e],r=0;c>r;++r)i=this._dirs[r],n=t.eqnum(o,i),s=this._magns[r],f.push(s),p.push(n);return new u(f,p)},e.NodalLoad=n},function(t,e,r){var n=r(1),o=n.check,i=o.object,u=o.array,s=o.assigned,a=o["function"],c=r(6),f=c.transpose;e.ForceIntensity=function(t){if(!i(t)||!s(t.magn))throw new Error("ForceIntensity#constructor(options): option is not a valid ForceIntensityInitOption.");if(u(t.magn))this._magn=function(){return f([t.magn])};else{if(!a(t.magn))throw new Error("ForceIntensity#constructor(options): options.magn is not array or function.");this._magn=t.magn}};e.ForceIntensity;e.ForceIntensity.prototype.magn=function(t,e){return this._magn(t,e)}},function(t,e,r){function n(){}function o(t,e){var r,n;switch(e){case 1:r=[0],n=[2];break;case 2:r=[-.577350269189626,.577350269189626],n=[1,1];break;case 3:r=[-.774596669241483,0,.774596669241483],n=[.5555555555555556,.888888888888889,.5555555555555556];break;case 4:r=[-.86113631159405,-.33998104358486,.33998104358486,.86113631159405],n=[.34785484513745,.65214515486255,.65214515486255,.34785484513745];break;default:throw new Error("GaussRule(dim, order): for order = "+e+" is not implemented.")}var o,i,u,a,c;switch(t){case 1:o=s([r]),i=n;break;case 2:for(o=[],i=[],u=0;e>u;++u)for(a=0;e>a;++a)o.push([r[u],r[a]]),i.push(n[u]*n[a]);break;case 3:for(o=[],i=[],u=0;e>u;++u)for(a=0;e>a;++a)for(c=0;e>c;++c)o.push([r[u],r[a],r[c]]),i.push(n[u]*n[a]*n[c]);break;default:throw new Error("GaussRule(dim, order): for dim = "+t+" is not implemented.")}this._paramCoords=o,this._weights=i}var i=r(1),u=r(6),s=u.transpose,a=i.cloneDeep;n.prototype.paramCoords=function(){throw new Error("IntegrationRule::paramCoords(): must be overrided by subclass.")},n.prototype.weights=function(){throw new Error("IntegrationRule::weights(): must be overrided by subclass.")},n.prototype.npts=function(){throw new Error("IntegrationRule::npts(): must be overrided by subclass.")},n.prototype.dim=function(){throw new Error("IntegrationRule::dim(): must be overrided by subclass.")},e.IntegrationRule=n,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.paramCoords=function(){return a(this._paramCoords)},o.prototype.weights=function(){return a(this._weights)},o.prototype.npts=function(){return this._paramCoords.length},o.prototype.dim=function(){return this._paramCoords[0].length},e.GaussRule=o},function(t,e,r){function n(t){if(i["function"](t.id))this._idIterFn=t.id;else if("all"===t.id)this._idIterFn=function(t){var e=0,r=t.nfens();return{hasNext:function(){return r>e},next:function(){return++e}}};else if(i.array(t.id))this._idIterFn=function(){return u(t.id)};else{if(!i.number(t.id))throw new Error("EBC(): options.id is not valid.");this._idIterFn=function(){return u([t.id])}}if(i.array(t.value))this._valFn=function(e,r,n){return t.value[n]};else if(i.number(t.value))this._valFn=function(){return t.value};else{if(!i["function"](t.value))throw new Error("EBC(): options.value is not valid.");this._valFn=t.value}if(i.number(t.dir))this._dirs=[t.dir];else{if(!i.array(t.dir))throw new Error("EBC(): options.dir is not valid.");this._dirs=t.dir}}var o=r(1),i=o.check,u=(o.isArray,o.isIterator,o.iteratorFromList);e.EBC=n,n.prototype.applyToField_=function(t){for(var e,r=this._idIterFn(t),n=this._valFn,o=this._dirs,i=0;r.hasNext();)e=r.next(),o.forEach(function(r){var o=n(e,r,i,t);t.setPrescribedValue_(e,r,o)}),++i},e.EBC},function(t,e,r){function n(t){u(t)||(t={}),this._fens=t.fens,this._gcells=t.gcells}var o=r(1),i=o.check,u=i.object,s=(o.array2d,r(10)),a=s.FeNodeSet,c=r(11),f=c.Q4,p=c.H8;n.prototype.fens=function(){return this._fens},n.prototype.gcells=function(){return this._gcells},e.L2x2=function(){var t,e;return t=new a({xyz:[[.5,0],[1,0],[1,.5],[.5,.5],[1,1],[.5,1],[0,1],[0,.5]]}),e=new f({conn:[[1,2,3,4],[4,3,5,6],[4,6,7,8]]}),new n({fens:t,gcells:e})};e.L2x2;e.H8Block=function(t,e,r,o,i,u){function s(t,e,r,n,o,i){return t*o*i+e*i+r}function c(t,e,r){return[s(t,e,r,o+1,i+1,u+1),s(t+1,e,r,o+1,i+1,u+1),s(t+1,e+1,r,o+1,i+1,u+1),s(t,e+1,r,o+1,i+1,u+1),s(t,e,r+1,o+1,i+1,u+1),s(t+1,e,r+1,o+1,i+1,u+1),s(t+1,e+1,r+1,o+1,i+1,u+1),s(t,e+1,r+1,o+1,i+1,u+1)]}var f,l,h,m=t/o,y=e/i,d=r/u,g=(o+1)*(i+1)*(u+1),v=new Array(g),b=new Array(o*i*u);for(f=0;o+1>f;++f)for(l=0;i+1>l;++l)for(h=0;u+1>h;++h)v[s(f,l,h,o+1,i+1,u+1)]=[f*m,l*y,h*d];for(f=0;o>f;++f)for(l=0;i>l;++l)for(h=0;u>h;++h)b[s(f,l,h,o,i,u)]=c(f,l,h);b.forEach(function(t){t.forEach(function(e,r){t[r]=e+1})});var _=new a({xyz:v}),x=new p({conn:b}),w=new n({fens:_,gcells:x});return w}},function(t,e,r){function n(t,e){this.matrix=t,this.eqnums=e}function o(t,e){if(!c(e)){if(!a(e))throw new Error("assemble_(dest, sources): sources must be a iterator or array.");e=s(e)}for(var r;e.hasNext();){r=e.next();var n=r.matrix,o=r.eqnums,i=o.map(function(t,e){return{globalIndex:t,localIndex:e}}).filter(function(t){return 0!==t.globalIndex});i.forEach(function(e){var r=e.globalIndex-1,o=e.localIndex;i.forEach(function(e){var i=e.globalIndex-1,u=e.localIndex,s=t.at(r,i),a=n[o][u];t.set_(r,i,s+a)})})}}function i(t,e,r){this._kes=r,this._nrows=t,this._ncols=e,this._dokMatrix=null}var u=r(1),s=u.iteratorFromList,a=u.isArray,c=u.isIterator,f=r(6),p=f.mldivide,l=f.DokSparseMatrix;e.ElementMatrix=n,i.prototype._assemble_=function(){this._dokMatrix=new l([],this._nrows,this._ncols),o(this._dokMatrix,this._kes)},i.prototype.dokMatrix=function(){return null==this._dokMatrix&&this._assemble_(),this._dokMatrix},i.prototype.toFull=function(){return this.dokMatrix().toFull()},i.prototype.mldivide=function(t){var e=this.dokMatrix();return p(e,t)},e.SparseSystemMatrix=i},function(t,e,r){function n(t,e){this.vector=t,this.eqnums=e}function o(t,e){this._dim=t,this._evs=e,this._sparseVector=null}var i=r(1),u=i.iteratorFromList,s=i.isArray,a=i.isIterator,c=r(6),f=c.SparseVector;e.ElementVector=n,e.SparseSystemVector=o,o.prototype._assemble_=function(){var t=this._evs,e=new f([],this._dim);if(!a(t)){if(!s(t))throw new Error("SparseSystemVector::_assemble_: evs must be a iterator or array.");t=u(t)}for(var r,n,o;t.hasNext();)r=t.next(),n=r.vector,o=r.eqnums,o.forEach(function(t,r){if(0!==t){var o=n[r],i=t-1,u=e.at(i);e.set_(i,u+o)}});this._sparseVector=e},o.prototype.sparseVector=function(){return null===this._sparseVector&&this._assemble_(),this._sparseVector},o.prototype.toFull=function(){return this.sparseVector().toFull()}},function(t,e,r){function n(t,e){return h.isUndefined(e)?""+e:h.isNumber(e)&&!isFinite(e)?e.toString():h.isFunction(e)||h.isRegExp(e)?e.toString():e}function o(t,e){return h.isString(t)?t.length<e?t:t.slice(0,e):t}function i(t){return o(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+o(JSON.stringify(t.expected,n),128)}function u(t,e,r,n,o){throw new d.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function s(t,e){t||u(t,!0,e,"==",d.ok)}function a(t,e){if(t===e)return!0;if(h.isBuffer(t)&&h.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return h.isDate(t)&&h.isDate(e)?t.getTime()===e.getTime():h.isRegExp(t)&&h.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:h.isObject(t)||h.isObject(e)?f(t,e):t==e}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(h.isNullOrUndefined(t)||h.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(h.isPrimitive(t)||h.isPrimitive(e))return t===e;var r=c(t),n=c(e);if(r&&!n||!r&&n)return!1;if(r)return t=m.call(t),e=m.call(e),a(t,e);var o,i,u=g(t),s=g(e);if(u.length!=s.length)return!1;for(u.sort(),s.sort(),i=u.length-1;i>=0;i--)if(u[i]!=s[i])return!1;for(i=u.length-1;i>=0;i--)if(o=u[i],!a(t[o],e[o]))return!1;return!0}function p(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function l(t,e,r,n){var o;h.isString(r)&&(n=r,r=null);try{e()}catch(i){o=i}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&u(o,r,"Missing expected exception"+n),!t&&p(o,r)&&u(o,r,"Got unwanted exception"+n),t&&o&&r&&!p(o,r)||!t&&o)throw o}var h=r(29),m=Array.prototype.slice,y=Object.prototype.hasOwnProperty,d=t.exports=s;d.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=i(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=e.name,s=n.indexOf("\n"+o);if(s>=0){var a=n.indexOf("\n",s+1);n=n.substring(a+1)}this.stack=n}}},h.inherits(d.AssertionError,Error),d.fail=u,d.ok=s,d.equal=function(t,e,r){t!=e&&u(t,e,r,"==",d.equal)},d.notEqual=function(t,e,r){t==e&&u(t,e,r,"!=",d.notEqual)},d.deepEqual=function(t,e,r){a(t,e)||u(t,e,r,"deepEqual",d.deepEqual)},d.notDeepEqual=function(t,e,r){a(t,e)&&u(t,e,r,"notDeepEqual",d.notDeepEqual)},d.strictEqual=function(t,e,r){t!==e&&u(t,e,r,"===",d.strictEqual)},d.notStrictEqual=function(t,e,r){t===e&&u(t,e,r,"!==",d.notStrictEqual)},d["throws"]=function(){l.apply(this,[!0].concat(m.call(arguments)))},d.doesNotThrow=function(){l.apply(this,[!1].concat(m.call(arguments)))},d.ifError=function(t){if(t)throw t};var g=Object.keys||function(t){var e=[];for(var r in t)y.call(t,r)&&e.push(r);return e}},function(t,e,r){var n;(function(t,o){(function(){function i(t,e,r){for(var n=(r||0)-1,o=t?t.length:0;++n<o;)if(t[n]===e)return n;return-1}function u(t,e){var r=typeof e;if(t=t.cache,"boolean"==r||null==e)return t[e]?0:-1;"number"!=r&&"string"!=r&&(r="object");var n="number"==r?e:E+e;return t=(t=t[r])&&t[n],"object"==r?t&&i(t,e)>-1?0:-1:t?0:-1}function s(t){var e=this.cache,r=typeof t;if("boolean"==r||null==t)e[t]=!0;else{"number"!=r&&"string"!=r&&(r="object");var n="number"==r?t:E+t,o=e[r]||(e[r]={});"object"==r?(o[n]||(o[n]=[])).push(t):o[n]=!0}}function a(t){return t.charCodeAt(0)}function c(t,e){for(var r=t.criteria,n=e.criteria,o=-1,i=r.length;++o<i;){var u=r[o],s=n[o];if(u!==s){if(u>s||"undefined"==typeof u)return 1;if(s>u||"undefined"==typeof s)return-1}}return t.index-e.index}function f(t){var e=-1,r=t.length,n=t[0],o=t[r/2|0],i=t[r-1];if(n&&"object"==typeof n&&o&&"object"==typeof o&&i&&"object"==typeof i)return!1;var u=h();u["false"]=u["null"]=u["true"]=u.undefined=!1;var a=h();for(a.array=t,a.cache=u,a.push=s;++e<r;)a.push(t[e]);return a}function p(t){return"\\"+oe[t]}function l(){return _.pop()||[]}function h(){return x.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function m(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function y(t){t.length=0,_.length<O&&_.push(t)}function d(t){var e=t.cache;e&&d(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,x.length<O&&x.push(t)}function g(t,e,r){e||(e=0),"undefined"==typeof r&&(r=t?t.length:0);for(var n=-1,o=r-e||0,i=Array(0>o?0:o);++n<o;)i[n]=t[e+n];return i}function v(t){function e(t){return t&&"object"==typeof t&&!po(t)&&Un.call(t,"__wrapped__")?t:new r(t)}function r(t,e){this.__chain__=!!e,this.__wrapped__=t}function n(t){function e(){if(n){var t=g(n);Kn.apply(t,arguments)}if(this instanceof e){var i=s(r.prototype),u=r.apply(i,t||arguments);return Fe(u)?u:i}return r.apply(o,t||arguments)}var r=t[0],n=t[2],o=t[4];return fo(e,t),e}function o(t,e,r,n,i){if(r){var u=r(t);if("undefined"!=typeof u)return u}var s=Fe(t);if(!s)return t;var a=Fn.call(t);if(!W[a]||!ao.nodeClass&&m(t))return t;var c=uo[a];switch(a){case K:case J:return new c(+t);case X:case $:return new c(t);case Z:return u=c(t.source,D.exec(t)),u.lastIndex=t.lastIndex,u}var f=po(t);if(e){var p=!n;n||(n=l()),i||(i=l());for(var h=n.length;h--;)if(n[h]==t)return i[h];u=f?c(t.length):{}}else u=f?g(t):So({},t);return f&&(Un.call(t,"index")&&(u.index=t.index),Un.call(t,"input")&&(u.input=t.input)),e?(n.push(t),i.push(u),(f?wo:Oo)(t,function(t,s){u[s]=o(t,e,r,n,i)}),p&&(y(n),y(i)),u):u}function s(t){return Fe(t)?Zn(t):{}}function _(t,e,r){if("function"!=typeof t)return on;if("undefined"==typeof e||!("prototype"in t))return t;var n=t.__bindData__;if("undefined"==typeof n&&(ao.funcNames&&(n=!t.name),n=n||!ao.funcDecomp,!n)){var o=Rn.call(t);ao.funcNames||(n=!T.test(o)),n||(n=V.test(o),fo(t,n))}if(n===!1||n!==!0&&1&n[1])return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,i){return t.call(e,r,n,o,i)}}return Gr(t,e)}function x(t){function e(){var t=c?u:this;if(o){var m=g(o);Kn.apply(m,arguments)}if((i||p)&&(m||(m=g(arguments)),i&&Kn.apply(m,i),p&&m.length<a))return n|=16,x([r,l?n:-4&n,m,null,u,a]);if(m||(m=arguments),f&&(r=t[h]),this instanceof e){t=s(r.prototype);var y=r.apply(t,m);return Fe(y)?y:t}return r.apply(t,m)}var r=t[0],n=t[1],o=t[2],i=t[3],u=t[4],a=t[5],c=1&n,f=2&n,p=4&n,l=8&n,h=r;return fo(e,t),e}function O(t,e){var r=-1,n=ye(),o=t?t.length:0,s=o>=j&&n===i,a=[];if(s){var c=f(e);c?(n=u,e=c):s=!1}for(;++r<o;){var p=t[r];n(e,p)<0&&a.push(p)}return s&&d(e),a}function oe(t,e,r,n){for(var o=(n||0)-1,i=t?t.length:0,u=[];++o<i;){var s=t[o];if(s&&"object"==typeof s&&"number"==typeof s.length&&(po(s)||be(s))){e||(s=oe(s,e,r));var a=-1,c=s.length,f=u.length;for(u.length+=c;++a<c;)u[f++]=s[a]}else r||u.push(s)}return u}function ue(t,e,r,n,o,i){if(r){var u=r(t,e);if("undefined"!=typeof u)return!!u}if(t===e)return 0!==t||1/t==1/e;var s=typeof t,a=typeof e;if(!(t!==t||t&&ne[s]||e&&ne[a]))return!1;if(null==t||null==e)return t===e;var c=Fn.call(t),f=Fn.call(e);if(c==B&&(c=Y),f==B&&(f=Y),c!=f)return!1;switch(c){case K:case J:return+t==+e;case X:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Z:case $:return t==Nn(e)}var p=c==U;if(!p){var h=Un.call(t,"__wrapped__"),d=Un.call(e,"__wrapped__");if(h||d)return ue(h?t.__wrapped__:t,d?e.__wrapped__:e,r,n,o,i);if(c!=Y||!ao.nodeClass&&(m(t)||m(e)))return!1;var g=!ao.argsObject&&be(t)?An:t.constructor,v=!ao.argsObject&&be(e)?An:e.constructor;if(g!=v&&!(Ie(g)&&g instanceof g&&Ie(v)&&v instanceof v)&&"constructor"in t&&"constructor"in e)return!1}var b=!o;o||(o=l()),i||(i=l());for(var _=o.length;_--;)if(o[_]==t)return i[_]==e;var x=0;if(u=!0,o.push(t),i.push(e),p){if(_=t.length,x=e.length,u=x==_,u||n)for(;x--;){var w=_,S=e[x];if(n)for(;w--&&!(u=ue(t[w],S,r,n,o,i)););else if(!(u=ue(t[x],S,r,n,o,i)))break}}else jo(e,function(e,s,a){return Un.call(a,s)?(x++,u=Un.call(t,s)&&ue(t[s],e,r,n,o,i)):void 0}),u&&!n&&jo(t,function(t,e,r){return Un.call(r,e)?u=--x>-1:void 0});return o.pop(),i.pop(),b&&(y(o),y(i)),u}function se(t,e,r,n,o){(po(e)?nr:Oo)(e,function(e,i){var u,s,a=e,c=t[i];if(e&&((s=po(e))||ko(e))){for(var f=n.length;f--;)if(u=n[f]==e){c=o[f];break}if(!u){var p;r&&(a=r(c,e),(p="undefined"!=typeof a)&&(c=a)),p||(c=s?po(c)?c:[]:ko(c)?c:{}),n.push(e),o.push(c),p||se(c,e,r,n,o)}}else r&&(a=r(c,e),"undefined"==typeof a&&(a=e)),"undefined"!=typeof a&&(c=a);t[i]=c})}function ae(t,e){return t+Gn(io()*(e-t+1))}function fe(t,e,r){var n=-1,o=ye(),s=t?t.length:0,a=[],c=!e&&s>=j&&o===i,p=r||c?l():a;if(c){var h=f(p);o=u,p=h}for(;++n<s;){var m=t[n],g=r?r(m,n,t):m;(e?!n||p[p.length-1]!==g:o(p,g)<0)&&((r||c)&&p.push(g),a.push(m))}return c?(y(p.array),d(p)):r&&y(p),a}function pe(t){return function(r,n,o){var i={};if(n=e.createCallback(n,o,3),po(r))for(var u=-1,s=r.length;++u<s;){var a=r[u];t(i,a,n(a,u,r),r)}else wo(r,function(e,r,o){t(i,e,n(e,r,o),o)});return i}}function le(t,e,r,o,i,u){var s=1&e,a=2&e,c=4&e,f=16&e,p=32&e;if(!a&&!Ie(t))throw new Cn;f&&!r.length&&(e&=-17,f=r=!1),p&&!o.length&&(e&=-33,p=o=!1);var l=t&&t.__bindData__;if(l&&l!==!0)return l=g(l),l[2]&&(l[2]=g(l[2])),l[3]&&(l[3]=g(l[3])),!s||1&l[1]||(l[4]=i),!s&&1&l[1]&&(e|=8),!c||4&l[1]||(l[5]=u),f&&Kn.apply(l[2]||(l[2]=[]),r),p&&Xn.apply(l[3]||(l[3]=[]),o),l[1]|=e,le.apply(null,l);var h=1==e||17===e?n:x;return h([t,e,r,o,i,u])}function he(){re.shadowedProps=G,re.array=re.bottom=re.loop=re.top="",re.init="iterable",re.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var r in t)re[r]=t[r];var n=re.args;re.firstArg=/^[^,]+/.exec(n)[0];var o=jn("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+n+") {\n"+co(re)+"\n}");return o(_,H,Dn,Un,S,be,po,Re,re.keys,Tn,ne,so,$,Pn,Fn)}function me(t){return vo[t]}function ye(){var t=(t=e.indexOf)===Er?i:t;return t}function de(t){return"function"==typeof t&&Vn.test(t)}function ge(t){var e,r;return!t||Fn.call(t)!=Y||(e=t.constructor,Ie(e)&&!(e instanceof e))||!ao.argsClass&&be(t)||!ao.nodeClass&&m(t)?!1:ao.ownLast?(jo(t,function(t,e,n){return r=Un.call(n,e),!1}),r!==!1):(jo(t,function(t,e){r=e}),"undefined"==typeof r||Un.call(t,r))}function ve(t){return bo[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fn.call(t)==B||!1}function _e(t,e,r,n){return"boolean"!=typeof e&&null!=e&&(n=r,r=e,e=!1),o(t,e,"function"==typeof r&&_(r,n,1))}function xe(t,e,r){return o(t,!0,"function"==typeof e&&_(e,r,1))}function we(t,e){var r=s(t);return e?So(r,e):r}function Se(t,r,n){var o;return r=e.createCallback(r,n,3),Oo(t,function(t,e,n){return r(t,e,n)?(o=e,!1):void 0}),o}function Ee(t,r,n){var o;return r=e.createCallback(r,n,3),Oe(t,function(t,e,n){return r(t,e,n)?(o=e,!1):void 0}),o}function je(t,e,r){var n=[];jo(t,function(t,e){n.push(e,t)});var o=n.length;for(e=_(e,r,3);o--&&e(n[o--],n[o],t)!==!1;);return t}function Oe(t,e,r){var n=ho(t),o=n.length;for(e=_(e,r,3);o--;){var i=n[o];if(e(t[i],i,t)===!1)break}return t}function ke(t){var e=[];return jo(t,function(t,r){Ie(t)&&e.push(r)}),e.sort()}function Ae(t,e){return t?Un.call(t,e):!1}function Me(t){for(var e=-1,r=ho(t),n=r.length,o={};++e<n;){var i=r[e];o[t[i]]=i}return o}function Ne(t){return t===!0||t===!1||t&&"object"==typeof t&&Fn.call(t)==K||!1}function Ce(t){return t&&"object"==typeof t&&Fn.call(t)==J||!1}function Le(t){return t&&1===t.nodeType||!1}function De(t){var e=!0;if(!t)return e;var r=Fn.call(t),n=t.length;return r==U||r==$||(ao.argsClass?r==B:be(t))||r==Y&&"number"==typeof n&&Ie(t.splice)?!n:(Oo(t,function(){return e=!1}),e)}function Te(t,e,r,n){return ue(t,e,"function"==typeof r&&_(r,n,2))}function Pe(t){return Wn(t)&&!to(parseFloat(t))}function Ie(t){return"function"==typeof t}function Fe(t){return!(!t||!ne[typeof t])}function Ve(t){return ze(t)&&t!=+t}function qe(t){return null===t}function ze(t){return"number"==typeof t||t&&"object"==typeof t&&Fn.call(t)==X||!1}function Ge(t){return t&&ne[typeof t]&&Fn.call(t)==Z||!1}function Re(t){return"string"==typeof t||t&&"object"==typeof t&&Fn.call(t)==$||!1}function Be(t){return"undefined"==typeof t}function Ue(t,r,n){var o={};return r=e.createCallback(r,n,3),Oo(t,function(t,e,n){o[e]=r(t,e,n)}),o}function Ke(t){var e=arguments,r=2;if(!Fe(t))return t;if("number"!=typeof e[2]&&(r=e.length),r>3&&"function"==typeof e[r-2])var n=_(e[--r-1],e[r--],2);else r>2&&"function"==typeof e[r-1]&&(n=e[--r]);for(var o=g(arguments,1,r),i=-1,u=l(),s=l();++i<r;)se(t,o[i],n,u,s);return y(u),y(s),t}function Je(t,r,n){var o={};if("function"!=typeof r){var i=[];jo(t,function(t,e){i.push(e)}),i=O(i,oe(arguments,!0,!1,1));for(var u=-1,s=i.length;++u<s;){var a=i[u];o[a]=t[a]}}else r=e.createCallback(r,n,3),jo(t,function(t,e,n){r(t,e,n)||(o[e]=t)});return o}function He(t){for(var e=-1,r=ho(t),n=r.length,o=xn(n);++e<n;){var i=r[e];o[e]=[i,t[i]]}return o}function Qe(t,r,n){var o={};if("function"!=typeof r)for(var i=-1,u=oe(arguments,!0,!1,1),s=Fe(t)?u.length:0;++i<s;){var a=u[i];a in t&&(o[a]=t[a])}else r=e.createCallback(r,n,3),jo(t,function(t,e,n){r(t,e,n)&&(o[e]=t)});return o}function Xe(t,r,n,o){var i=po(t);if(null==n)if(i)n=[];else{var u=t&&t.constructor,a=u&&u.prototype;n=s(a)}return r&&(r=e.createCallback(r,o,4),(i?wo:Oo)(t,function(t,e,o){return r(n,t,e,o)})),n}function Ye(t){for(var e=-1,r=ho(t),n=r.length,o=xn(n);++e<n;)o[e]=t[r[e]];return o}function Ze(t){var e=arguments,r=-1,n=oe(e,!0,!1,1),o=e[2]&&e[2][e[1]]===t?1:n.length,i=xn(o);for(ao.unindexedChars&&Re(t)&&(t=t.split(""));++r<o;)i[r]=t[n[r]];return i}function $e(t,e,r){var n=-1,o=ye(),i=t?t.length:0,u=!1;return r=(0>r?ro(0,i+r):r)||0,po(t)?u=o(t,e,r)>-1:"number"==typeof i?u=(Re(t)?t.indexOf(e,r):o(t,e,r))>-1:wo(t,function(t){return++n>=r?!(u=t===e):void 0}),u}function We(t,r,n){var o=!0;if(r=e.createCallback(r,n,3),po(t))for(var i=-1,u=t.length;++i<u&&(o=!!r(t[i],i,t)););else wo(t,function(t,e,n){return o=!!r(t,e,n)});return o}function tr(t,r,n){var o=[];if(r=e.createCallback(r,n,3),po(t))for(var i=-1,u=t.length;++i<u;){var s=t[i];r(s,i,t)&&o.push(s)}else wo(t,function(t,e,n){r(t,e,n)&&o.push(t)});return o}function er(t,r,n){if(r=e.createCallback(r,n,3),!po(t)){var o;return wo(t,function(t,e,n){return r(t,e,n)?(o=t,!1):void 0}),o}for(var i=-1,u=t.length;++i<u;){var s=t[i];if(r(s,i,t))return s}}function rr(t,r,n){var o;return r=e.createCallback(r,n,3),or(t,function(t,e,n){return r(t,e,n)?(o=t,!1):void 0}),o}function nr(t,e,r){if(e&&"undefined"==typeof r&&po(t))for(var n=-1,o=t.length;++n<o&&e(t[n],n,t)!==!1;);else wo(t,e,r);return t}function or(t,e,r){var n=t,o=t?t.length:0;if(e=e&&"undefined"==typeof r?e:_(e,r,3),po(t))for(;o--&&e(t[o],o,t)!==!1;);else{if("number"!=typeof o){var i=ho(t);o=i.length}else ao.unindexedChars&&Re(t)&&(n=t.split(""));wo(t,function(t,r,u){return r=i?i[--o]:--o,e(n[r],r,u)})}return t}function ir(t,e){var r=g(arguments,2),n=-1,o="function"==typeof e,i=t?t.length:0,u=xn("number"==typeof i?i:0);return nr(t,function(t){u[++n]=(o?e:t[e]).apply(t,r)}),u}function ur(t,r,n){var o=-1,i=t?t.length:0,u=xn("number"==typeof i?i:0);if(r=e.createCallback(r,n,3),po(t))for(;++o<i;)u[o]=r(t[o],o,t);else wo(t,function(t,e,n){u[++o]=r(t,e,n)});return u}function sr(t,r,n){var o=-1/0,i=o;if("function"!=typeof r&&n&&n[r]===t&&(r=null),null==r&&po(t))for(var u=-1,s=t.length;++u<s;){var c=t[u];c>i&&(i=c)}else r=null==r&&Re(t)?a:e.createCallback(r,n,3),wo(t,function(t,e,n){var u=r(t,e,n);u>o&&(o=u,i=t)});return i}function ar(t,r,n){var o=1/0,i=o;if("function"!=typeof r&&n&&n[r]===t&&(r=null),null==r&&po(t))for(var u=-1,s=t.length;++u<s;){var c=t[u];i>c&&(i=c)}else r=null==r&&Re(t)?a:e.createCallback(r,n,3),wo(t,function(t,e,n){var u=r(t,e,n);o>u&&(o=u,i=t)});return i}function cr(t,r,n,o){var i=arguments.length<3;if(r=e.createCallback(r,o,4),po(t)){var u=-1,s=t.length;
for(i&&(n=t[++u]);++u<s;)n=r(n,t[u],u,t)}else wo(t,function(t,e,o){n=i?(i=!1,t):r(n,t,e,o)});return n}function fr(t,r,n,o){var i=arguments.length<3;return r=e.createCallback(r,o,4),or(t,function(t,e,o){n=i?(i=!1,t):r(n,t,e,o)}),n}function pr(t,r,n){return r=e.createCallback(r,n,3),tr(t,function(t,e,n){return!r(t,e,n)})}function lr(t,e,r){if(t&&"number"!=typeof t.length?t=Ye(t):ao.unindexedChars&&Re(t)&&(t=t.split("")),null==e||r)return t?t[ae(0,t.length-1)]:b;var n=hr(t);return n.length=no(ro(0,e),n.length),n}function hr(t){var e=-1,r=t?t.length:0,n=xn("number"==typeof r?r:0);return nr(t,function(t){var r=ae(0,++e);n[e]=n[r],n[r]=t}),n}function mr(t){var e=t?t.length:0;return"number"==typeof e?e:ho(t).length}function yr(t,r,n){var o;if(r=e.createCallback(r,n,3),po(t))for(var i=-1,u=t.length;++i<u&&!(o=r(t[i],i,t)););else wo(t,function(t,e,n){return!(o=r(t,e,n))});return!!o}function dr(t,r,n){var o=-1,i=po(r),u=t?t.length:0,s=xn("number"==typeof u?u:0);for(i||(r=e.createCallback(r,n,3)),nr(t,function(t,e,n){var u=s[++o]=h();i?u.criteria=ur(r,function(e){return t[e]}):(u.criteria=l())[0]=r(t,e,n),u.index=o,u.value=t}),u=s.length,s.sort(c);u--;){var a=s[u];s[u]=a.value,i||y(a.criteria),d(a)}return s}function gr(t){return t&&"number"==typeof t.length?ao.unindexedChars&&Re(t)?t.split(""):g(t):Ye(t)}function vr(t){for(var e=-1,r=t?t.length:0,n=[];++e<r;){var o=t[e];o&&n.push(o)}return n}function br(t){return O(t,oe(arguments,!0,!0,1))}function _r(t,r,n){var o=-1,i=t?t.length:0;for(r=e.createCallback(r,n,3);++o<i;)if(r(t[o],o,t))return o;return-1}function xr(t,r,n){var o=t?t.length:0;for(r=e.createCallback(r,n,3);o--;)if(r(t[o],o,t))return o;return-1}function wr(t,r,n){var o=0,i=t?t.length:0;if("number"!=typeof r&&null!=r){var u=-1;for(r=e.createCallback(r,n,3);++u<i&&r(t[u],u,t);)o++}else if(o=r,null==o||n)return t?t[0]:b;return g(t,0,no(ro(0,o),i))}function Sr(t,e,r,n){return"boolean"!=typeof e&&null!=e&&(n=r,r="function"!=typeof e&&n&&n[e]===t?null:e,e=!1),null!=r&&(t=ur(t,r,n)),oe(t,e)}function Er(t,e,r){if("number"==typeof r){var n=t?t.length:0;r=0>r?ro(0,n+r):r||0}else if(r){var o=Dr(t,e);return t[o]===e?o:-1}return i(t,e,r)}function jr(t,r,n){var o=0,i=t?t.length:0;if("number"!=typeof r&&null!=r){var u=i;for(r=e.createCallback(r,n,3);u--&&r(t[u],u,t);)o++}else o=null==r||n?1:r||o;return g(t,0,no(ro(0,i-o),i))}function Or(){for(var t=[],e=-1,r=arguments.length,n=l(),o=ye(),s=o===i,a=l();++e<r;){var c=arguments[e];(po(c)||be(c))&&(t.push(c),n.push(s&&c.length>=j&&f(e?t[e]:a)))}var p=t[0],h=-1,m=p?p.length:0,g=[];t:for(;++h<m;){var v=n[0];if(c=p[h],(v?u(v,c):o(a,c))<0){for(e=r,(v||a).push(c);--e;)if(v=n[e],(v?u(v,c):o(t[e],c))<0)continue t;g.push(c)}}for(;r--;)v=n[r],v&&d(v);return y(n),y(a),g}function kr(t,r,n){var o=0,i=t?t.length:0;if("number"!=typeof r&&null!=r){var u=i;for(r=e.createCallback(r,n,3);u--&&r(t[u],u,t);)o++}else if(o=r,null==o||n)return t?t[i-1]:b;return g(t,ro(0,i-o))}function Ar(t,e,r){var n=t?t.length:0;for("number"==typeof r&&(n=(0>r?ro(0,n+r):no(r,n-1))+1);n--;)if(t[n]===e)return n;return-1}function Mr(t){for(var e=arguments,r=0,n=e.length,o=t?t.length:0;++r<n;)for(var i=-1,u=e[r];++i<o;)t[i]===u&&(Qn.call(t,i--,1),o--);return t}function Nr(t,e,r){t=+t||0,r="number"==typeof r?r:+r||1,null==e&&(e=t,t=0);for(var n=-1,o=ro(0,qn((e-t)/(r||1))),i=xn(o);++n<o;)i[n]=t,t+=r;return i}function Cr(t,r,n){var o=-1,i=t?t.length:0,u=[];for(r=e.createCallback(r,n,3);++o<i;){var s=t[o];r(s,o,t)&&(u.push(s),Qn.call(t,o--,1),i--)}return u}function Lr(t,r,n){if("number"!=typeof r&&null!=r){var o=0,i=-1,u=t?t.length:0;for(r=e.createCallback(r,n,3);++i<u&&r(t[i],i,t);)o++}else o=null==r||n?1:ro(0,r);return g(t,o)}function Dr(t,r,n,o){var i=0,u=t?t.length:i;for(n=n?e.createCallback(n,o,1):on,r=n(r);u>i;){var s=i+u>>>1;n(t[s])<r?i=s+1:u=s}return i}function Tr(){return fe(oe(arguments,!0,!0))}function Pr(t,r,n,o){return"boolean"!=typeof r&&null!=r&&(o=n,n="function"!=typeof r&&o&&o[r]===t?null:r,r=!1),null!=n&&(n=e.createCallback(n,o,3)),fe(t,r,n)}function Ir(t){return O(t,g(arguments,1))}function Fr(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(po(r)||be(r))var n=n?fe(O(n,r).concat(O(r,n))):r}return n||[]}function Vr(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,r=t?sr(Co(t,"length")):0,n=xn(0>r?0:r);++e<r;)n[e]=Co(t,e);return n}function qr(t,e){var r=-1,n=t?t.length:0,o={};for(e||!n||po(t[0])||(e=[]);++r<n;){var i=t[r];e?o[i]=e[r]:i&&(o[i[0]]=i[1])}return o}function zr(t,e){if(!Ie(e))throw new Cn;return function(){return--t<1?e.apply(this,arguments):void 0}}function Gr(t,e){return arguments.length>2?le(t,17,g(arguments,2),null,e):le(t,1,null,null,e)}function Rr(t){for(var e=arguments.length>1?oe(arguments,!0,!1,1):ke(t),r=-1,n=e.length;++r<n;){var o=e[r];t[o]=le(t[o],1,null,null,t)}return t}function Br(t,e){return arguments.length>2?le(e,19,g(arguments,2),null,t):le(e,3,null,null,t)}function Ur(){for(var t=arguments,e=t.length;e--;)if(!Ie(t[e]))throw new Cn;return function(){for(var e=arguments,r=t.length;r--;)e=[t[r].apply(this,e)];return e[0]}}function Kr(t,e){return e="number"==typeof e?e:+e||t.length,le(t,4,null,null,null,e)}function Jr(t,e,r){var n,o,i,u,s,a,c,f=0,p=!1,l=!0;if(!Ie(t))throw new Cn;if(e=ro(0,e)||0,r===!0){var h=!0;l=!1}else Fe(r)&&(h=r.leading,p="maxWait"in r&&(ro(e,r.maxWait)||0),l="trailing"in r?r.trailing:l);var m=function(){var r=e-(Do()-u);if(0>=r){o&&zn(o);var p=c;o=a=c=b,p&&(f=Do(),i=t.apply(s,n),a||o||(n=s=null))}else a=Hn(m,r)},y=function(){a&&zn(a),o=a=c=b,(l||p!==e)&&(f=Do(),i=t.apply(s,n),a||o||(n=s=null))};return function(){if(n=arguments,u=Do(),s=this,c=l&&(a||!h),p===!1)var r=h&&!a;else{o||h||(f=u);var d=p-(u-f),g=0>=d;g?(o&&(o=zn(o)),f=u,i=t.apply(s,n)):o||(o=Hn(y,d))}return g&&a?a=zn(a):a||e===p||(a=Hn(m,e)),r&&(g=!0,i=t.apply(s,n)),!g||a||o||(n=s=null),i}}function Hr(t){if(!Ie(t))throw new Cn;var e=g(arguments,1);return Hn(function(){t.apply(b,e)},1)}function Qr(t,e){if(!Ie(t))throw new Cn;var r=g(arguments,2);return Hn(function(){t.apply(b,r)},e)}function Xr(t,e){if(!Ie(t))throw new Cn;var r=function(){var n=r.cache,o=e?e.apply(this,arguments):E+arguments[0];return Un.call(n,o)?n[o]:n[o]=t.apply(this,arguments)};return r.cache={},r}function Yr(t){var e,r;if(!Ie(t))throw new Cn;return function(){return e?r:(e=!0,r=t.apply(this,arguments),t=null,r)}}function Zr(t){return le(t,16,g(arguments,1))}function $r(t){return le(t,32,null,g(arguments,1))}function Wr(t,e,r){var n=!0,o=!0;if(!Ie(t))throw new Cn;return r===!1?n=!1:Fe(r)&&(n="leading"in r?r.leading:n,o="trailing"in r?r.trailing:o),te.leading=n,te.maxWait=e,te.trailing=o,Jr(t,e,te)}function tn(t,e){return le(e,16,[t])}function en(t){return function(){return t}}function rn(t,e,r){var n=typeof t;if(null==t||"function"==n)return _(t,e,r);if("object"!=n)return cn(t);var o=ho(t),i=o[0],u=t[i];return 1!=o.length||u!==u||Fe(u)?function(e){for(var r=o.length,n=!1;r--&&(n=ue(e[o[r]],t[o[r]],null,!0)););return n}:function(t){var e=t[i];return u===e&&(0!==u||1/u==1/e)}}function nn(t){return null==t?"":Nn(t).replace(xo,me)}function on(t){return t}function un(t,n,o){var i=!0,u=n&&ke(n);n&&(o||u.length)||(null==o&&(o=n),s=r,n=t,t=e,u=ke(n)),o===!1?i=!1:Fe(o)&&"chain"in o&&(i=o.chain);var s=t,a=Ie(s);nr(u,function(e){var r=t[e]=n[e];a&&(s.prototype[e]=function(){var e=this.__chain__,n=this.__wrapped__,o=[n];Kn.apply(o,arguments);var u=r.apply(t,o);if(i||e){if(n===u&&Fe(u))return this;u=new s(u),u.__chain__=e}return u})})}function sn(){return t._=In,this}function an(){}function cn(t){return function(e){return e[t]}}function fn(t,e,r){var n=null==t,o=null==e;if(null==r&&("boolean"==typeof t&&o?(r=t,t=1):o||"boolean"!=typeof e||(r=e,o=!0)),n&&o&&(e=1),t=+t||0,o?(e=t,t=0):e=+e||0,r||t%1||e%1){var i=io();return no(t+i*(e-t+parseFloat("1e-"+((i+"").length-1))),e)}return ae(t,e)}function pn(t,e){if(t){var r=t[e];return Ie(r)?t[e]():r}}function ln(t,r,n){var o=e.templateSettings;t=Nn(t||""),n=Eo({},n,o);var i,u=Eo({},n.imports,o.imports),s=ho(u),a=Ye(u),c=0,f=n.interpolate||F,l="__p += '",h=Mn((n.escape||F).source+"|"+f.source+"|"+(f===P?L:F).source+"|"+(n.evaluate||F).source+"|$","g");t.replace(h,function(e,r,n,o,u,s){return n||(n=o),l+=t.slice(c,s).replace(q,p),r&&(l+="' +\n__e("+r+") +\n'"),u&&(i=!0,l+="';\n"+u+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),l+="';\n";var m=n.variable,y=m;y||(m="obj",l="with ("+m+") {\n"+l+"\n}\n"),l=(i?l.replace(M,""):l).replace(N,"$1").replace(C,"$1;"),l="function("+m+") {\n"+(y?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var d="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+R++ +"]")+"\n*/";try{var g=jn(s,"return "+l+d).apply(b,a)}catch(v){throw v.source=l,v}return r?g(r):(g.source=l,g)}function hn(t,e,r){t=(t=+t)>-1?t:0;var n=-1,o=xn(t);for(e=_(e,r,1);++n<t;)o[n]=e(n);return o}function mn(t){return null==t?"":Nn(t).replace(_o,ve)}function yn(t){var e=++w;return Nn(null==t?"":t)+e}function dn(t){return t=new r(t),t.__chain__=!0,t}function gn(t,e){return e(t),t}function vn(){return this.__chain__=!0,this}function bn(){return Nn(this.__wrapped__)}function _n(){return this.__wrapped__}t=t?ce.defaults(ie.Object(),t,ce.pick(ie,z)):ie;var xn=t.Array,wn=t.Boolean,Sn=t.Date,En=t.Error,jn=t.Function,On=t.Math,kn=t.Number,An=t.Object,Mn=t.RegExp,Nn=t.String,Cn=t.TypeError,Ln=[],Dn=En.prototype,Tn=An.prototype,Pn=Nn.prototype,In=t._,Fn=Tn.toString,Vn=Mn("^"+Nn(Fn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),qn=On.ceil,zn=t.clearTimeout,Gn=On.floor,Rn=jn.prototype.toString,Bn=de(Bn=An.getPrototypeOf)&&Bn,Un=Tn.hasOwnProperty,Kn=Ln.push,Jn=Tn.propertyIsEnumerable,Hn=t.setTimeout,Qn=Ln.splice,Xn=Ln.unshift,Yn=function(){try{var t={},e=de(e=An.defineProperty)&&e,r=e(t,t,t)&&e}catch(n){}return r}(),Zn=de(Zn=An.create)&&Zn,$n=de($n=xn.isArray)&&$n,Wn=t.isFinite,to=t.isNaN,eo=de(eo=An.keys)&&eo,ro=On.max,no=On.min,oo=t.parseInt,io=On.random,uo={};uo[U]=xn,uo[K]=wn,uo[J]=Sn,uo[Q]=jn,uo[Y]=An,uo[X]=kn,uo[Z]=Mn,uo[$]=Nn;var so={};so[U]=so[J]=so[X]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},so[K]=so[$]={constructor:!0,toString:!0,valueOf:!0},so[H]=so[Q]=so[Z]={constructor:!0,toString:!0},so[Y]={constructor:!0},function(){for(var t=G.length;t--;){var e=G[t];for(var r in so)Un.call(so,r)&&!Un.call(so[r],e)&&(so[r][e]=!1)}}(),r.prototype=e.prototype;var ao=e.support={};!function(){var e=function(){this.x=1},r={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var o in new e)n.push(o);for(o in arguments);ao.argsClass=Fn.call(arguments)==B,ao.argsObject=arguments.constructor==An&&!(arguments instanceof xn),ao.enumErrorProps=Jn.call(Dn,"message")||Jn.call(Dn,"name"),ao.enumPrototypes=Jn.call(e,"prototype"),ao.funcDecomp=!de(t.WinRTError)&&V.test(v),ao.funcNames="string"==typeof jn.name,ao.nonEnumArgs=0!=o,ao.nonEnumShadows=!/valueOf/.test(n),ao.ownLast="x"!=n[0],ao.spliceObjects=(Ln.splice.call(r,0,1),!r[0]),ao.unindexedChars="x"[0]+An("x")[0]!="xx";try{ao.nodeClass=!(Fn.call(document)==Y&&!({toString:0}+""))}catch(i){ao.nodeClass=!0}}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:e}};var co=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",ao.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):ao.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),ao.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),ao.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var r=[];if(ao.enumPrototypes&&r.push('!(skipProto && index == "prototype")'),ao.enumErrorProps&&r.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",r.length&&(e+="    if ("+r.join(" && ")+") {\n  "),e+=t.loop+";    ",r.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&r.push("hasOwnProperty.call(iterable, index)"),r.length&&(e+="    if ("+r.join(" && ")+") {\n  "),e+=t.loop+";    ",r.length&&(e+="\n    }"),e+="\n  }    ",ao.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||ao.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Zn||(s=function(){function e(){}return function(r){if(Fe(r)){e.prototype=r;var n=new e;e.prototype=null}return n||t.Object()}}());var fo=Yn?function(t,e){ee.value=e,Yn(t,"__bindData__",ee)}:an;ao.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Un.call(t,"callee")&&!Jn.call(t,"callee")||!1});var po=$n||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fn.call(t)==U||!1},lo=he({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),ho=eo?function(t){return Fe(t)?ao.enumPrototypes&&"function"==typeof t||ao.nonEnumArgs&&t.length&&be(t)?lo(t):eo(t):[]}:lo,mo={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:ho,loop:"if (callback(iterable[index], index, collection) === false) return result"},yo={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:ho,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},go={top:"if (!objectTypes[typeof iterable]) return result;\n"+mo.top,array:!1},vo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bo=Me(vo),_o=Mn("("+ho(bo).join("|")+")","g"),xo=Mn("["+ho(vo).join("")+"]","g"),wo=he(mo),So=he(yo,{top:yo.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Eo=he(yo),jo=he(mo,go,{useHas:!1}),Oo=he(mo,go);Ie(/x/)&&(Ie=function(t){return"function"==typeof t&&Fn.call(t)==Q});var ko=Bn?function(t){if(!t||Fn.call(t)!=Y||!ao.argsClass&&be(t))return!1;var e=t.valueOf,r=de(e)&&(r=Bn(e))&&Bn(r);return r?t==r||Bn(t)==r:ge(t)}:ge,Ao=pe(function(t,e,r){Un.call(t,r)?t[r]++:t[r]=1}),Mo=pe(function(t,e,r){(Un.call(t,r)?t[r]:t[r]=[]).push(e)}),No=pe(function(t,e,r){t[r]=e}),Co=ur,Lo=tr,Do=de(Do=Sn.now)&&Do||function(){return(new Sn).getTime()},To=8==oo(A+"08")?oo:function(t,e){return oo(Re(t)?t.replace(I,""):t,e||0)};return e.after=zr,e.assign=So,e.at=Ze,e.bind=Gr,e.bindAll=Rr,e.bindKey=Br,e.chain=dn,e.compact=vr,e.compose=Ur,e.constant=en,e.countBy=Ao,e.create=we,e.createCallback=rn,e.curry=Kr,e.debounce=Jr,e.defaults=Eo,e.defer=Hr,e.delay=Qr,e.difference=br,e.filter=tr,e.flatten=Sr,e.forEach=nr,e.forEachRight=or,e.forIn=jo,e.forInRight=je,e.forOwn=Oo,e.forOwnRight=Oe,e.functions=ke,e.groupBy=Mo,e.indexBy=No,e.initial=jr,e.intersection=Or,e.invert=Me,e.invoke=ir,e.keys=ho,e.map=ur,e.mapValues=Ue,e.max=sr,e.memoize=Xr,e.merge=Ke,e.min=ar,e.omit=Je,e.once=Yr,e.pairs=He,e.partial=Zr,e.partialRight=$r,e.pick=Qe,e.pluck=Co,e.property=cn,e.pull=Mr,e.range=Nr,e.reject=pr,e.remove=Cr,e.rest=Lr,e.shuffle=hr,e.sortBy=dr,e.tap=gn,e.throttle=Wr,e.times=hn,e.toArray=gr,e.transform=Xe,e.union=Tr,e.uniq=Pr,e.values=Ye,e.where=Lo,e.without=Ir,e.wrap=tn,e.xor=Fr,e.zip=Vr,e.zipObject=qr,e.collect=ur,e.drop=Lr,e.each=nr,e.eachRight=or,e.extend=So,e.methods=ke,e.object=qr,e.select=tr,e.tail=Lr,e.unique=Pr,e.unzip=Vr,un(e),e.clone=_e,e.cloneDeep=xe,e.contains=$e,e.escape=nn,e.every=We,e.find=er,e.findIndex=_r,e.findKey=Se,e.findLast=rr,e.findLastIndex=xr,e.findLastKey=Ee,e.has=Ae,e.identity=on,e.indexOf=Er,e.isArguments=be,e.isArray=po,e.isBoolean=Ne,e.isDate=Ce,e.isElement=Le,e.isEmpty=De,e.isEqual=Te,e.isFinite=Pe,e.isFunction=Ie,e.isNaN=Ve,e.isNull=qe,e.isNumber=ze,e.isObject=Fe,e.isPlainObject=ko,e.isRegExp=Ge,e.isString=Re,e.isUndefined=Be,e.lastIndexOf=Ar,e.mixin=un,e.noConflict=sn,e.noop=an,e.now=Do,e.parseInt=To,e.random=fn,e.reduce=cr,e.reduceRight=fr,e.result=pn,e.runInContext=v,e.size=mr,e.some=yr,e.sortedIndex=Dr,e.template=ln,e.unescape=mn,e.uniqueId=yn,e.all=We,e.any=yr,e.detect=er,e.findWhere=er,e.foldl=cr,e.foldr=fr,e.include=$e,e.inject=cr,un(function(){var t={};return Oo(e,function(r,n){e.prototype[n]||(t[n]=r)}),t}(),!1),e.first=wr,e.last=kr,e.sample=lr,e.take=wr,e.head=wr,Oo(e,function(t,n){var o="sample"!==n;e.prototype[n]||(e.prototype[n]=function(e,n){var i=this.__chain__,u=t(this.__wrapped__,e,n);return i||null!=e&&(!n||o&&"function"==typeof e)?new r(u,i):u})}),e.VERSION="2.4.1",e.prototype.chain=vn,e.prototype.toString=bn,e.prototype.value=_n,e.prototype.valueOf=_n,wo(["join","pop","shift"],function(t){var n=Ln[t];e.prototype[t]=function(){var t=this.__chain__,e=n.apply(this.__wrapped__,arguments);return t?new r(e,t):e}}),wo(["push","reverse","sort","unshift"],function(t){var r=Ln[t];e.prototype[t]=function(){return r.apply(this.__wrapped__,arguments),this}}),wo(["concat","slice","splice"],function(t){var n=Ln[t];e.prototype[t]=function(){return new r(n.apply(this.__wrapped__,arguments),this.__chain__)}}),ao.spliceObjects||wo(["pop","shift","splice"],function(t){var n=Ln[t],o="splice"==t;e.prototype[t]=function(){var t=this.__chain__,e=this.__wrapped__,i=n.apply(e,arguments);return 0===e.length&&delete e[0],t||o?new r(i,t):i}}),e}var b,_=[],x=[],w=0,S={},E=+new Date+"",j=75,O=40,A=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",M=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,P=/<%=([\s\S]+?)%>/g,I=RegExp("^["+A+"]*0+(?=.$)"),F=/($^)/,V=/\bthis\b/,q=/['\n\r\t\u2028\u2029\\]/g,z=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],G=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],R=0,B="[object Arguments]",U="[object Array]",K="[object Boolean]",J="[object Date]",H="[object Error]",Q="[object Function]",X="[object Number]",Y="[object Object]",Z="[object RegExp]",$="[object String]",W={};W[Q]=!1,W[B]=W[U]=W[K]=W[J]=W[X]=W[Y]=W[Z]=W[$]=!0;var te={leading:!1,maxWait:0,trailing:!1},ee={configurable:!1,enumerable:!1,value:null,writable:!1},re={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},ne={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},oe={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ie=ne[typeof window]&&window||this,ue=ne[typeof e]&&e&&!e.nodeType&&e,se=ne[typeof t]&&t&&!t.nodeType&&t,ae=(se&&se.exports===ue&&ue,ne[typeof o]&&o);!ae||ae.global!==ae&&ae.window!==ae||(ie=ae);var ce=v();ie._=ce,n=function(){return ce}.call(e,r,e,t),!(n!==b&&(t.exports=n))}).call(this)}).call(e,r(28)(t),function(){return this}())},function(t,e,r){var n;!function(o){"use strict";function i(t,e){var r;K.object(t),K.object(e);for(r in e)if(e.hasOwnProperty(r)){if(t.hasOwnProperty(r)===!1||typeof t[r]!=typeof e[r])return!1;if(a(t[r])&&i(t[r],e[r])===!1)return!1}return!0}function u(t,e){return t&&y(e)&&t instanceof e?!0:!1}function s(t){return a(t)&&0===Object.keys(t).length}function a(t){return c(t)&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){return!f(t)&&!p(t)}function f(t){return void 0===t}function p(t){return null===t}function l(t,e){return K.not.undefined(e),c(t)&&t.length===e}function h(t){return Array.isArray(t)}function m(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}function y(t){return"function"==typeof t}function d(t){return g(t)&&/^(https?:)?\/\/([\w-\.~:@]+)(\/[\w-\.~\/\?#\[\]&\(\)\*\+,;=%]*)?$/.test(t)}function g(t){return v(t)&&""!==t}function v(t){return"string"==typeof t}function b(t){return x(t)&&!_(t)}function _(t){return E(t)&&t%2===0}function x(t){return E(t)&&t%1===0}function w(t){return E(t)&&t>0}function S(t){return E(t)&&0>t}function E(t){return"number"==typeof t&&isNaN(t)===!1&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY}function j(t){return t===!1||t===!0}function O(t,e){return K.array(t),y(e)?t.map(function(t){return e(t)}):(K.array(e),K.length(t,e.length),t.map(function(t,r){return e[r](t)}))}function k(t,e){var r,n={};return K.object(t),K.object(e),r=Object.keys(e),K.length(Object.keys(t),r.length),r.forEach(function(r){var o=e[r];y(o)?n[r]=o(t[r]):a(o)&&(n[r]=k(t[r],o))}),n}function A(t){return h(t)?M(t,!1):(K.object(t),N(t,!1))}function M(t,e){var r;for(r=0;r<t.length;r+=1)if(t[r]===e)return e;return!e}function N(t,e){var r,n;for(r in t)if(t.hasOwnProperty(r)){if(n=t[r],a(n)&&N(n,e)===e)return e;if(n===e)return e}return!e}function C(t){return h(t)?M(t,!0):(K.object(t),N(t,!0))}function L(t,e){return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function D(t,e){return function(){T(t,arguments,e)}}function T(t,e,r){var n;if(!t.apply(null,e))throw n=e[e.length-1],new Error(g(n)?n:r)}function P(t,e){return function(){function r(t,e){return t[e]=function(){if(n&&!B[e].apply(null,arguments))throw n},t}var n;try{T(t,arguments,e)}catch(o){n=o}return{or:Object.keys(B).reduce(r,{})}}}function I(t){return function(){return!t.apply(null,arguments)}}function F(t){return function(){return c(arguments[0])?t.apply(null,arguments):!0}}function V(t){function e(){return!0}return function(){function r(t,r){return t[r]=n?e:B[r],t}var n=t.apply(null,arguments);return{or:Object.keys(B).reduce(r,{})}}}function q(t){return z(t,B)}function z(t,e){var r={};return Object.keys(e).forEach(function(n){r[n]=t(e[n],R[n])}),r}function G(o){n=function(){return o}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}var R,B,U,K,J,H,Q;R={like:"Invalid type",instance:"Invalid type",emptyObject:"Invalid object",object:"Invalid object",assigned:"Invalid value",undefined:"Invalid value","null":"Invalid value",length:"Invalid length",array:"Invalid array",date:"Invalid date",fn:"Invalid function",webUrl:"Invalid URL",unemptyString:"Invalid string",string:"Invalid string",odd:"Invalid number",even:"Invalid number",positive:"Invalid number",negative:"Invalid number",integer:"Invalid number",number:"Invalid number","boolean":"Invalid boolean"},B={like:i,instance:u,emptyObject:s,object:a,assigned:c,undefined:f,"null":p,length:l,array:h,date:m,"function":y,webUrl:d,unemptyString:g,string:v,odd:b,even:_,positive:w,negative:S,integer:x,number:E,"boolean":j},U={apply:O,map:k,all:A,any:C},U=L(U,B),K=q(D),J=q(I),H=q(F),Q=q(V),K.not=z(D,J),K.maybe=z(D,H),K.either=z(P,B),G(L(U,{assert:K,not:J,maybe:H,either:Q}))}(this)},function(module,exports,__webpack_require__){(function(global){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var r,n,o,i;for("undefined"==typeof e&&(e=15),o=.5,r=new Date;;){for(o*=2,i=o;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;if(n=new Date,n-r>e)break}for(i=o;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;return n=new Date,1e3*(3*o-1)/(n-r)},numeric._myIndexOf=function(t){var e,r=this.length;for(e=0;r>e;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(0>t)return"-"+e(-t);if(isFinite(t)){var r=Math.floor(Math.log(t)/Math.log(10)),n=t/Math.pow(10,r),o=n.toPrecision(numeric.precision);return 10===parseFloat(o)&&(r++,n=1,o=n.toPrecision(numeric.precision)),parseFloat(o).toString()+"e"+r.toString()}return"Infinity"}function r(t){var o;if("undefined"==typeof t)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return n.push('"'+t+'"'),!1;if("boolean"==typeof t)return n.push(t.toString()),!1;if("number"==typeof t){var i=e(t),u=t.toPrecision(numeric.precision),s=parseFloat(t.toString()).toString(),a=[i,u,s,parseFloat(u).toString(),parseFloat(s).toString()];for(o=1;o<a.length;o++)a[o].length<i.length&&(i=a[o]);return n.push(Array(numeric.precision+8-i.length).join(" ")+i),!1}if(null===t)return n.push("null"),!1;if("function"==typeof t){n.push(t.toString());var c=!1;for(o in t)t.hasOwnProperty(o)&&(n.push(c?",\n":"\n{"),c=!0,n.push(o),n.push(": \n"),r(t[o]));return c&&n.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return n.push("...Large Array..."),!0;var c=!1;for(n.push("["),o=0;o<t.length;o++)o>0&&(n.push(","),c&&n.push("\n ")),c=r(t[o]);return n.push("]"),!0}n.push("{");var c=!1;for(o in t)t.hasOwnProperty(o)&&(c&&n.push(",\n"),c=!0,n.push(o),n.push(": \n"),r(t[o]));return n.push("}"),!0}var n=[];return r(t),n.join("")},numeric.parseDate=function(t){function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var r,n=[];for(r=0;r<t.length;r++)n[r]=e(t[r]);return n}return e(t)},numeric.parseFloat=function(t){function e(t){if("string"==typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var r,n=[];for(r=0;r<t.length;r++)n[r]=e(t[r]);return n}return e(t)},numeric.parseCSV=function(t){var e,r,n=t.split("\n"),o=[],i=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(t){return t.substr(0,t.length-1)},a=0;for(r=0;r<n.length;r++){var c,f=(n[r]+",").match(i);if(f.length>0){for(o[a]=[],e=0;e<f.length;e++)c=s(f[e]),o[a][e]=u.test(c)?parseFloat(c):c;a++}}return o},numeric.toCSV=function(t){var e,r,n,o,i,u,s=numeric.dim(t);for(n=s[0],o=s[1],u=[],e=0;n>e;e++){for(i=[],r=0;n>r;r++)i[r]=t[e][r].toString();u[e]=i.join(", ")}return u.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t){var e,r,n,o,i,u,s,a,c=t.length,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="";for(e=0;c>e;e+=3)r=t[e],n=t[e+1],o=t[e+2],i=r>>2,u=((3&r)<<4)+(n>>4),s=((15&n)<<2)+(o>>6),a=63&o,e+1>=c?s=a=64:e+2>=c&&(a=64),p+=f.charAt(i)+f.charAt(u)+f.charAt(s)+f.charAt(a);return p}function r(t,e,r){"undefined"==typeof e&&(e=0),"undefined"==typeof r&&(r=t.length);{var n,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=-1,u=0;t.length}for(n=e;r>n;n++)u=255&(i^t[n]),i=i>>>8^o[u];return-1^i}var n,o,i,u,s,a,c,f,p,l,h=t[0].length,m=t[0][0].length,y=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,m>>24&255,m>>16&255,m>>8&255,255&m,h>>24&255,h>>16&255,h>>8&255,255&h,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=r(y,12,29),y[29]=l>>24&255,y[30]=l>>16&255,y[31]=l>>8&255,y[32]=255&l,n=1,o=0,c=0;h>c;c++){for(y.push(h-1>c?0:1),s=3*m+1+(0===c)&255,a=3*m+1+(0===c)>>8&255,y.push(s),y.push(a),y.push(255&~s),y.push(255&~a),0===c&&y.push(0),f=0;m>f;f++)for(i=0;3>i;i++)s=t[i][c][f],s=s>255?255:0>s?0:Math.round(s),n=(n+s)%65521,o=(o+n)%65521,y.push(s);y.push(0)}return p=(o<<16)+n,y.push(p>>24&255),y.push(p>>16&255),y.push(p>>8&255),y.push(255&p),u=y.length-41,y[33]=u>>24&255,y[34]=u>>16&255,y[35]=u>>8&255,y[36]=255&u,l=r(y,37),y.push(l>>24&255),y.push(l>>16&255),y.push(l>>8&255),y.push(255&l),y.push(0),y.push(0),y.push(0),y.push(0),y.push(73),y.push(69),y.push(78),y.push(68),y.push(174),y.push(66),y.push(96),y.push(130),"data:image/png;base64,"+e(y)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e,r;return"object"==typeof t?(e=t[0],"object"==typeof e?(r=e[0],"object"==typeof r?numeric._dim(t):[t.length,e.length]):[t.length]):[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")
},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,r){var n,o;if(!(e instanceof Array&&r instanceof Array))return!1;if(o=e.length,o!==r.length)return!1;for(n=0;o>n;n++)if(e[n]!==r[n]){if("object"!=typeof e[n])return!1;if(!t(e[n],r[n]))return!1}return!0},numeric.rep=function(t,e,r){"undefined"==typeof r&&(r=0);var n,o=t[r],i=Array(o);if(r===t.length-1){for(n=o-2;n>=0;n-=2)i[n+1]=e,i[n]=e;return-1===n&&(i[0]=e),i}for(n=o-1;n>=0;n--)i[n]=numeric.rep(t,e,r+1);return i},numeric.dotMMsmall=function(t,e){var r,n,o,i,u,s,a,c,f,p,l;for(i=t.length,u=e.length,s=e[0].length,a=Array(i),r=i-1;r>=0;r--){for(c=Array(s),f=t[r],o=s-1;o>=0;o--){for(p=f[u-1]*e[u-1][o],n=u-2;n>=1;n-=2)l=n-1,p+=f[n]*e[n][o]+f[l]*e[l][o];0===n&&(p+=f[0]*e[0][o]),c[o]=p}a[r]=c}return a},numeric._getCol=function(t,e,r){var n,o=t.length;for(n=o-1;n>0;--n)r[n]=t[n][e],--n,r[n]=t[n][e];0===n&&(r[0]=t[0][e])},numeric.dotMMbig=function(t,e){var r,n,o,i,u=numeric._getCol,s=e.length,a=Array(s),c=t.length,f=e[0].length,p=new Array(c),l=numeric.dotVV;for(--s,--c,n=c;-1!==n;--n)p[n]=Array(f);for(--f,n=f;-1!==n;--n)for(u(e,n,a),o=c;-1!==o;--o)i=0,r=t[o],p[o][n]=l(r,a);return p},numeric.dotMV=function(t,e){var r,n=t.length,o=(e.length,Array(n)),i=numeric.dotVV;for(r=n-1;r>=0;r--)o[r]=i(t[r],e);return o},numeric.dotVM=function(t,e){var r,n,o,i,u,s,a;for(o=t.length,i=e[0].length,u=Array(i),n=i-1;n>=0;n--){for(s=t[o-1]*e[o-1][n],r=o-2;r>=1;r-=2)a=r-1,s+=t[r]*e[r][n]+t[a]*e[a][n];0===r&&(s+=t[0]*e[0][n]),u[n]=s}return u},numeric.dotVV=function(t,e){var r,n,o=t.length,i=t[o-1]*e[o-1];for(r=o-2;r>=1;r-=2)n=r-1,i+=t[r]*e[r]+t[n]*e[n];return 0===r&&(i+=t[0]*e[0]),i},numeric.dot=function(t,e){var r=numeric.dim;switch(1e3*r(t).length+r(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,r,n,o,i=t.length,u=Array(i);for(e=i-1;e>=0;e--){for(o=Array(i),r=e+2,n=i-1;n>=r;n-=2)o[n]=0,o[n-1]=0;for(n>e&&(o[n]=0),o[e]=t[e],n=e-1;n>=1;n-=2)o[n]=0,o[n-1]=0;0===n&&(o[0]=0),u[e]=o}return u},numeric.getDiag=function(t){var e,r=Math.min(t.length,t[0].length),n=Array(r);for(e=r-1;e>=1;--e)n[e]=t[e][e],--e,n[e]=t[e][e];return 0===e&&(n[0]=t[0][0]),n},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,r){"undefined"==typeof r&&(r="");var n,o,i=[],u=/\[i\]$/,s="",a=!1;for(n=0;n<t.length;n++)u.test(t[n])?(o=t[n].substring(0,t[n].length-3),s=o):o=t[n],"ret"===o&&(a=!0),i.push(o);return i[t.length]="_s",i[t.length+1]="_k",i[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(a?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,i)},numeric.pointwise2=function(t,e,r){"undefined"==typeof r&&(r="");var n,o,i=[],u=/\[i\]$/,s="",a=!1;for(n=0;n<t.length;n++)u.test(t[n])?(o=t[n].substring(0,t[n].length-3),s=o):o=t[n],"ret"===o&&(a=!0),i.push(o);return i[t.length]="var _n = "+s+".length;\nvar i"+(a?"":", ret = Array(_n)")+";\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,i)},numeric._biforeach=function e(t,r,n,o,i){if(o===n.length-1)return void i(t,r);var u,s=n[o];for(u=s-1;u>=0;u--)e("object"==typeof t?t[u]:t,"object"==typeof r?r[u]:r,n,o+1,i)},numeric._biforeach2=function r(t,e,n,o,i){if(o===n.length-1)return i(t,e);var u,s=n[o],a=Array(s);for(u=s-1;u>=0;--u)a[u]=r("object"==typeof t?t[u]:t,"object"==typeof e?e[u]:e,n,o+1,i);return a},numeric._foreach=function n(t,e,r,o){if(r===e.length-1)return void o(t);var i,u=e[r];for(i=u-1;i>=0;i--)n(t[i],e,r+1,o)},numeric._foreach2=function o(t,e,r,n){if(r===e.length-1)return n(t);var i,u=e[r],s=Array(u);for(i=u-1;i>=0;i--)s[i]=o(t[i],e,r+1,n);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var r,n,o="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(o="var "+e+" = Math."+e+";\n",r=function(t,r,n){return t+" = "+e+"("+r+","+n+")"},n=function(t,r){return t+" = "+e+"("+t+","+r+")"}):(r=function(t,r,n){return t+" = "+r+" "+e+" "+n},n=numeric.opseq.hasOwnProperty(t+"eq")?function(t,r){return t+" "+e+"= "+r}:function(t,r){return t+" = "+t+" "+e+" "+r}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),o),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),o),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),o),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),o),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),o),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(o="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(o="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",o),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",o),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,r,n,o,i,u,s,t,a=numeric.dim(t),c=Math.abs,f=a[0],p=a[1],l=numeric.clone(t),h=numeric.identity(f);for(u=0;p>u;++u){var m=-1,y=-1;for(i=u;i!==f;++i)s=c(l[i][u]),s>y&&(m=i,y=s);for(r=l[m],l[m]=l[u],l[u]=r,o=h[m],h[m]=h[u],h[u]=o,t=r[u],s=u;s!==p;++s)r[s]/=t;for(s=p-1;-1!==s;--s)o[s]/=t;for(i=f-1;-1!==i;--i)if(i!==u){for(e=l[i],n=h[i],t=e[u],s=u+1;s!==p;++s)e[s]-=r[s]*t;for(s=p-1;s>0;--s)n[s]-=o[s]*t,--s,n[s]-=o[s]*t;0===s&&(n[0]-=o[0]*t)}}return h},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var r,n,o,i,u,s,a,c,f=e[0],p=1,l=numeric.clone(t);for(n=0;f-1>n;n++){for(o=n,r=n+1;f>r;r++)Math.abs(l[r][n])>Math.abs(l[o][n])&&(o=r);for(o!==n&&(a=l[o],l[o]=l[n],l[n]=a,p*=-1),i=l[n],r=n+1;f>r;r++){for(u=l[r],s=u[n]/i[n],o=n+1;f-1>o;o+=2)c=o+1,u[o]-=i[o]*s,u[c]-=i[c]*s;o!==f&&(u[o]-=i[o]*s)}if(0===i[n])return 0;p*=i[n]}return p*l[n][n]},numeric.transpose=function(t){var e,r,n,o,i,u=t.length,s=t[0].length,a=Array(s);for(r=0;s>r;r++)a[r]=Array(u);for(e=u-1;e>=1;e-=2){for(o=t[e],n=t[e-1],r=s-1;r>=1;--r)i=a[r],i[e]=o[r],i[e-1]=n[r],--r,i=a[r],i[e]=o[r],i[e-1]=n[r];0===r&&(i=a[0],i[e]=o[0],i[e-1]=n[0])}if(0===e){for(n=t[0],r=s-1;r>=1;--r)a[r][0]=n[r],--r,a[r][0]=n[r];0===r&&(a[0][0]=n[0])}return a},numeric.negtranspose=function(t){var e,r,n,o,i,u=t.length,s=t[0].length,a=Array(s);for(r=0;s>r;r++)a[r]=Array(u);for(e=u-1;e>=1;e-=2){for(o=t[e],n=t[e-1],r=s-1;r>=1;--r)i=a[r],i[e]=-o[r],i[e-1]=-n[r],--r,i=a[r],i[e]=-o[r],i[e-1]=-n[r];0===r&&(i=a[0],i[e]=-o[0],i[e-1]=-n[0])}if(0===e){for(n=t[0],r=s-1;r>=1;--r)a[r][0]=-n[r],--r,a[r][0]=-n[r];0===r&&(a[0][0]=-n[0])}return a},numeric._random=function i(t,e){var r,n,o=t[e],u=Array(o);if(e===t.length-1){for(n=Math.random,r=o-1;r>=1;r-=2)u[r]=n(),u[r-1]=n();return 0===r&&(u[0]=n()),u}for(r=o-1;r>=0;r--)u[r]=i(t,e+1);return u},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,r){if("undefined"==typeof r&&(r=Math.max(Math.round(e-t)+1,1)),2>r)return 1===r?[t]:[];var n,o=Array(r);for(r--,n=r;n>=0;n--)o[n]=(n*e+(r-n)*t)/r;return o},numeric.getBlock=function(t,e,r){function n(t,i){var u,s=e[i],a=r[i]-s,c=Array(a);if(i===o.length-1){for(u=a;u>=0;u--)c[u]=t[u+s];return c}for(u=a;u>=0;u--)c[u]=n(t[u+s],i+1);return c}var o=numeric.dim(t);return n(t,0)},numeric.setBlock=function(t,e,r,n){function o(t,n,u){var s,a=e[u],c=r[u]-a;if(u===i.length-1)for(s=c;s>=0;s--)t[s+a]=n[s];for(s=c;s>=0;s--)o(t[s+a],n[s],u+1)}var i=numeric.dim(t);return o(t,n,0),t},numeric.getRange=function(t,e,r){var n,o,i,u,s=e.length,a=r.length,c=Array(s);for(n=s-1;-1!==n;--n)for(c[n]=Array(a),i=c[n],u=t[e[n]],o=a-1;-1!==o;--o)i[o]=u[r[o]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var r,n,o,i,u,s=e[0],a=e[1];for(r=0,n=0,o=0;s>o;++o)r+=t[o][0].length;for(i=0;a>i;++i)n+=t[0][i][0].length;var c=Array(r);for(o=0;r>o;++o)c[o]=Array(n);var f,p,l,h,m,y=0;for(o=0;s>o;++o){for(f=n,i=a-1;-1!==i;--i)for(u=t[o][i],f-=u[0].length,l=u.length-1;-1!==l;--l)for(m=u[l],p=c[y+l],h=m.length-1;-1!==h;--h)p[f+h]=m[h];y+=t[o][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var r=numeric.dim(t),n=numeric.dim(e);if(1!==r.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var o,i,u,s,a=r[0],c=n[0],f=Array(a);for(i=a-1;i>=0;i--){for(o=Array(c),s=t[i],u=c-1;u>=3;--u)o[u]=s*e[u],--u,o[u]=s*e[u],--u,o[u]=s*e[u],--u,o[u]=s*e[u];for(;u>=0;)o[u]=s*e[u],--u;f[i]=o}return f},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,r,n,o){numeric.indexOf;if("string"!=typeof o){var i;o="";for(i in numeric)numeric.hasOwnProperty(i)&&(t.indexOf(i)>=0||e.indexOf(i)>=0||r.indexOf(i)>=0||n.indexOf(i)>=0)&&i.length>1&&(o+="var "+i+" = numeric."+i+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+o+"\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\n  }\n  return new numeric.T("+r+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,r),e(numeric.neg(this.y),r))}return new T(e(1,this.x))},numeric.T.prototype.div=function u(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var u=numeric.div;return this.y?new numeric.T(u(this.x,t.x),u(this.y,t.x)):new numeric.T(u(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,r=this.y;return r?new numeric.T(t(e),t(r)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,r=this.y;return r?new numeric.T(t(e),numeric.negtranspose(r)):new numeric.T(t(e))},numeric.Tunop=function(t,e,r){return"string"!=typeof r&&(r=""),Function("var x = this;\n"+r+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if("undefined"==typeof t.y)return new numeric.T(numeric.inv(t.x));var e,r,n,o,i,u,s,a,c,f,p,e,r,n,l,h,m,y,d,g,v,b=t.x.length,_=numeric.identity(b),x=numeric.rep([b,b],0),w=numeric.clone(t.x),S=numeric.clone(t.y);for(e=0;b>e;e++){for(m=w[e][e],y=S[e][e],l=m*m+y*y,n=e,r=e+1;b>r;r++)m=w[r][e],y=S[r][e],h=m*m+y*y,h>l&&(n=r,l=h);for(n!==e&&(v=w[e],w[e]=w[n],w[n]=v,v=S[e],S[e]=S[n],S[n]=v,v=_[e],_[e]=_[n],_[n]=v,v=x[e],x[e]=x[n],x[n]=v),o=w[e],i=S[e],a=_[e],c=x[e],m=o[e],y=i[e],r=e+1;b>r;r++)d=o[r],g=i[r],o[r]=(d*m+g*y)/l,i[r]=(g*m-d*y)/l;for(r=0;b>r;r++)d=a[r],g=c[r],a[r]=(d*m+g*y)/l,c[r]=(g*m-d*y)/l;for(r=e+1;b>r;r++){for(u=w[r],s=S[r],f=_[r],p=x[r],m=u[e],y=s[e],n=e+1;b>n;n++)d=o[n],g=i[n],u[n]-=d*m-g*y,s[n]-=g*m+d*y;for(n=0;b>n;n++)d=a[n],g=c[n],f[n]-=d*m-g*y,p[n]-=g*m+d*y}}for(e=b-1;e>0;e--)for(a=_[e],c=x[e],r=e-1;r>=0;r--)for(f=_[r],p=x[r],m=w[r][e],y=S[r][e],n=b-1;n>=0;n--)d=a[n],g=c[n],f[n]-=m*d-y*g,p[n]-=m*g+y*d;return new numeric.T(_,x)},numeric.T.prototype.get=function(t){var e,r=this.x,n=this.y,o=0,i=t.length;if(n){for(;i>o;)e=t[o],r=r[e],n=n[e],o++;return new numeric.T(r,n)}for(;i>o;)e=t[o],r=r[e],o++;return new numeric.T(r)},numeric.T.prototype.set=function(t,e){var r,n=this.x,o=this.y,i=0,u=t.length,s=e.x,a=e.y;if(0===u)return a?this.y=a:o&&(this.y=void 0),this.x=n,this;if(a){for(o||(o=numeric.rep(numeric.dim(n),0),this.y=o);u-1>i;)r=t[i],n=n[r],o=o[r],i++;return r=t[i],n[r]=s,o[r]=a,this}if(o){for(;u-1>i;)r=t[i],n=n[r],o=o[r],i++;return r=t[i],n[r]=s,o[r]=s instanceof Array?numeric.rep(numeric.dim(s),0):0,this}for(;u-1>i;)r=t[i],n=n[r],i++;return r=t[i],n[r]=s,this},numeric.T.prototype.getRows=function(t,e){var r,n,o=e-t+1,i=Array(o),u=this.x,s=this.y;for(r=t;e>=r;r++)i[r-t]=u[r];if(s){for(n=Array(o),r=t;e>=r;r++)n[r-t]=s[r];return new numeric.T(i,n)}return new numeric.T(i)},numeric.T.prototype.setRows=function(t,e,r){var n,o=this.x,i=this.y,u=r.x,s=r.y;for(n=t;e>=n;n++)o[n]=u[n-t];if(s)for(i||(i=numeric.rep(numeric.dim(o),0),this.y=i),n=t;e>=n;n++)i[n]=s[n-t];else if(i)for(n=t;e>=n;n++)i[n]=numeric.rep([u[n-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,r=this.y;return r?new numeric.T(e[t],r[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var r=this.x,n=this.y,o=e.x,i=e.y;return r[t]=o,i?(n||(n=numeric.rep(numeric.dim(r),0),this.y=n),n[t]=i):n&&(n=numeric.rep([o.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var r=this.x,n=this.y,o=numeric.getBlock;return n?new numeric.T(o(r,t,e),o(n,t,e)):new numeric.T(o(r,t,e))},numeric.T.prototype.setBlock=function(t,e,r){r instanceof numeric.T||(r=new numeric.T(r));var n=this.x,o=this.y,i=numeric.setBlock,u=r.x,s=r.y;return s?(o||(this.y=numeric.rep(numeric.dim(this),0),o=this.y),i(n,t,e,u),i(o,t,e,s),this):(i(n,t,e,u),void(o&&i(o,t,e,numeric.rep(numeric.dim(u),0))))},numeric.T.rep=function(t,e){var r=numeric.T;e instanceof r||(e=new r(e));var n=e.x,o=e.y,i=numeric.rep;return o?new r(i(t,n),i(t,o)):new r(i(t,n))},numeric.T.diag=function s(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,r=t.y,s=numeric.diag;return r?new numeric.T(s(e),s(r)):new numeric.T(s(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,r=this.y;return r?new t.T(t.getDiag(e),t.getDiag(r)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),r=t[0]>=0?1:-1,n=r*numeric.norm2(t);e[0]+=n;var o=numeric.norm2(e);if(0===o)throw new Error("eig: internal error");return numeric.div(e,o)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r,n,o,i,u,s,a,c,f,p,l=e[0],h=numeric.clone(t),m=numeric.identity(l);for(n=0;l-2>n;n++){for(i=Array(l-n-1),r=n+1;l>r;r++)i[r-n-1]=h[r][n];if(numeric.norm2(i)>0){for(u=numeric.house(i),s=numeric.getBlock(h,[n+1,n],[l-1,l-1]),a=numeric.tensor(u,numeric.dot(u,s)),r=n+1;l>r;r++)for(c=h[r],f=a[r-n-1],o=n;l>o;o++)c[o]-=2*f[o-n];for(s=numeric.getBlock(h,[0,n+1],[l-1,l-1]),a=numeric.tensor(numeric.dot(s,u),u),r=0;l>r;r++)for(c=h[r],f=a[r],o=n+1;l>o;o++)c[o]-=2*f[o-n-1];for(s=Array(l-n-1),r=n+1;l>r;r++)s[r-n-1]=m[r];for(a=numeric.tensor(u,numeric.dot(u,s)),r=n+1;l>r;r++)for(p=m[r],f=a[r-n-1],o=0;l>o;o++)p[o]-=2*f[o]}}return{H:h,Q:m}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){"undefined"==typeof e&&(e=1e4),t=numeric.clone(t);var r,n,o,i,u,s,a,c,f,p,l,h,m,y,d,g,v,b,_=(numeric.clone(t),numeric.dim(t)),x=_[0],w=numeric.identity(x);if(3>x)return{Q:w,B:[[0,x-1]]};var S=numeric.epsilon;for(b=0;e>b;b++){for(g=0;x-1>g;g++)if(Math.abs(t[g+1][g])<S*(Math.abs(t[g][g])+Math.abs(t[g+1][g+1]))){var E=numeric.QRFrancis(numeric.getBlock(t,[0,0],[g,g]),e),j=numeric.QRFrancis(numeric.getBlock(t,[g+1,g+1],[x-1,x-1]),e);for(h=Array(g+1),d=0;g>=d;d++)h[d]=w[d];for(m=numeric.dot(E.Q,h),d=0;g>=d;d++)w[d]=m[d];for(h=Array(x-g-1),d=g+1;x>d;d++)h[d-g-1]=w[d];for(m=numeric.dot(j.Q,h),d=g+1;x>d;d++)w[d]=m[d-g-1];return{Q:w,B:E.B.concat(numeric.add(j.B,g+1))}}if(o=t[x-2][x-2],i=t[x-2][x-1],u=t[x-1][x-2],s=t[x-1][x-1],c=o+s,a=o*s-i*u,f=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*a){var O,k;O=.5*(c+Math.sqrt(c*c-4*a)),k=.5*(c-Math.sqrt(c*c-4*a)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,O+k)),numeric.diag(numeric.rep([3],O*k)))}else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,c)),numeric.diag(numeric.rep([3],a)));for(r=[f[0][0],f[1][0],f[2][0]],n=numeric.house(r),h=[t[0],t[1],t[2]],m=numeric.tensor(n,numeric.dot(n,h)),d=0;3>d;d++)for(l=t[d],y=m[d],v=0;x>v;v++)l[v]-=2*y[v];for(h=numeric.getBlock(t,[0,0],[x-1,2]),m=numeric.tensor(numeric.dot(h,n),n),d=0;x>d;d++)for(l=t[d],y=m[d],v=0;3>v;v++)l[v]-=2*y[v];for(h=[w[0],w[1],w[2]],m=numeric.tensor(n,numeric.dot(n,h)),d=0;3>d;d++)for(p=w[d],y=m[d],v=0;x>v;v++)p[v]-=2*y[v];var A;for(g=0;x-2>g;g++){for(v=g;g+1>=v;v++)if(Math.abs(t[v+1][v])<S*(Math.abs(t[v][v])+Math.abs(t[v+1][v+1]))){var E=numeric.QRFrancis(numeric.getBlock(t,[0,0],[v,v]),e),j=numeric.QRFrancis(numeric.getBlock(t,[v+1,v+1],[x-1,x-1]),e);for(h=Array(v+1),d=0;v>=d;d++)h[d]=w[d];for(m=numeric.dot(E.Q,h),d=0;v>=d;d++)w[d]=m[d];for(h=Array(x-v-1),d=v+1;x>d;d++)h[d-v-1]=w[d];for(m=numeric.dot(j.Q,h),d=v+1;x>d;d++)w[d]=m[d-v-1];return{Q:w,B:E.B.concat(numeric.add(j.B,v+1))}}for(A=Math.min(x-1,g+3),r=Array(A-g),d=g+1;A>=d;d++)r[d-g-1]=t[d][g];for(n=numeric.house(r),h=numeric.getBlock(t,[g+1,g],[A,x-1]),m=numeric.tensor(n,numeric.dot(n,h)),d=g+1;A>=d;d++)for(l=t[d],y=m[d-g-1],v=g;x>v;v++)l[v]-=2*y[v-g];for(h=numeric.getBlock(t,[0,g+1],[x-1,A]),m=numeric.tensor(numeric.dot(h,n),n),d=0;x>d;d++)for(l=t[d],y=m[d],v=g+1;A>=v;v++)l[v]-=2*y[v-g-1];for(h=Array(A-g),d=g+1;A>=d;d++)h[d-g-1]=w[d];for(m=numeric.tensor(n,numeric.dot(n,h)),d=g+1;A>=d;d++)for(p=w[d],y=m[d-g-1],v=0;x>v;v++)p[v]-=2*y[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var r,n,o,i,u,s,a,c,f,p,l,h,m,y,d,g,v,b=numeric.toUpperHessenberg(t),_=numeric.QRFrancis(b.H,e),x=numeric.T,w=t.length,S=_.B,E=numeric.dot(_.Q,numeric.dot(b.H,numeric.transpose(_.Q))),j=new x(numeric.dot(_.Q,b.Q)),O=S.length,k=Math.sqrt;for(n=0;O>n;n++)if(r=S[n][0],r===S[n][1]);else{if(i=r+1,u=E[r][r],s=E[r][i],a=E[i][r],c=E[i][i],0===s&&0===a)continue;f=-u-c,p=u*c-s*a,l=f*f-4*p,l>=0?(h=0>f?-.5*(f-k(l)):-.5*(f+k(l)),g=(u-h)*(u-h)+s*s,v=a*a+(c-h)*(c-h),g>v?(g=k(g),y=(u-h)/g,d=s/g):(v=k(v),y=a/v,d=(c-h)/v),o=new x([[d,-y],[y,d]]),j.setRows(r,i,o.dot(j.getRows(r,i)))):(h=-.5*f,m=.5*k(-l),g=(u-h)*(u-h)+s*s,v=a*a+(c-h)*(c-h),g>v?(g=k(g+m*m),y=(u-h)/g,d=s/g,h=0,m/=g):(v=k(v+m*m),y=a/v,d=(c-h)/v,h=m/v,m=0),o=new x([[d,-y],[y,d]],[[h,m],[m,-h]]),j.setRows(r,i,o.dot(j.getRows(r,i))))}var A=j.dot(t).dot(j.transjugate()),w=t.length,M=numeric.T.identity(w);for(i=0;w>i;i++)if(i>0)for(n=i-1;n>=0;n--){var N=A.get([n,n]),C=A.get([i,i]);numeric.neq(N.x,C.x)||numeric.neq(N.y,C.y)?(h=A.getRow(n).getBlock([n],[i-1]),m=M.getRow(i).getBlock([n],[i-1]),M.set([i,n],A.get([n,i]).neg().sub(h.dot(m)).div(N.sub(C)))):M.setRow(i,M.getRow(n))}for(i=0;w>i;i++)h=M.getRow(i),M.setRow(i,h.div(h.norm2()));return M=M.transpose(),M=j.transjugate().dot(M),{lambda:A.getDiag(),E:M}},numeric.ccsSparse=function(t){var e,r,n,o,i=t.length,u=[];for(n=i-1;-1!==n;--n){r=t[n];for(o in r){for(o=parseInt(o);o>=u.length;)u[u.length]=0;0!==r[o]&&u[o]++}}var e=u.length,s=Array(e+1);for(s[0]=0,n=0;e>n;++n)s[n+1]=s[n]+u[n];var a=Array(s[e]),c=Array(s[e]);for(n=i-1;-1!==n;--n){r=t[n];for(o in r)0!==r[o]&&(u[o]--,a[s[o]+u[o]]=n,c[s[o]+u[o]]=r[o])}return[s,a,c]},numeric.ccsFull=function(t){var e,r,n,o,i=t[0],u=t[1],s=t[2],a=numeric.ccsDim(t),c=a[0],f=a[1],p=numeric.rep([c,f],0);for(e=0;f>e;e++)for(n=i[e],o=i[e+1],r=n;o>r;++r)p[u[r]][e]=s[r];return p},numeric.ccsTSolve=function(t,e,r,n,o){function i(t){var e;if(0===r[t]){for(r[t]=1,e=u[t];e<u[t+1];++e)i(s[e]);o[p]=t,++p}}var u=t[0],s=t[1],a=t[2],c=u.length-1,f=Math.max,p=0;"undefined"==typeof n&&(r=numeric.rep([c],0)),"undefined"==typeof n&&(n=numeric.linspace(0,r.length-1)),"undefined"==typeof o&&(o=[]);var l,h,m,y,d,g,v;for(l=n.length-1;-1!==l;--l)i(n[l]);for(o.length=p,l=o.length-1;-1!==l;--l)r[o[l]]=0;for(l=n.length-1;-1!==l;--l)h=n[l],r[h]=e[h];for(l=o.length-1;-1!==l;--l){for(h=o[l],m=u[h],y=f(u[h+1],m),d=m;d!==y;++d)if(s[d]===h){r[h]/=a[d];break}for(v=r[h],d=m;d!==y;++d)g=s[d],g!==h&&(r[g]-=v*a[d])}return r},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,r,n,o,i){var u,s,a,c=0,f=o.length,p=this.k,l=this.k1,h=this.j;if(0===n[t])for(n[t]=1,h[0]=t,p[0]=s=e[t],l[0]=a=e[t+1];;)if(s>=a){if(o[f]=h[c],0===c)return;++f,--c,s=p[c],a=l[c]}else u=i[r[s]],0===n[u]?(n[u]=1,p[c]=s,++c,h[c]=u,s=e[u],l[c]=a=e[u+1]):++s},numeric.ccsLPSolve=function(t,e,r,n,o,i,u){var s,a,c,f,p,l,h,m,y,d=t[0],g=t[1],v=t[2],b=(d.length-1,e[0]),_=e[1],x=e[2];for(a=b[o],c=b[o+1],n.length=0,s=a;c>s;++s)u.dfs(i[_[s]],d,g,r,n,i);for(s=n.length-1;-1!==s;--s)r[n[s]]=0;for(s=a;s!==c;++s)f=i[_[s]],r[f]=x[s];for(s=n.length-1;-1!==s;--s){for(f=n[s],p=d[f],l=d[f+1],h=p;l>h;++h)if(i[g[h]]===f){r[f]/=v[h];break}for(y=r[f],h=p;l>h;++h)m=i[g[h]],m!==f&&(r[m]-=y*v[h])}return r},numeric.ccsLUP1=function(t,e){var r,n,o,i,u,s,a,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],p=[numeric.rep([c+1],0),[],[]],l=f[0],h=f[1],m=f[2],y=p[0],d=p[1],g=p[2],v=numeric.rep([c],0),b=numeric.rep([c],0),_=numeric.ccsLPSolve,x=(Math.max,Math.abs),w=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),E=new numeric.ccsDFS(c);for("undefined"==typeof e&&(e=1),r=0;c>r;++r){for(_(f,t,v,b,r,S,E),i=-1,u=-1,n=b.length-1;-1!==n;--n)o=b[n],r>=o||(s=x(v[o]),s>i&&(u=o,i=s));for(x(v[r])<e*i&&(n=w[r],i=w[u],w[r]=i,S[i]=r,w[u]=n,S[n]=u,i=v[r],v[r]=v[u],v[u]=i),i=l[r],u=y[r],a=v[r],h[i]=w[r],m[i]=1,++i,n=b.length-1;-1!==n;--n)o=b[n],s=v[o],b[n]=0,v[o]=0,r>=o?(d[u]=o,g[u]=s,++u):(h[i]=w[o],m[i]=s/a,++i);l[r+1]=i,y[r+1]=u}for(n=h.length-1;-1!==n;--n)h[n]=S[h[n]];return{L:f,U:p,P:w,Pinv:S}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,r,n,o,i){var u,s,a,c=0,f=o.length,p=this.k,l=this.k1,h=this.j;if(0===n[t])for(n[t]=1,h[0]=t,p[0]=s=e[i[t]],l[0]=a=e[i[t]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=a){if(o[f]=i[h[c]],0===c)return;++f,--c,s=p[c],a=l[c]}else u=r[s],0===n[u]?(n[u]=1,p[c]=s,++c,h[c]=u,u=i[u],s=e[u],l[c]=a=e[u+1]):++s}},numeric.ccsLPSolve0=function(t,e,r,n,o,i,u,s){var a,c,f,p,l,h,m,y,d,g=t[0],v=t[1],b=t[2],_=(g.length-1,e[0]),x=e[1],w=e[2];for(c=_[o],f=_[o+1],n.length=0,a=c;f>a;++a)s.dfs(x[a],g,v,r,n,i,u);for(a=n.length-1;-1!==a;--a)p=n[a],r[u[p]]=0;for(a=c;a!==f;++a)p=x[a],r[p]=w[a];for(a=n.length-1;-1!==a;--a){for(p=n[a],y=u[p],l=g[p],h=g[p+1],m=l;h>m;++m)if(v[m]===y){r[y]/=b[m];break}for(d=r[y],m=l;h>m;++m)r[v[m]]-=d*b[m];r[y]=d}},numeric.ccsLUP0=function(t,e){var r,n,o,i,u,s,a,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],p=[numeric.rep([c+1],0),[],[]],l=f[0],h=f[1],m=f[2],y=p[0],d=p[1],g=p[2],v=numeric.rep([c],0),b=numeric.rep([c],0),_=numeric.ccsLPSolve0,x=(Math.max,Math.abs),w=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),E=new numeric.ccsDFS0(c);for("undefined"==typeof e&&(e=1),r=0;c>r;++r){for(_(f,t,v,b,r,S,w,E),i=-1,u=-1,n=b.length-1;-1!==n;--n)o=b[n],r>=o||(s=x(v[w[o]]),s>i&&(u=o,i=s));for(x(v[w[r]])<e*i&&(n=w[r],i=w[u],w[r]=i,S[i]=r,w[u]=n,S[n]=u),i=l[r],u=y[r],a=v[w[r]],h[i]=w[r],m[i]=1,++i,n=b.length-1;-1!==n;--n)o=b[n],s=v[w[o]],b[n]=0,v[w[o]]=0,r>=o?(d[u]=o,g[u]=s,++u):(h[i]=w[o],m[i]=s/a,++i);l[r+1]=i,y[r+1]=u}for(n=h.length-1;-1!==n;--n)h[n]=S[h[n]];return{L:f,U:p,P:w,Pinv:S}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,r){var n=numeric.ccsDim(t),o=n[0],i=n[1];"undefined"==typeof e?e=numeric.linspace(0,o-1):"number"==typeof e&&(e=[e]),"undefined"==typeof r?r=numeric.linspace(0,i-1):"number"==typeof r&&(r=[r]);var u,s,a,c,f,p=e.length,l=r.length,h=numeric.rep([i],0),m=[],y=[],d=[h,m,y],g=t[0],v=t[1],b=t[2],_=numeric.rep([o],0),x=0,w=numeric.rep([o],0);for(s=0;l>s;++s){c=r[s];var S=g[c],E=g[c+1];for(u=S;E>u;++u)a=v[u],w[a]=1,_[a]=b[u];for(u=0;p>u;++u)f=e[u],w[f]&&(m[x]=u,y[x]=_[e[u]],++x);for(u=S;E>u;++u)a=v[u],w[a]=0;h[s+1]=x}return d},numeric.ccsDot=function(t,e){var r,n,o,i,u,s,a,c,f,p,l,h=t[0],m=t[1],y=t[2],d=e[0],g=e[1],v=e[2],b=numeric.ccsDim(t),_=numeric.ccsDim(e),x=b[0],w=(b[1],_[1]),S=numeric.rep([x],0),E=numeric.rep([x],0),j=Array(x),O=numeric.rep([w],0),k=[],A=[],M=[O,k,A];for(o=0;o!==w;++o){for(i=d[o],u=d[o+1],f=0,n=i;u>n;++n)for(p=g[n],l=v[n],s=h[p],a=h[p+1],r=s;a>r;++r)c=m[r],0===E[c]&&(j[f]=c,E[c]=1,f+=1),S[c]=S[c]+y[r]*l;for(i=O[o],u=i+f,O[o+1]=u,n=f-1;-1!==n;--n)l=i+n,r=j[n],k[l]=r,A[l]=S[r],E[r]=0,S[r]=0;O[o+1]=O[o]+f}return M},numeric.ccsLUPSolve=function(t,e){var r=t.L,n=t.U,o=(t.P,e[0]),i=!1;"object"!=typeof o&&(e=[[0,e.length],numeric.linspace(0,e.length-1),e],o=e[0],i=!0);var u,s,a,c,f,p,l=e[1],h=e[2],m=r[0].length-1,y=o.length-1,d=numeric.rep([m],0),g=Array(m),v=numeric.rep([m],0),b=Array(m),_=numeric.rep([y+1],0),x=[],w=[],S=numeric.ccsTSolve,E=0;for(u=0;y>u;++u){for(f=0,a=o[u],c=o[u+1],s=a;c>s;++s)p=t.Pinv[l[s]],b[f]=p,v[p]=h[s],++f;for(b.length=f,S(r,v,d,b,g),s=b.length-1;-1!==s;--s)v[b[s]]=0;if(S(n,d,v,g,b),i)return v;for(s=g.length-1;-1!==s;--s)d[g[s]]=0;for(s=b.length-1;-1!==s;--s)p=b[s],x[E]=p,w[E]=v[p],v[p]=0,++E;_[u+1]=E}return[_,x,w]},numeric.ccsbinop=function(t,e){return"undefined"==typeof e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")
}(),numeric.ccsScatter=function(t){var e,r=t[0],n=t[1],o=t[2],i=numeric.sup(n)+1,u=r.length,s=numeric.rep([i],0),a=Array(u),c=Array(u),f=numeric.rep([i],0);for(e=0;u>e;++e)f[n[e]]++;for(e=0;i>e;++e)s[e+1]=s[e]+f[e];var p,l,h=s.slice(0);for(e=0;u>e;++e)l=n[e],p=h[l],a[p]=r[e],c[p]=o[e],h[l]=h[l]+1;return[s,a,c]},numeric.ccsGather=function(t){var e,r,n,o,i,u=t[0],s=t[1],a=t[2],c=u.length-1,f=s.length,p=Array(f),l=Array(f),h=Array(f);for(i=0,e=0;c>e;++e)for(n=u[e],o=u[e+1],r=n;r!==o;++r)l[i]=e,p[i]=s[r],h[i]=a[r],++i;return[p,l,h]},numeric.sdim=function a(t,e,r){if("undefined"==typeof e&&(e=[]),"object"!=typeof t)return e;"undefined"==typeof r&&(r=0),r in e||(e[r]=0),t.length>e[r]&&(e[r]=t.length);var n;for(n in t)t.hasOwnProperty(n)&&a(t[n],e,r+1);return e},numeric.sclone=function c(t,e,r){"undefined"==typeof e&&(e=0),"undefined"==typeof r&&(r=numeric.sdim(t).length);var n,o=Array(t.length);if(e===r-1){for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}for(n in t)t.hasOwnProperty(n)&&(o[n]=c(t[n],e+1,r));return o},numeric.sdiag=function(t){var e,r,n=t.length,o=Array(n);for(e=n-1;e>=1;e-=2)r=e-1,o[e]=[],o[e][e]=t[e],o[r]=[],o[r][r]=t[r];return 0===e&&(o[0]=[],o[0][0]=t[e]),o},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){{var e,r,n,o=[];t.length}for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(r in n)n.hasOwnProperty(r)&&("object"!=typeof o[r]&&(o[r]=[]),o[r][e]=n[r])}return o},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var r,n,o,i,u,s,a,c=t.length,f=(e.length,numeric.stranspose(e)),p=f.length,l=Array(c);for(o=c-1;o>=0;o--){for(a=[],r=t[o],u=p-1;u>=0;u--){s=0,n=f[u];for(i in r)r.hasOwnProperty(i)&&i in n&&(s+=r[i]*n[i]);s&&(a[u]=s)}l[o]=a}return l},numeric.sdotMV=function(t,e){var r,n,o,i,u=t.length,s=Array(u);for(n=u-1;n>=0;n--){r=t[n],i=0;for(o in r)r.hasOwnProperty(o)&&e[o]&&(i+=r[o]*e[o]);i&&(s[n]=i)}return s},numeric.sdotVM=function(t,e){var r,n,o,i,u=[];for(r in t)if(t.hasOwnProperty(r)){o=e[r],i=t[r];for(n in o)o.hasOwnProperty(n)&&(u[n]||(u[n]=0),u[n]+=i*o[n])}return u},numeric.sdotVV=function(t,e){var r,n=0;for(r in t)t[r]&&e[r]&&(n+=t[r]*e[r]);return n},numeric.sdot=function(t,e){var r=numeric.sdim(t).length,n=numeric.sdim(e).length,o=1e3*r+n;switch(o){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+n)}},numeric.sscatter=function(t){var e,r,n,o,i=t[0].length,u=t.length,s=[];for(r=i-1;r>=0;--r)if(t[u-1][r]){for(o=s,n=0;u-2>n;n++)e=t[n][r],o[e]||(o[e]=[]),o=o[e];o[t[n][r]]=t[n+1][r]}return s},numeric.sgather=function f(t,e,r){"undefined"==typeof e&&(e=[]),"undefined"==typeof r&&(r=[]);var n,o,i;n=r.length;for(o in t)if(t.hasOwnProperty(o))if(r[n]=parseInt(o),i=t[o],"number"==typeof i){if(i){if(0===e.length)for(o=n+1;o>=0;--o)e[o]=[];for(o=n;o>=0;--o)e[o].push(r[o]);e[n+1].push(i)}}else f(i,e,r);return r.length>n&&r.pop(),e},numeric.cLU=function(t){var e,r,n,o,i,u,s=t[0],a=t[1],c=t[2],f=s.length,p=0;for(e=0;f>e;e++)s[e]>p&&(p=s[e]);p++;var l,h,m,y=Array(p),d=Array(p),g=numeric.rep([p],1/0),v=numeric.rep([p],-1/0);for(n=0;f>n;n++)e=s[n],r=a[n],r<g[e]&&(g[e]=r),r>v[e]&&(v[e]=r);for(e=0;p-1>e;e++)v[e]>v[e+1]&&(v[e+1]=v[e]);for(e=p-1;e>=1;e--)g[e]<g[e-1]&&(g[e-1]=g[e]);var b=0,_=0;for(e=0;p>e;e++)d[e]=numeric.rep([v[e]-g[e]+1],0),y[e]=numeric.rep([e-g[e]],0),b+=e-g[e]+1,_+=v[e]-e+1;for(n=0;f>n;n++)e=s[n],d[e][a[n]-g[e]]=c[n];for(e=0;p-1>e;e++)for(o=e-g[e],l=d[e],r=e+1;g[r]<=e&&p>r;r++)if(i=e-g[r],u=v[e]-e,h=d[r],m=h[i]/l[o]){for(n=1;u>=n;n++)h[n+i]-=m*l[n+o];y[r][e-g[r]]=m}var f,x,w,l=[],h=[],S=[],E=[],j=[],O=[];for(f=0,x=0,e=0;p>e;e++){for(o=g[e],i=v[e],w=d[e],r=e;i>=r;r++)w[r-o]&&(l[f]=e,h[f]=r,S[f]=w[r-o],f++);for(w=y[e],r=o;e>r;r++)w[r-o]&&(E[x]=e,j[x]=r,O[x]=w[r-o],x++);E[x]=e,j[x]=e,O[x]=1,x++}return{U:[l,h,S],L:[E,j,O]}},numeric.cLUsolve=function(t,e){var r,n,o=t.L,i=t.U,u=numeric.clone(e),s=o[0],a=o[1],c=o[2],f=i[0],p=i[1],l=i[2],h=f.length,m=(s.length,u.length);for(n=0,r=0;m>r;r++){for(;a[n]<r;)u[r]-=c[n]*u[a[n]],n++;n++}for(n=h-1,r=m-1;r>=0;r--){for(;p[n]>r;)u[r]-=l[n]*u[p[n]],n--;u[r]/=l[n],n--}return u},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var r,n,o,i=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,r){return e>=t[0]/2||r<t[1]/2};break;default:e=function(){return!0}}for(o=0,r=1;r<t[0]-1;r++)for(n=1;n<t[1]-1;n++)e(r,n)&&(i[r][n]=o,o++);return i},numeric.cdelsq=function(t){var e,r,n,o,i,u=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),a=s[0],c=s[1],f=[],p=[],l=[];for(e=1;a-1>e;e++)for(r=1;c-1>r;r++)if(!(t[e][r]<0)){for(n=0;4>n;n++)o=e+u[n][0],i=r+u[n][1],t[o][i]<0||(f.push(t[e][r]),p.push(t[o][i]),l.push(-1));f.push(t[e][r]),p.push(t[e][r]),l.push(4)}return[f,p,l]},numeric.cdotMV=function(t,e){var r,n,o,i=t[0],u=t[1],s=t[2],a=i.length;for(o=0,n=0;a>n;n++)i[n]>o&&(o=i[n]);for(o++,r=numeric.rep([o],0),n=0;a>n;n++)r[i[n]]+=s[n]*e[u[n]];return r},numeric.Spline=function(t,e,r,n,o){this.x=t,this.yl=e,this.yr=r,this.kl=n,this.kr=o},numeric.Spline.prototype._at=function(t,e){var t,r,n,o,i=this.x,u=this.yl,s=this.yr,a=this.kl,c=this.kr,f=numeric.add,p=numeric.sub,l=numeric.mul;r=p(l(a[e],i[e+1]-i[e]),p(s[e+1],u[e])),n=f(l(c[e+1],i[e]-i[e+1]),p(s[e+1],u[e])),o=(t-i[e])/(i[e+1]-i[e]);var h=o*(1-o);return f(f(f(l(1-o,u[e]),l(o,s[e+1])),l(r,h*(1-o))),l(n,h*o))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,r,n,o=this.x,i=o.length,u=Math.floor;for(e=0,r=i-1;r-e>1;)n=u((e+r)/2),o[n]<=t?e=n:r=n;return this._at(t,e)}var s,i=t.length,a=Array(i);for(s=i-1;-1!==s;--s)a[s]=this.at(t[s]);return a},numeric.Spline.prototype.diff=function(){var t,e,r,n=this.x,o=this.yl,i=this.yr,u=this.kl,s=this.kr,a=o.length,c=u,f=s,p=Array(a),l=Array(a),h=numeric.add,m=numeric.mul,y=numeric.div,d=numeric.sub;for(t=a-1;-1!==t;--t)e=n[t+1]-n[t],r=d(i[t+1],o[t]),p[t]=y(h(m(r,6),m(u[t],-4*e),m(s[t+1],-2*e)),e*e),l[t+1]=y(h(m(r,-6),m(u[t],2*e),m(s[t+1],4*e)),e*e);return new numeric.Spline(n,c,f,p,l)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],r=this.x,n=this.yl,o=this.yr,i=this.kl,u=this.kr;"number"==typeof n[0]&&(n=[n],o=[o],i=[i],u=[u]);var s,a,c,f,p,l,h,m,y,d,g,v,b,_,x,w,S,E,j,O,k,A,M,N,C=n.length,L=r.length-1,e=Array(C),D=Math.sqrt;for(s=0;s!==C;++s){for(f=n[s],p=o[s],l=i[s],h=u[s],m=[],a=0;a!==L;a++){for(a>0&&p[a]*f[a]<0&&m.push(r[a]),w=r[a+1]-r[a],S=r[a],g=f[a],v=p[a+1],y=l[a]/w,d=h[a+1]/w,x=t(y-d+3*(g-v))+12*d*g,b=d+3*g+2*y-3*v,_=3*(d+y+2*(g-v)),0>=x?(j=b/_,E=j>r[a]&&j<r[a+1]?[r[a],j,r[a+1]]:[r[a],r[a+1]]):(j=(b-D(x))/_,O=(b+D(x))/_,E=[r[a]],j>r[a]&&j<r[a+1]&&E.push(j),O>r[a]&&O<r[a+1]&&E.push(O),E.push(r[a+1])),A=E[0],j=this._at(A,a),c=0;c<E.length-1;c++)if(M=E[c+1],O=this._at(M,a),0!==j)if(0===O||j*O>0)A=M,j=O;else{for(var T=0;;){if(N=(j*M-O*A)/(j-O),A>=N||N>=M)break;if(k=this._at(N,a),k*O>0)M=N,O=k,-1===T&&(j*=.5),T=-1;else{if(!(k*j>0))break;A=N,j=k,1===T&&(O*=.5),T=1}}m.push(N),A=E[c+1],j=this._at(A,a)}else m.push(A),A=M,j=O;0===O&&m.push(M)}e[s]=m}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,r,n){var o,i=t.length,u=[],s=[],a=[],c=numeric.sub,f=numeric.mul,p=numeric.add;for(o=i-2;o>=0;o--)s[o]=t[o+1]-t[o],a[o]=c(e[o+1],e[o]);("string"==typeof r||"string"==typeof n)&&(r=n="periodic");var l=[[],[],[]];switch(typeof r){case"undefined":u[0]=f(3/(s[0]*s[0]),a[0]),l[0].push(0,0),l[1].push(0,1),l[2].push(2/s[0],1/s[0]);break;case"string":u[0]=p(f(3/(s[i-2]*s[i-2]),a[i-2]),f(3/(s[0]*s[0]),a[0])),l[0].push(0,0,0),l[1].push(i-2,0,1),l[2].push(1/s[i-2],2/s[i-2]+2/s[0],1/s[0]);break;default:u[0]=r,l[0].push(0),l[1].push(0),l[2].push(1)}for(o=1;i-1>o;o++)u[o]=p(f(3/(s[o-1]*s[o-1]),a[o-1]),f(3/(s[o]*s[o]),a[o])),l[0].push(o,o,o),l[1].push(o-1,o,o+1),l[2].push(1/s[o-1],2/s[o-1]+2/s[o],1/s[o]);switch(typeof n){case"undefined":u[i-1]=f(3/(s[i-2]*s[i-2]),a[i-2]),l[0].push(i-1,i-1),l[1].push(i-2,i-1),l[2].push(1/s[i-2],2/s[i-2]);break;case"string":l[1][l[1].length-1]=0;break;default:u[i-1]=n,l[0].push(i-1),l[1].push(i-1),l[2].push(1)}u="number"!=typeof u[0]?numeric.transpose(u):[u];var h=Array(u.length);if("string"==typeof r)for(o=h.length-1;-1!==o;--o)h[o]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(l)),u[o]),h[o][i-1]=h[o][0];else for(o=h.length-1;-1!==o;--o)h[o]=numeric.cLUsolve(numeric.cLU(l),u[o]);return h="number"==typeof e[0]?h[0]:numeric.transpose(h),new numeric.Spline(t,e,e,h,h)},numeric.fftpow2=function p(t,e){var r=t.length;if(1!==r){var n,o,i=Math.cos,u=Math.sin,s=Array(r/2),a=Array(r/2),c=Array(r/2),f=Array(r/2);for(o=r/2,n=r-1;-1!==n;--n)--o,c[o]=t[n],f[o]=e[n],--n,s[o]=t[n],a[o]=e[n];p(s,a),p(c,f),o=r/2;var l,h,m,y=-6.283185307179586/r;for(n=r-1;-1!==n;--n)--o,-1===o&&(o=r/2-1),l=y*n,h=i(l),m=u(l),t[n]=s[o]+h*c[o]-m*f[o],e[n]=a[o]+h*f[o]+m*c[o]}},numeric._ifftpow2=function l(t,e){var r=t.length;if(1!==r){var n,o,i=Math.cos,u=Math.sin,s=Array(r/2),a=Array(r/2),c=Array(r/2),f=Array(r/2);for(o=r/2,n=r-1;-1!==n;--n)--o,c[o]=t[n],f[o]=e[n],--n,s[o]=t[n],a[o]=e[n];l(s,a),l(c,f),o=r/2;var p,h,m,y=6.283185307179586/r;for(n=r-1;-1!==n;--n)--o,-1===o&&(o=r/2-1),p=y*n,h=i(p),m=u(p),t[n]=s[o]+h*c[o]-m*f[o],e[n]=a[o]+h*f[o]+m*c[o]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,r,n){numeric.fftpow2(t,e),numeric.fftpow2(r,n);var o,i,u,s,a,c=t.length;for(o=c-1;-1!==o;--o)i=t[o],s=e[o],u=r[o],a=n[o],t[o]=i*u-s*a,e[o]=i*a+s*u;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){{var t,e,r=this.x,n=this.y,o=r.length,i=Math.log,u=i(2),s=Math.ceil(i(2*o-1)/u),a=Math.pow(2,s),c=numeric.rep([a],0),f=numeric.rep([a],0),p=Math.cos,l=Math.sin,h=-3.141592653589793/o,m=numeric.rep([a],0),y=numeric.rep([a],0);Math.floor(o/2)}for(t=0;o>t;t++)m[t]=r[t];if("undefined"!=typeof n)for(t=0;o>t;t++)y[t]=n[t];for(c[0]=1,t=1;a/2>=t;t++)e=h*t*t,c[t]=p(e),f[t]=l(e),c[a-t]=p(e),f[a-t]=l(e);var d=new numeric.T(m,y),g=new numeric.T(c,f);return d=d.mul(g),numeric.convpow2(d.x,d.y,numeric.clone(g.x),numeric.neg(g.y)),d=d.mul(g),d.x.length=o,d.y.length=o,d},numeric.T.prototype.ifft=function(){{var t,e,r=this.x,n=this.y,o=r.length,i=Math.log,u=i(2),s=Math.ceil(i(2*o-1)/u),a=Math.pow(2,s),c=numeric.rep([a],0),f=numeric.rep([a],0),p=Math.cos,l=Math.sin,h=3.141592653589793/o,m=numeric.rep([a],0),y=numeric.rep([a],0);Math.floor(o/2)}for(t=0;o>t;t++)m[t]=r[t];if("undefined"!=typeof n)for(t=0;o>t;t++)y[t]=n[t];for(c[0]=1,t=1;a/2>=t;t++)e=h*t*t,c[t]=p(e),f[t]=l(e),c[a-t]=p(e),f[a-t]=l(e);var d=new numeric.T(m,y),g=new numeric.T(c,f);return d=d.mul(g),numeric.convpow2(d.x,d.y,numeric.clone(g.x),numeric.neg(g.y)),d=d.mul(g),d.x.length=o,d.y.length=o,d.div(o)},numeric.gradient=function(t,e){var r=e.length,n=t(e);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var o,i,u,s,a,c,f,p,l,h,m=Math.max,y=numeric.clone(e),d=Array(r),m=(numeric.div,numeric.sub,Math.max),g=.001,v=Math.abs,b=Math.min,_=0;for(o=0;r>o;o++)for(var x=m(1e-6*n,1e-8);;){if(++_,_>20)throw new Error("Numerical gradient fails");if(y[o]=e[o]+x,i=t(y),y[o]=e[o]-x,u=t(y),y[o]=e[o],isNaN(i)||isNaN(u))x/=16;else{if(d[o]=(i-u)/(2*x),a=e[o]-x,c=e[o],f=e[o]+x,p=(i-n)/x,l=(n-u)/x,h=m(v(d[o]),v(n),v(i),v(u),v(a),v(c),v(f),1e-8),s=b(m(v(p-d[o]),v(l-d[o]),v(p-l))/h,x/h),!(s>g))break;x/=16}}return d},numeric.uncmin=function(t,e,r,n,o,i,u){var s=numeric.gradient;"undefined"==typeof u&&(u={}),"undefined"==typeof r&&(r=1e-8),"undefined"==typeof n&&(n=function(e){return s(t,e)}),"undefined"==typeof o&&(o=1e3),e=numeric.clone(e);var a,c,f=e.length,p=t(e);if(isNaN(p))throw new Error("uncmin: f(x0) is a NaN!");var l=Math.max,h=numeric.norm2;r=l(r,numeric.epsilon);var m,y,d,g,v,b,_,x,w,S,E=u.Hinv||numeric.identity(f),j=numeric.dot,O=(numeric.inv,numeric.sub),k=numeric.add,A=numeric.tensor,M=numeric.div,N=numeric.mul,C=numeric.all,L=numeric.isFinite,D=numeric.neg,T=0,P="";for(y=n(e);o>T;){if("function"==typeof i&&i(T,e,p,y,E)){P="Callback returned true";break}if(!C(L(y))){P="Gradient has Infinity or NaN";break}if(m=D(j(E,y)),!C(L(m))){P="Search direction has Infinity or NaN";break}if(S=h(m),r>S){P="Newton step smaller than tol";break}for(w=1,c=j(y,m),v=e;o>T&&!(r>w*S)&&(g=N(m,w),v=k(e,g),a=t(v),a-p>=.1*w*c||isNaN(a));)w*=.5,++T;if(r>w*S){P="Line search step size smaller than tol";break}if(T===o){P="maxit reached during line search";break}d=n(v),b=O(d,y),x=j(b,g),_=j(E,b),E=O(k(E,N((x+j(b,_))/(x*x),A(g,g))),M(k(A(_,g),A(g,_)),x)),e=v,p=a,y=d,++T}return{solution:e,f:p,gradient:y,invHessian:E,iterations:T,message:P}},numeric.Dopri=function(t,e,r,n,o,i,u){this.x=t,this.y=e,this.f=r,this.ymid=n,this.iterations=o,this.events=u,this.message=i},numeric.Dopri.prototype._at=function(t,e){function r(t){return t*t}var n,o,i,u,s,a,t,c,f,p,l,h=this,m=h.x,y=h.y,d=h.f,g=h.ymid,v=(m.length,Math.floor,.5),b=numeric.add,_=numeric.mul,x=numeric.sub;return n=m[e],o=m[e+1],u=y[e],s=y[e+1],c=o-n,i=n+v*c,a=g[e],f=x(d[e],_(u,1/(n-i)+2/(n-o))),p=x(d[e+1],_(s,1/(o-i)+2/(o-n))),l=[r(t-o)*(t-i)/r(n-o)/(n-i),r(t-n)*r(t-o)/r(n-i)/r(o-i),r(t-n)*(t-i)/r(o-n)/(o-i),(t-n)*r(t-o)*(t-i)/r(n-o)/(n-i),(t-o)*r(t-n)*(t-i)/r(n-o)/(o-i)],b(b(b(b(_(u,l[0]),_(a,l[1])),_(s,l[2])),_(f,l[3])),_(p,l[4]))},numeric.Dopri.prototype.at=function(t){var e,r,n,o=Math.floor;if("number"!=typeof t){var i=t.length,u=Array(i);for(e=i-1;-1!==e;--e)u[e]=this.at(t[e]);return u}var s=this.x;for(e=0,r=s.length-1;r-e>1;)n=o(.5*(e+r)),s[n]<=t?e=n:r=n;return this._at(t,e)},numeric.dopri=function(t,e,r,n,o,i,u){"undefined"==typeof o&&(o=1e-6),"undefined"==typeof i&&(i=1e3);var s,a,c,f,p,l,h,m,y,d,g,v,b,_=[t],x=[r],w=[n(t,r)],S=[],E=.2,j=[.075,.225],O=[44/45,-56/15,32/9],k=[19372/6561,-25360/2187,64448/6561,-212/729],A=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],M=[35/384,0,500/1113,125/192,-2187/6784,11/84],N=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],C=[.2,.3,.8,8/9,1,1],L=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],D=0,T=(e-t)/10,P=0,I=numeric.add,F=numeric.mul,V=(Math.max,Math.min),q=Math.abs,z=numeric.norminf,G=Math.pow,R=numeric.any,B=numeric.lt,U=numeric.and,K=(numeric.sub,new numeric.Dopri(_,x,w,S,-1,""));for("function"==typeof u&&(g=u(t,r));e>t&&i>P;)if(++P,t+T>e&&(T=e-t),s=n(t+C[0]*T,I(r,F(E*T,w[D]))),a=n(t+C[1]*T,I(I(r,F(j[0]*T,w[D])),F(j[1]*T,s))),c=n(t+C[2]*T,I(I(I(r,F(O[0]*T,w[D])),F(O[1]*T,s)),F(O[2]*T,a))),f=n(t+C[3]*T,I(I(I(I(r,F(k[0]*T,w[D])),F(k[1]*T,s)),F(k[2]*T,a)),F(k[3]*T,c))),p=n(t+C[4]*T,I(I(I(I(I(r,F(A[0]*T,w[D])),F(A[1]*T,s)),F(A[2]*T,a)),F(A[3]*T,c)),F(A[4]*T,f))),y=I(I(I(I(I(r,F(w[D],T*M[0])),F(a,T*M[2])),F(c,T*M[3])),F(f,T*M[4])),F(p,T*M[5])),l=n(t+T,y),h=I(I(I(I(I(F(w[D],T*L[0]),F(a,T*L[2])),F(c,T*L[3])),F(f,T*L[4])),F(p,T*L[5])),F(l,T*L[6])),d="number"==typeof h?q(h):z(h),d>o){if(T=.2*T*G(o/d,.25),t+T===t){K.msg="Step size became too small";break}}else{if(S[D]=I(I(I(I(I(I(r,F(w[D],T*N[0])),F(a,T*N[2])),F(c,T*N[3])),F(f,T*N[4])),F(p,T*N[5])),F(l,T*N[6])),++D,_[D]=t+T,x[D]=y,w[D]=l,"function"==typeof u){var J,H,Q=t,X=t+.5*T;if(v=u(X,S[D-1]),b=U(B(g,0),B(0,v)),R(b)||(Q=X,X=t+T,g=v,v=u(X,y),b=U(B(g,0),B(0,v))),R(b)){for(var Y,Z,$=0,W=1,te=1;;){if("number"==typeof g)H=(te*v*Q-W*g*X)/(te*v-W*g);else for(H=X,m=g.length-1;-1!==m;--m)g[m]<0&&v[m]>0&&(H=V(H,(te*v[m]*Q-W*g[m]*X)/(te*v[m]-W*g[m])));if(Q>=H||H>=X)break;J=K._at(H,D-1),Z=u(H,J),Y=U(B(g,0),B(0,Z)),R(Y)?(X=H,v=Z,b=Y,te=1,-1===$?W*=.5:W=1,$=-1):(Q=H,g=Z,W=1,1===$?te*=.5:te=1,$=1)}return y=K._at(.5*(t+H),D-1),K.f[D]=n(H,J),K.x[D]=H,K.y[D]=J,K.ymid[D-1]=y,K.events=b,K.iterations=P,K}}t+=T,r=y,g=v,T=V(.8*T*G(o/d,.25),4*T)}return K.iterations=P,K},numeric.LU=function(t,e){e=e||!1;var r,n,o,i,u,s,a,c,f,p=Math.abs,l=t.length,h=l-1,m=new Array(l);for(e||(t=numeric.clone(t)),o=0;l>o;++o){for(a=o,s=t[o],f=p(s[o]),n=o+1;l>n;++n)i=p(t[n][o]),i>f&&(f=i,a=n);for(m[o]=a,a!=o&&(t[o]=t[a],t[a]=s,s=t[o]),u=s[o],r=o+1;l>r;++r)t[r][o]/=u;for(r=o+1;l>r;++r){for(c=t[r],n=o+1;h>n;++n)c[n]-=c[o]*s[n],++n,c[n]-=c[o]*s[n];n===h&&(c[n]-=c[o]*s[n])}}return{LU:t,P:m}},numeric.LUsolve=function(t,e){var r,n,o,i,u,s=t.LU,a=s.length,c=numeric.clone(e),f=t.P;for(r=a-1;-1!==r;--r)c[r]=e[r];for(r=0;a>r;++r)for(o=f[r],f[r]!==r&&(u=c[r],c[r]=c[o],c[o]=u),i=s[r],n=0;r>n;++n)c[r]-=c[n]*i[n];for(r=a-1;r>=0;--r){for(i=s[r],n=r+1;a>n;++n)c[r]-=c[n]*i[n];c[r]/=i[r]}return c},numeric.solve=function(t,e,r){return numeric.LUsolve(numeric.LU(t,r),e)},numeric.echelonize=function(t){var e,r,n,o,i,u,s,a,c=numeric.dim(t),f=c[0],p=c[1],l=numeric.identity(f),h=Array(f),m=Math.abs,y=numeric.diveq;for(t=numeric.clone(t),e=0;f>e;++e){for(n=0,i=t[e],u=l[e],r=1;p>r;++r)m(i[n])<m(i[r])&&(n=r);for(h[e]=n,y(u,i[n]),y(i,i[n]),r=0;f>r;++r)if(r!==e){for(s=t[r],a=s[n],o=p-1;-1!==o;--o)s[o]-=i[o]*a;for(s=l[r],o=f-1;-1!==o;--o)s[o]-=u[o]*a}}return{I:l,A:t,P:h}},numeric.__solveLP=function(t,e,r,n,o,i,u){var s,a,c,f,p=numeric.sum,l=(numeric.log,numeric.mul),h=numeric.sub,m=numeric.dot,y=numeric.div,d=numeric.add,g=t.length,v=r.length,b=!1,_=0,x=1,w=(numeric.transpose(e),numeric.svd,numeric.transpose),S=(numeric.leq,Math.sqrt),E=Math.abs,j=(numeric.muleq,numeric.norminf,numeric.any,Math.min),O=numeric.all,k=numeric.gt,A=Array(g),M=Array(v),N=(numeric.rep([v],1),numeric.solve),C=h(r,m(e,i)),L=m(t,t);for(c=_;o>c;++c){var D,T;for(D=v-1;-1!==D;--D)M[D]=y(e[D],C[D]);var P=w(M);for(D=g-1;-1!==D;--D)A[D]=p(P[D]);x=.25*E(L/m(t,A));var I=100*S(L/m(A,A));for((!isFinite(x)||x>I)&&(x=I),f=d(t,l(x,A)),a=m(P,M),D=g-1;-1!==D;--D)a[D][D]+=1;T=N(a,y(f,x),!0);var F=y(C,m(e,T)),V=1;for(D=v-1;-1!==D;--D)F[D]<0&&(V=j(V,-.999*F[D]));if(s=h(i,l(T,V)),C=h(r,m(e,s)),!O(k(C,0)))return{solution:i,message:"",iterations:c};if(i=s,n>x)return{solution:s,message:"",iterations:c};if(u){var q=m(t,f),z=m(e,f);for(b=!0,D=v-1;-1!==D;--D)if(q*z[D]<0){b=!1;break}}else b=i[g-1]>=0?!1:!0;if(b)return{solution:s,message:"Unbounded",iterations:c}}return{solution:i,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,r,n,o){var i,u=t.length,s=r.length,a=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,f=(numeric.div,numeric.add,numeric.rep([u],0).concat([1])),p=numeric.rep([s,1],-1),l=numeric.blockMatrix([[e,p]]),h=r,i=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),m=numeric.__solveLP(f,l,h,n,o,i,!1),y=numeric.clone(m.solution);y.length=u;var d=numeric.inf(a(r,c(e,y)));if(0>d)return{solution:0/0,message:"Infeasible",iterations:m.iterations};var g=numeric.__solveLP(t,e,r,n,o-m.iterations,y,!0);return g.iterations+=m.iterations,g},numeric.solveLP=function(t,e,r,n,o,i,u){if("undefined"==typeof u&&(u=1e3),"undefined"==typeof i&&(i=numeric.epsilon),"undefined"==typeof n)return numeric._solveLP(t,e,r,i,u);var s,a=n.length,c=n[0].length,f=e.length,p=numeric.echelonize(n),l=numeric.rep([c],0),h=p.P,m=[];for(s=h.length-1;-1!==s;--s)l[h[s]]=1;for(s=c-1;-1!==s;--s)0===l[s]&&m.push(s);var y=numeric.getRange,d=numeric.linspace(0,a-1),g=numeric.linspace(0,f-1),v=y(n,d,m),b=y(e,g,h),_=y(e,g,m),x=numeric.dot,w=numeric.sub,S=x(b,p.I),E=w(_,x(S,v)),j=w(r,x(S,o)),O=Array(h.length),k=Array(m.length);for(s=h.length-1;-1!==s;--s)O[s]=t[h[s]];for(s=m.length-1;-1!==s;--s)k[s]=t[m[s]];var A=w(k,x(O,x(p.I,v))),M=numeric._solveLP(A,E,j,i,u),N=M.solution;if(N!==N)return M;var C=x(p.I,w(o,x(v,N))),L=Array(t.length);for(s=h.length-1;-1!==s;--s)L[h[s]]=C[s];for(s=m.length-1;-1!==s;--s)L[m[s]]=N[s];return{solution:L,message:M.message,iterations:M.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+r+": "+t[r]+"\nCurrent state: "+s[u]+"\n")}t instanceof String&&t.split("\n");var r,n,o,i,u=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],a=t.length,c=0,f={},p=[],l=0,h={},m=0,y=[],d=[],g=[];for(r=0;a>r;++r){o=t[r];var v=o.match(/\S*/g),b=[];for(n=0;n<v.length;++n)""!==v[n]&&b.push(v[n]);if(0!==b.length){for(n=0;n<s.length&&o.substr(0,s[n].length)!==s[n];++n);if(n<s.length){if(u=n,1===n&&(i=b[1]),6===n)return{name:i,c:y,A:numeric.transpose(d),b:g,rows:f,vars:h}}else switch(u){case 0:case 1:e("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:e("Two or more N rows");break;case"L":f[b[1]]=l,p[l]=1,g[l]=0,++l;break;case"G":f[b[1]]=l,p[l]=-1,g[l]=0,++l;break;case"E":f[b[1]]=l,p[l]=0,g[l]=0,++l;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:h.hasOwnProperty(b[0])||(h[b[0]]=m,y[m]=0,d[m]=numeric.rep([l],0),++m);var _=h[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==c){var x=f[b[n]];d[_][x]=(p[x]<0?-1:1)*parseFloat(b[n+1])}else y[_]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)g[f[b[n]]]=(p[f[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,r,n,o,i,u){function s(t){var e,n,o=this,i=t.length,u=0,s=o.i=o.j=o.m=0;for(o.S=[],o.c=[],i||(t=[i++]);r>u;)o.S[u]=u++;for(u=0;r>u;u++)e=o.S[u],s=f(s+e+t[u%i]),n=o.S[s],o.S[u]=n,o.S[s]=e;o.g=function(t){var e=o.S,n=f(o.i+1),i=e[n],u=f(o.j+i),s=e[u];e[n]=s,e[u]=i;for(var a=e[f(i+s)];--t;)n=f(n+1),i=e[n],u=f(u+i),s=e[u],e[n]=s,e[u]=i,a=a*r+e[f(i+s)];return o.i=n,o.j=u,a},o.g(r)}function a(t,e,r,n,o){if(r=[],o=typeof t,e&&"object"==o)for(n in t)if(n.indexOf("S")<5)try{r.push(a(t[n],e-1))}catch(i){}return r.length?r:t+("string"!=o?"\x00":"")}function c(t,e,r,n){for(t+="",r=0,n=0;n<t.length;n++)e[f(n)]=f((r^=19*e[f(n)])+t.charCodeAt(n));t="";for(n in e)t+=String.fromCharCode(e[n]);return t}function f(t){return t&r-1}e.seedrandom=function(f,p){var l,h=[];return f=c(a(p?[f,t]:arguments.length?f:[(new Date).getTime(),t,window],3),h),l=new s(h),c(l.S,t),e.random=function(){for(var t=l.g(n),e=u,s=0;o>t;)t=(t+s)*r,e*=r,s=l.g(1);for(;t>=i;)t/=2,e/=2,s>>>=1;return(t+s)/e},f},u=e.pow(r,n),o=e.pow(2,o),i=2*o,c(e.random(),t)}([],numeric.seedrandom,256,6,52),function(t){function e(t){if("object"!=typeof t)return t;var r,n=[],o=t.length;for(r=0;o>r;r++)n[r+1]=e(t[r]);return n}function r(t){if("object"!=typeof t)return t;var e,n=[],o=t.length;for(e=1;o>e;e++)n[e-1]=r(t[e]);return n}function n(t,e,r){var n,o,i,u,s;for(i=1;r>=i;i+=1){for(t[i][i]=1/t[i][i],s=-t[i][i],n=1;i>n;n+=1)t[n][i]=s*t[n][i];if(u=i+1,u>r)break;for(o=u;r>=o;o+=1)for(s=t[i][o],t[i][o]=0,n=1;i>=n;n+=1)t[n][o]=t[n][o]+s*t[n][i]}}function o(t,e,r,n){var o,i,u,s;for(i=1;r>=i;i+=1){for(s=0,o=1;i>o;o+=1)s+=t[o][i]*n[o];n[i]=(n[i]-s)/t[i][i]}for(u=1;r>=u;u+=1)for(i=r+1-u,n[i]=n[i]/t[i][i],s=-n[i],o=1;i>o;o+=1)n[o]=n[o]+s*t[o][i]}function i(t,e,r,n){var o,i,u,s,a,c;for(i=1;r>=i;i+=1){if(n[1]=i,c=0,u=i-1,1>u){if(c=t[i][i]-c,0>=c)break;t[i][i]=Math.sqrt(c)}else{for(s=1;u>=s;s+=1){for(a=t[s][i],o=1;s>o;o+=1)a-=t[o][i]*t[o][s];a/=t[s][s],t[s][i]=a,c+=a*a}if(c=t[i][i]-c,0>=c)break;t[i][i]=Math.sqrt(c)}n[1]=0}}function u(t,e,r,u,s,a,c,f,p,l,h,m,y,d,g,v){function b(){for(d[1]=d[1]+1,O=D,E=1;l>=E;E+=1){for(O+=1,q=-f[E],j=1;u>=j;j+=1)q+=c[j][E]*s[j];if(Math.abs(q)<H&&(q=0),E>h)g[O]=q;else if(g[O]=-Math.abs(q),q>0){for(j=1;u>=j;j+=1)c[j][E]=-c[j][E];f[E]=-f[E]}}for(E=1;y>=E;E+=1)g[D+m[E]]=0;for(P=0,V=0,E=1;l>=E;E+=1)g[D+E]<V*g[F+E]&&(P=E,V=g[D+E]/g[F+E]);return 0===P?999:0}function _(){for(E=1;u>=E;E+=1){for(q=0,j=1;u>=j;j+=1)q+=t[j][E]*c[j][P];g[E]=q}for(k=N,E=1;u>=E;E+=1)g[k+E]=0;for(j=y+1;u>=j;j+=1)for(E=1;u>=E;E+=1)g[k+E]=g[k+E]+t[E][j]*g[j];for(K=!0,E=y;E>=1;E-=1){for(q=g[E],O=L+E*(E+3)/2,k=O-E,j=E+1;y>=j;j+=1)q-=g[O]*g[C+j],O+=j;if(q/=g[k],g[C+E]=q,m[E]<h)break;if(0>q)break;K=!1,M=E}if(!K)for(z=g[T+M]/g[C+M],E=1;y>=E&&!(m[E]<h)&&!(g[C+E]<0);E+=1)V=g[T+E]/g[C+E],z>V&&(z=V,M=E);for(q=0,E=N+1;N+u>=E;E+=1)q+=g[E]*g[E];if(Math.abs(q)<=H){if(K)return v[1]=1,999;for(E=1;y>=E;E+=1)g[T+E]=g[T+E]-z*g[C+E];return g[T+y+1]=g[T+y+1]+z,700}for(q=0,E=1;u>=E;E+=1)q+=g[N+E]*c[E][P];for(G=-g[D+P]/q,J=!0,K||G>z&&(G=z,J=!1),E=1;u>=E;E+=1)s[E]=s[E]+G*g[N+E],Math.abs(s[E])<H&&(s[E]=0);for(a[1]=a[1]+G*q*(G/2+g[T+y+1]),E=1;y>=E;E+=1)g[T+E]=g[T+E]-G*g[C+E];if(g[T+y+1]=g[T+y+1]+G,!J){for(q=-f[P],j=1;u>=j;j+=1)q+=s[j]*c[j][P];if(P>h)g[D+P]=q;else if(g[D+P]=-Math.abs(q),q>0){for(j=1;u>=j;j+=1)c[j][P]=-c[j][P];f[P]=-f[P]}return 700}for(y+=1,m[y]=P,O=L+(y-1)*y/2+1,E=1;y-1>=E;E+=1)g[O]=g[E],O+=1;if(y===u)g[O]=g[u];else{for(E=u;E>=y+1&&0!==g[E]&&(R=Math.max(Math.abs(g[E-1]),Math.abs(g[E])),B=Math.min(Math.abs(g[E-1]),Math.abs(g[E])),V=g[E-1]>=0?Math.abs(R*Math.sqrt(1+B*B/(R*R))):-Math.abs(R*Math.sqrt(1+B*B/(R*R))),R=g[E-1]/V,B=g[E]/V,1!==R);E-=1)if(0===R)for(g[E-1]=B*V,j=1;u>=j;j+=1)V=t[j][E-1],t[j][E-1]=t[j][E],t[j][E]=V;else for(g[E-1]=V,U=B/(1+R),j=1;u>=j;j+=1)V=R*t[j][E-1]+B*t[j][E],t[j][E]=U*(t[j][E-1]+V)-t[j][E],t[j][E-1]=V;g[O]=g[y]}return 0}function x(){if(O=L+M*(M+1)/2+1,k=O+M,0===g[k])return 798;if(R=Math.max(Math.abs(g[k-1]),Math.abs(g[k])),B=Math.min(Math.abs(g[k-1]),Math.abs(g[k])),V=g[k-1]>=0?Math.abs(R*Math.sqrt(1+B*B/(R*R))):-Math.abs(R*Math.sqrt(1+B*B/(R*R))),R=g[k-1]/V,B=g[k]/V,1===R)return 798;if(0===R){for(E=M+1;y>=E;E+=1)V=g[k-1],g[k-1]=g[k],g[k]=V,k+=E;for(E=1;u>=E;E+=1)V=t[E][M],t[E][M]=t[E][M+1],t[E][M+1]=V}else{for(U=B/(1+R),E=M+1;y>=E;E+=1)V=R*g[k-1]+B*g[k],g[k]=U*(g[k-1]+V)-g[k],g[k-1]=V,k+=E;for(E=1;u>=E;E+=1)V=R*t[E][M]+B*t[E][M+1],t[E][M+1]=U*(t[E][M]+V)-t[E][M+1],t[E][M]=V}return 0}function w(){for(k=O-M,E=1;M>=E;E+=1)g[k]=g[O],O+=1,k+=1;return g[T+M]=g[T+M+1],m[M]=m[M+1],M+=1,y>M?797:0}function S(){return g[T+y]=g[T+y+1],g[T+y+1]=0,m[y]=0,y-=1,d[2]=d[2]+1,0}var E,j,O,k,A,M,N,C,L,D,T,P,I,F,V,q,z,G,R,B,U,K,J,H,Q,X,Y;I=Math.min(u,l),O=2*u+I*(I+5)/2+2*l+1,H=1e-60;do H+=H,Q=1+.1*H,X=1+.2*H;while(1>=Q||1>=X);for(E=1;u>=E;E+=1)g[E]=e[E];for(E=u+1;O>=E;E+=1)g[E]=0;for(E=1;l>=E;E+=1)m[E]=0;if(A=[],0===v[1]){if(i(t,r,u,A),0!==A[1])return void(v[1]=2);o(t,r,u,e),n(t,r,u)}else{for(j=1;u>=j;j+=1)for(s[j]=0,E=1;j>=E;E+=1)s[j]=s[j]+t[E][j]*e[E];for(j=1;u>=j;j+=1)for(e[j]=0,E=j;u>=E;E+=1)e[j]=e[j]+t[j][E]*s[E]}for(a[1]=0,j=1;u>=j;j+=1)for(s[j]=e[j],a[1]=a[1]+g[j]*s[j],g[j]=0,E=j+1;u>=E;E+=1)t[E][j]=0;for(a[1]=-a[1]/2,v[1]=0,N=u,C=N+u,T=C+I,L=T+I+1,D=L+I*(I+1)/2,F=D+l,E=1;l>=E;E+=1){for(q=0,j=1;u>=j;j+=1)q+=c[j][E]*c[j][E];g[F+E]=Math.sqrt(q)}for(y=0,d[1]=0,d[2]=0,Y=0;;){if(Y=b(),999===Y)return;for(;;){if(Y=_(),0===Y)break;if(999===Y)return;if(700===Y)if(M===y)S();else{for(;;)if(x(),Y=w(),797!==Y)break;S()}}}}function s(t,n,o,i,s,a){t=e(t),n=e(n),o=e(o);var c,f,p,l,h,m,y=[],d=[],g=[],v=[],b=[];if(s=s||0,a=a?e(a):[void 0,0],i=i?e(i):[],f=t.length-1,p=o[1].length-1,!i)for(c=1;p>=c;c+=1)i[c]=0;for(c=1;p>=c;c+=1)d[c]=0;for(l=0,h=Math.min(f,p),c=1;f>=c;c+=1)g[c]=0;for(y[1]=0,c=1;2*f+h*(h+5)/2+2*p+1>=c;c+=1)v[c]=0;for(c=1;2>=c;c+=1)b[c]=0;return u(t,n,f,f,g,y,o,i,f,p,s,d,l,b,v,a),m="",1===a[1]&&(m="constraints are inconsistent, no solution!"),2===a[1]&&(m="matrix D in quadratic function is not positive definite!"),{solution:r(g),value:r(y),unconstrained_solution:r(n),iterations:r(b),iact:r(d),message:m}}t.solveQP=s}(numeric),numeric.svd=function(t){function e(t,e){return t=Math.abs(t),e=Math.abs(e),t>e?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var r,n=numeric.epsilon,o=1e-64/n,i=50,u=0,s=0,a=0,c=0,f=0,p=numeric.clone(t),l=p.length,h=p[0].length;if(h>l)throw"Need more rows than columns";var m=new Array(h),y=new Array(h);for(s=0;h>s;s++)m[s]=y[s]=0;var d=numeric.rep([h,h],0),g=0,v=0,b=0,_=0,x=0,w=0,S=0;for(s=0;h>s;s++){for(m[s]=v,S=0,f=s+1,a=s;l>a;a++)S+=p[a][s]*p[a][s];if(o>=S)v=0;else for(g=p[s][s],v=Math.sqrt(S),g>=0&&(v=-v),b=g*v-S,p[s][s]=g-v,a=f;h>a;a++){for(S=0,c=s;l>c;c++)S+=p[c][s]*p[c][a];for(g=S/b,c=s;l>c;c++)p[c][a]+=g*p[c][s]}for(y[s]=v,S=0,a=f;h>a;a++)S+=p[s][a]*p[s][a];if(o>=S)v=0;else{for(g=p[s][s+1],v=Math.sqrt(S),g>=0&&(v=-v),b=g*v-S,p[s][s+1]=g-v,a=f;h>a;a++)m[a]=p[s][a]/b;for(a=f;l>a;a++){for(S=0,c=f;h>c;c++)S+=p[a][c]*p[s][c];for(c=f;h>c;c++)p[a][c]+=S*m[c]}}x=Math.abs(y[s])+Math.abs(m[s]),x>_&&(_=x)}for(s=h-1;-1!=s;s+=-1){if(0!=v){for(b=v*p[s][s+1],a=f;h>a;a++)d[a][s]=p[s][a]/b;for(a=f;h>a;a++){for(S=0,c=f;h>c;c++)S+=p[s][c]*d[c][a];for(c=f;h>c;c++)d[c][a]+=S*d[c][s]}}for(a=f;h>a;a++)d[s][a]=0,d[a][s]=0;d[s][s]=1,v=m[s],f=s}for(s=h-1;-1!=s;s+=-1){for(f=s+1,v=y[s],a=f;h>a;a++)p[s][a]=0;if(0!=v){for(b=p[s][s]*v,a=f;h>a;a++){for(S=0,c=f;l>c;c++)S+=p[c][s]*p[c][a];for(g=S/b,c=s;l>c;c++)p[c][a]+=g*p[c][s]}for(a=s;l>a;a++)p[a][s]=p[a][s]/v}else for(a=s;l>a;a++)p[a][s]=0;p[s][s]+=1}for(n*=_,c=h-1;-1!=c;c+=-1)for(var E=0;i>E;E++){var j=!1;for(f=c;-1!=f;f+=-1){if(Math.abs(m[f])<=n){j=!0;break}if(Math.abs(y[f-1])<=n)break}if(!j){u=0,S=1;var O=f-1;for(s=f;c+1>s&&(g=S*m[s],m[s]=u*m[s],!(Math.abs(g)<=n));s++)for(v=y[s],b=e(g,v),y[s]=b,u=v/b,S=-g/b,a=0;l>a;a++)x=p[a][O],w=p[a][s],p[a][O]=x*u+w*S,p[a][s]=-x*S+w*u}if(w=y[c],f==c){if(0>w)for(y[c]=-w,a=0;h>a;a++)d[a][c]=-d[a][c];break}if(E>=i-1)throw"Error: no convergence.";for(_=y[f],x=y[c-1],v=m[c-1],b=m[c],g=((x-w)*(x+w)+(v-b)*(v+b))/(2*b*x),v=e(g,1),g=0>g?((_-w)*(_+w)+b*(x/(g-v)-b))/_:((_-w)*(_+w)+b*(x/(g+v)-b))/_,u=1,S=1,s=f+1;c+1>s;s++){for(v=m[s],x=y[s],b=S*v,v=u*v,w=e(g,b),m[s-1]=w,u=g/w,S=b/w,g=_*u+v*S,v=-_*S+v*u,b=x*S,x*=u,a=0;h>a;a++)_=d[a][s-1],w=d[a][s],d[a][s-1]=_*u+w*S,d[a][s]=-_*S+w*u;for(w=e(g,b),y[s-1]=w,u=g/w,S=b/w,g=u*v+S*x,_=-S*v+u*x,a=0;l>a;a++)x=p[a][s-1],w=p[a][s],p[a][s-1]=x*u+w*S,p[a][s]=-x*S+w*u}m[f]=0,m[c]=g,y[c]=_}for(s=0;s<y.length;s++)y[s]<n&&(y[s]=0);for(s=0;h>s;s++)for(a=s-1;a>=0;a--)if(y[a]<y[s]){for(u=y[a],y[a]=y[s],y[s]=u,c=0;c<p.length;c++)r=p[c][s],p[c][s]=p[c][a],p[c][a]=r;for(c=0;c<d.length;c++)r=d[c][s],d[c][s]=d[c][a],d[c][a]=r;s=a}return{U:p,S:y,V:d}}}).call(exports,function(){return this}())},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){(function(t,n){function o(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&e._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),a(n,t,n.depth)}function i(t,e){var r=o.styles[e];return r?"["+o.colors[r][0]+"m"+t+"["+o.colors[r][1]+"m":t}function u(t){return t}function s(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function a(t,r,n){if(t.customInspect&&r&&O(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return b(o)||(o=a(t,o,n)),o}var i=c(t,r);if(i)return i;var u=Object.keys(r),y=s(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(r)),j(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(r);if(0===u.length){if(O(r)){var d=r.name?": "+r.name:"";return t.stylize("[Function"+d+"]","special")}if(w(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(j(r))return f(r)}var g="",v=!1,_=["{","}"];if(m(r)&&(v=!0,_=["[","]"]),O(r)){var x=r.name?": "+r.name:"";g=" [Function"+x+"]"}if(w(r)&&(g=" "+RegExp.prototype.toString.call(r)),E(r)&&(g=" "+Date.prototype.toUTCString.call(r)),j(r)&&(g=" "+f(r)),0===u.length&&(!v||0==r.length))return _[0]+g+_[1];if(0>n)return w(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);var S;return S=v?p(t,r,n,y,u):u.map(function(e){return l(t,r,n,y,e,v)}),t.seen.pop(),h(S,g,_)}function c(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return v(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,o){for(var i=[],u=0,s=e.length;s>u;++u)i.push(C(e,String(u))?l(t,e,r,n,String(u),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(t,e,r,n,o,!0))
}),i}function l(t,e,r,n,o,i){var u,s,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),C(n,o)||(u="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=d(r)?a(t,c.value,null):a(t,c.value,r-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(u)){if(i&&o.match(/^\d+$/))return s;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function h(t,e,r){var n=0,o=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function m(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function d(t){return null===t}function g(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return S(t)&&"[object RegExp]"===A(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===A(t)}function j(t){return S(t)&&("[object Error]"===A(t)||t instanceof Error)}function O(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function A(t){return Object.prototype.toString.call(t)}function M(t){return 10>t?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var L=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(o(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,u=String(t).replace(L,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}}),s=n[r];i>r;s=n[++r])u+=d(s)||!S(s)?" "+s:" "+o(s);return u},e.deprecate=function(r,o){function i(){if(!u){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),u=!0}return r.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(r,o).apply(this,arguments)};if(n.noDeprecation===!0)return r;var u=!1;return i};var D,T={};e.debuglog=function(t){if(x(D)&&(D=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!T[t])if(new RegExp("\\b"+t+"\\b","i").test(D)){var r=n.pid;T[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else T[t]=function(){};return T[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=m,e.isBoolean=y,e.isNull=d,e.isNullOrUndefined=g,e.isNumber=v,e.isString=b,e.isSymbol=_,e.isUndefined=x,e.isRegExp=w,e.isObject=S,e.isDate=E,e.isError=j,e.isFunction=O,e.isPrimitive=k,e.isBuffer=r(30);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=r(32),e._extend=function(t,e){if(!e||!S(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,function(){return this}(),r(31))},function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t){function e(){if(!i){i=!0;for(var t,e=o.length;e;){t=o,o=[];for(var r=-1;++r<e;)t[r]();e=o.length}i=!1}}function r(){}var n=t.exports={},o=[],i=!1;n.nextTick=function(t){o.push(t),i||setTimeout(e,0)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}]);