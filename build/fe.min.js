var fe=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var n=r(1);n.assign(e,r(2)),n.assign(e,r(3)),n.assign(e,r(4)),n.assign(e,r(5)),e._=n,e.numeric=r(6),e.geometry={pointset:r(7),topology:r(8)},e.feutils=r(9),e.fens=r(10),e.gcellset=r(11),e.field=r(12),e.property=r(13),e.material=r(14),e.feblock=r(15),e.system=r(16),e.nodalload=r(17),e.integrationrule=r(18),e.ebc=r(19),e.mesh=r(20)},function(t,e,r){function n(){}var i=r(24);i.assign(e,i),e.Bimap=r(2).Bimap,e.Bipartite=r(3).Bipartite,e.SetStore=r(4).SetStore,e.array1d=function(t,e){return Array.apply(null,Array(t)).map("function"==typeof e?function(t,r){return e(r)}:function(){return e})};var o=e.array1d;e.array2d=function(t,e,r){return"function"==typeof r?o(t,function(t){return o(e,function(e){return r(t,e)})}):o(t,function(){return o(e,r)})};e.array2d;e.embed=function(t,e){var r,n,u;if(i.isArray(t)&&"number"==typeof e){for(u=o(e,0),r=0,n=t.length<e?t.length:e;n>r;++r)u[r]=t[r];return u}throw new Error("embed(vec, dim): vec must be a Javascript array.")},e.byLexical=function(t,e){for(var r,n=0,i=t.length;i>n;){if(r=t[n]-e[n],0!==r)return r;++n}return r},e.rotateLeft=function(t,e){if("undefined"==typeof e)throw new Error("rotateLeft(): no offset specified.");for(var r=t.length,n=new Array(r),i=(r+e%r)%r,o=0;r>o;)n[o]=t[(i+o)%r],++o;return n};var u=e.rotateLeft;e.rotateRight=function(t,e){return u(t,-e)};e.rotateRight;e.minIndex=function(t,e){return"function"==typeof e?i.reduce(t,function(t,r,n){return e(r,t.value)<0&&(t.value=r,t.index=n),t},{value:1/0,index:-1}).index:i.reduce(t,function(t,e,r){return e<t.value&&(t.value=e,t.index=r),t},{value:1/0,index:-1}).index};var s=e.minIndex;e.isIterator=function(t){return t&&"function"==typeof t.hasNext&&"function"==typeof t.next};e.isIterator;e.noopIterator={hasNext:function(){return!1},next:function(){return null}},e.listFromIterator=function(t){for(var e=[];t.hasNext();)e.push(t.next());return e};e.listFromIterator;e.iteratorFromList=function(t){if(!i.isArray(t))throw new Error("iteratorFromList(lst): lst must be an array.");var e=0,r=t.length;return{hasNext:function(){return r>e},next:function(){return t[e++]}}};e.iteratorFromList;e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})};e.uuid;e.normalizedCell=function(t){var e=s(t);return u(t,e)};var a=(e.normalizedCell,r(25)),c=r(23);e._env="dev",e.noop=n,e.defineContract=function(t,r){return"dev"===e._env?function(){try{t.apply(null,arguments)}catch(e){throw"function"==typeof r&&(e.message=r.apply(null,arguments)+"\n"+e.message),r&&(e.message=r+"\n"+e.message),e}}:n};var f=e.defineContract;c.string=a.assert.string,c.unemptyString=a.assert.unemptyString,c.webUrl=a.assert.webUrl,c.length=a.assert.length,c.number=a.assert.number,c.positive=a.assert.positive,c.negative=a.assert.negative,c.odd=a.assert.odd,c.even=a.assert.even,c.integer=a.assert.integer,c["function"]=a.assert["function"],c.array=a.assert.array,c.length=a.assert.length,c.date=a.assert.date,c.object=a.assert.object,c.emptyObject=a.assert.emptyObject,c.instance=a.assert.instance,c.like=a.assert.like,c["null"]=a.assert["null"],c.undefined=a.assert.undefined,c.assigned=a.assert.assigned,c["boolean"]=a.assert["boolean"],e.check=a,e.assert=c,e.ensureMatrixOfDimension=function(t,e,r){return"*"!==t&&c.positive(t),"*"!==e&&c.positive(e),r||(r="input is not a matrix of "+t+" x "+e+"."),f(function(r){c.array(r,"mat is not a JS array"),"*"===t&&(t=r.length),c(r.length===t,"mat length "+r.length+" is not "+t);var n,i;for(n=0;t>n;++n)for(c.array(r[n],"row "+n+" is not a JS array"),"*"===e&&(e=r[n].length),c(r[n].length===e,"row "+n+" has "+r[n].length+" elements instead of "+e),i=0;e>i;++i)c.number(r[n][i],"mat("+[n,i]+") is not a number.")},r)};var p=c.ensureMatrixOfDimension=e.ensureMatrixOfDimension;e.isMatrixOfDimension=function(t,e,r){try{p(e,r)(t)}catch(n){return!1}return!0};a.isMatrixOfDimension=e.isMatrixOfDimension;e.ensureVectorOfDimension=function(t,e){return"*"!==t&&c.positive(t),e||(e="input is not a vector of "+t+" dimension."),f(function(e){c.array(e,"vec is not a JS array"),"*"===t&&(t=e.length),c(e.length===t,"vec length "+e.length+" is not "+t);var r;for(r=0;t>r;++r)c.number(e[r],"vec("+r+"): "+e[r]+" is not a number.")},e)};var l=c.ensureVectorOfDimension=e.ensureVectorOfDimension;e.isVectorOfDimension=function(t,e){try{l(e)(t)}catch(r){return!1}return!0};a.isVectorOfDimension=e.isVectorOfDimension},function(t,e){function r(t,e){this._l2r={},this._r2l={},"function"==typeof e&&(this.getKeyOf=e),Array.isArray(t)&&t.forEach(function(t){this.insert(t[0],t[1])},this)}r.prototype.insert=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.getKeyOf(t),n=this.getKeyOf(e);return this._l2r[r]=e,this._r2l[n]=t,this},r.prototype.add=r.prototype.insert,r.prototype.size=function(){return Object.keys(this._l2r).length},r.prototype.empty=function(){return 0===this.size()},r.prototype.clear=function(){return this._l2r={},this._r2l={},this},r.prototype.insertSafe=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.getKeyOf(t);if("undefined"!=typeof this._l2r[r])throw new Error(t+" with key"+r+" exists!");return this.add(t,e),this},r.prototype.getKeyOf=function(t){return t&&t._uid?t._uid:t},r.prototype.belongsTo=function(t){var e=this.getKeyOf(t);return"undefined"!=typeof this._l2r[e]?"left":"undefined"!=typeof this._r2l[e]?"right":"none"},r.prototype.leftFind=function(t){return this._l2r[this.getKeyOf(t)]},r.prototype.rightFind=function(t){return this._r2l[this.getKeyOf(t)]},r.prototype.find=function(t){return this.leftFind(t)||this.rightFind(t)},r.prototype.lookup=r.prototype.find,r.prototype.inLeft=function(t){return"undefined"!=typeof this.leftFind(t)},r.prototype.inRight=function(t){return"undefined"!=typeof this.rightFind(t)},r.prototype.containsObject=function(t){return"undefined"!=typeof this.find(t)},r.prototype.containsPair=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.leftFind(t);return"undefined"!=typeof r?this.getKeyOf(e)===this.getKeyOf(r):!1},r.prototype.contains=function(){var t=Array.prototype.slice.call(arguments),e=t.length;return 1>=e?this.containsObject(t[0]):this.containsPair(t[0],t[1])},r.prototype.leftRemove=function(t){var e=this.leftFind(t);return"undefined"!=typeof e&&(delete this._l2r[this.getKeyOf(t)],this.rightRemove(e)),this},r.prototype.rightRemove=function(t){var e=this.rightFind(t);return"undefined"!=typeof e&&(delete this._r2l[this.getKeyOf(t)],this.leftRemove(e)),this},r.prototype.removePair=function(t,e){return this.containsPair(t,e)&&(delete this._l2r[this.getKeyOf(t)],delete this._r2l[this.getKeyOf(e)]),this},r.prototype.remove=function(){var t=Array.prototype.slice.call(arguments),e=t.length;if(1>=e){var r=t[0];this.inLeft(r)?this.leftRemove(r):this.inRight(r)&&this.rightRemove(r)}else this.removePair(t[0],t[1]);return this},r.prototype.erase=r.prototype.remove,r.prototype.getNodes=function(t){if(!t)return this.getLeftNodes().concat(this.getRightNodes());var e=/[lL](eft)?/.test(t)?this._r2l:this._l2r;return Object.keys(e).map(function(t){return e[t]})},r.prototype.getLeftNodes=function(){return this.getNodes("left")},r.prototype.getRightNodes=function(){return this.getNodes("right")},r.prototype.forEachNode=function(t,e,r){var n=this.getNodes(t);n.forEach(e,r||this)},r.prototype.forEachLeftNode=function(t,e){this.forEachNode("left",t,e)},r.prototype.forEachRightNode=function(t,e){this.forEachNode("right",t,e)},r.prototype.toJSON=function(){var t={};return this.forEachLeftNode(function(e){var r=this.find(e);t[e]=r},this),t},e.Bimap=r},function(t,e){function r(t,e,r){"undefined"==typeof t&&(t=[]),"function"==typeof e&&(this.getKeyOf=e),this._autoRemoveIsolatedNodes=void 0===typeof r?!1:r,this._l2r={},this._r2l={},this.addEdges(t)}r.prototype.getNumOfLeftNodes=function(){return Object.keys(this._l2r).length},r.prototype.getNumOfRightNodes=function(){return Object.keys(this._r2l).length},r.prototype.getNumOfNodes=function(){return this.getNumOfLeftNodes()+this.getNumOfRightNodes()},r.prototype.getNumOfEdges=function(){var t=0;return this.forEachLeftNode(function(e){t+=this.getDegree(e)},this),t},r.prototype.empty=function(){return 0===this.getNumOfNodes()},r.prototype.clear=function(){return this._l2r={},this._r2l={},this},r.prototype.getKeyOf=function(t){return t&&t._uid?t._uid:t},r.prototype.addNode=function(t,e){var r=this.getKeyOf(e),n=/[lL](eft)?/.test(t)?this._l2r:this._r2l;return n[r]={node:e,neighbors:{}},this},r.prototype.addLeftNode=function(t){return this.addNode("l",t)},r.prototype.addRightNode=function(t){return this.addNode("r",t)},r.prototype.addEdges=function(t){return t.forEach(function(t){var e=t[0],r=t[1];this.addEdge(e,r)},this),this},r.prototype.addEdge=function(t,e){Array.isArray(t)&&(e=t[1],t=t[0]);var r=this.getKeyOf(t),n=this.getKeyOf(e);return this._l2r[r]||(this._l2r[r]={node:t,neighbors:{}}),this._r2l[n]||(this._r2l[n]={node:e,neighbors:{}}),this._l2r[r].neighbors[n]=e,this._r2l[n].neighbors[r]=t,this},r.prototype.insert=r.prototype.addEdge,r.prototype.removeEdge=function(t,e){if(Array.isArray(t)&&(e=t[1],t=t[0]),this.hasPair(t,e)){var r=this.getKeyOf(t),n=this.getKeyOf(e);delete this._l2r[r].neighbors[n],delete this._r2l[n].neighbors[r],this._autoRemoveIsolatedNodes===!0&&(0===Object.keys(this._l2r[r].neighbors).length&&delete this._l2r[r],0===Object.keys(this._r2l[n].neighbors).length&&delete this._r2l[n])}return this},r.prototype.erase=r.prototype.removeEdge,r.prototype.removeNode=function(t){var e=this.belongsTo(t);return"none"===e?this:(this.getNeighbors(t).forEach(function(r){var n,i;"left"===e?(n=t,i=r):(n=r,i=t),this.removeEdge(n,i)},this),this)},r.prototype.eraseNode=r.prototype.removeNode,r.prototype.hasNode=function(t){var e=this.getKeyOf(t);return this._l2r[e]?!0:this._r2l[e]?!0:!1},r.prototype.hasEdge=function(t,e){var r=this.getKeyOf(t),n=this.getKeyOf(e);if(this._l2r[r]){var i="undefined"!=typeof this._l2r[r].neighbors[n],o="undefined"!=typeof this._r2l[n].neighbors[r];return console.assert(i===o),i}return!1},r.prototype.contains=function(){var t=Array.prototype.slice.call(arguments),e=t.length;return 1>=e?this.hasNode(t[0]):(this.hasEdge(t[0]),t[1])},r.prototype.isAdjacent=function(t,e){return this.hasEdge(t,e)||this.hasEdge(e,t)},r.prototype.hasPair=r.prototype.isAdjacent,r.prototype.getNeighbors=function(t){var e=this.getKeyOf(t),r=null;return this._l2r[e]&&(r=this._l2r[e].neighbors),this._r2l[e]&&(r=this._r2l[e].neighbors),null===r?[]:Object.keys(r).map(function(t){return r[t]})},r.prototype.getDegree=function(t){var e=this.getKeyOf(t);return this._l2r[e]?Object.keys(this._l2r[e].neighbors).length:this._r2l[e]?Object.keys(this._r2l[e].neighbors).length:-1},r.prototype.getGroupName=function(t){var e=this.getKeyOf(t);return this._l2r[e]?"left":this._r2l[e]?"right":"none"},r.prototype.belongsTo=r.prototype.getGroupName,r.prototype.getNodesOfGroup=function(t,e){var r,n=/[lL](eft)?/.test(t)?this._l2r:this._r2l;return r=Object.keys(n).map(function(t){return n[t].node}),"function"==typeof e&&(r=r.filter(e)),r},r.prototype.getLeftNodes=function(t){return this.getNodesOfGroup("left",t)},r.prototype.getRightNodes=function(t){return this.getNodesOfGroup("right",t)},r.prototype.getNodes=function(t){return this.getLeftNodes(t).concat(this.getRightNodes(t))},r.prototype.forEachLeftNode=function(t,e){this.getLeftNodes().forEach(t,e||this)},r.prototype.forEachRightNode=function(t,e){this.getRightNodes().forEach(t,e||this)},r.prototype.forEachNode=function(t,e){this.forEachLeftNode(t,e),this.forEachRightNode(t,e)},r.prototype.forEachEdge=function(t,e){var r=e||this;this.forEachLeftNode(function(e){this.getNeighbors(e).forEach(function(n){t.call(r,e,n)})},this)},r.prototype.toDot=function(){var t=["graph g {"];return this.forEachLeftNode(function(e){this.getNeighbors(e).forEach(function(r){var n=this.getKeyOf(e),i=this.getKeyOf(r);t.push("  "+n+" -- "+i)},this)},this),t.push("}"),t.join("\n")},e.Bipartite=r},function(t,e,r){function n(t,e,r,n){function o(t){return"string"==typeof t?t:u.getKeyOf(t)}this._items={},this._byLabels=new i([],o),this._byTypes={},"function"==typeof e&&(this.getKeyOf=e),"function"==typeof r&&(this.setKeyOf=r),"function"==typeof n&&(this.getTypeOf=n),Array.isArray(t)&&t.forEach(function(t){this.insert(t)},this);var u=this}var i=r(2).Bimap;n.prototype.size=function(){return Object.keys(this._items).length},n.prototype.empty=function(){return 0===this.size()},n.prototype.clear=function(){this._items={},this._byTypes={},this._byLabels.clear()},n.prototype.contains=function(t){return"undefined"!=typeof this.find(t)},n.prototype.has=n.prototype.contains,n.prototype.insert=function(t){var e=this.getKeyOf(t),r=this.getTypeOf(t);return"undefined"!=typeof this._items[e]?!1:(this._items[e]=t,r&&("undefined"==typeof this._byTypes[r]&&(this._byTypes[r]={}),this._byTypes[r][e]=t),!0)},n.prototype.add=n.prototype.insert,n.prototype.erase=function(t){var e=this.getKeyOf(t),r=this.getTypeOf(t);return"undefined"==typeof this._items[e]?!1:(delete this._items[e],r&&(delete this._byTypes[r][e],0===Object.keys(this._byTypes[r]).length&&delete this._byTypes[r]),!0)},n.prototype.remove=n.prototype.erase,n.prototype.find=function(t){var e=this.getKeyOf(t);return this._items[e]},n.prototype.get=n.prototype.find,n.prototype.findInType=function(t,e){var r=this.getKeyOf(t),n=this._byTypes[e];return n?n[r]:void 0},n.prototype.getAllTypes=function(){return Object.keys(this._byTypes)},n.prototype.getTypeOf=function(t){return t&&"function"==typeof t.getType?t.getType():""},n.prototype.forEach=function(t,e){var r,n=this._items,i=e||this;for(r in n)t.call(i,n[r],r)},n.prototype.getKeyOf=function(t){return t&&t._uid?t._uid:t},n.prototype.setKeyOf=function(t,e){this.contains(t)&&(this.erase(t),item._uid=e,this.insert(t))},n.prototype.setLabelOf=function(t,e){this.contains(t)&&("string"==typeof e&&e?this._byLabels.insert(e,t):this._byLabels.remove(t))},n.prototype.unsetLabelOf=function(t){this.setLabelOf(t,"")},n.prototype.getLabelOf=function(t){return this._byLabels.lookup(t)||""},n.prototype.findByLabel=function(t){return this._byLabels.lookup(t)},n.prototype.isLabeled=function(t){return""!==this.getLabelOf(t)},n.prototype.labelExists=function(t){return void 0!==this.findByLabel(t)},n.prototype.getAllLabels=function(){return this._byLabels.getLeftNodes()},n.prototype.getItemsOfType=function(t,e){var r=this._byTypes[t];return r=Object.keys(r).map(function(t){return r[t]}),"function"==typeof e&&(r=r.filter(e)),r},n.prototype.getItems=function(t){var e=this._items;return e=Object.keys(e).map(function(t){return e[t]}),"function"==typeof t&&(e=e.filter(t)),e},e.SetStore=n},function(t,e,r){function n(){this._uid=this.generateUid()}function i(t,e,r,i){n.call(this),t=parseFloat(t),e=parseFloat(e),r=parseFloat(r),this.x=isNaN(t)?0:t,this.y=isNaN(e)?0:e,this.z=isNaN(r)?0:r,this._model=i}function o(t){n.call(this),this._values={spc:new u,forceLoad:new s,dispLoad:new s},this._values.forceLoad.setType("force"),this._values.dispLoad.setType("disp"),this._model=t}function u(){n.call(this),this._comps=_(null,6)}function s(){n.call(this),this._type="",this._values=_(0,6)}function a(t,e){n.call(this),this._nodes=t.slice(),this._model=e;var r=e._nodeEleGraph;this._nodes.forEach(function(t){r.addEdge(t,this)},this)}function c(t){n.call(this),this._model=t}function f(t,e,r){c.call(this,t),this.A=e,this.E=r}function p(t){n.call(this),this._model=t,this._type="",this._factor=1,this._params={},this.setType("Linear")}function l(t,e){n.call(this),this._ts=t,this._model=e}function h(t,e){l.call(this,t,e),this._nodeProps={},this._eleProps={},this._nodalLoads={},this._nodalLoadGraph=new w([],g,!1),this._eleLoads={},this._eleLoadGraph=new w([],g,!1)}function m(){n.call(this),this._objects=new S([],g,v,b),this._nodeEleGraph=new w([],g,!1),this._nodePropGraph=new w([],g,!1),this._elePropGraph=new w([],g,!1),this._patternPropGraph=new w([],g,!1),this._timeSeriesPatternMap=new E([],g)}function y(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return t.replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})}function d(t){this.name="NotImplementedError",this.message=t,this.stack=(new Error).stack}function g(t){return"string"==typeof t||"number"==typeof t?t:t&&"object"==typeof t&&"function"==typeof t.uid?t.uid():"undefined"!=typeof t._uid?t._uid:""}function v(t,e){this.contains(t)&&(this.erase(t),t._uid=e,this.insert(t))}function b(t){return t&&"function"==typeof t.getType?t.getType():"string"==typeof t?"string":"number"==typeof t?"number":Array.isArray(t)?"array":"function"==typeof t?"function":"object"==typeof t?"object":""}function _(t,e){for(var r=new Array(e);e--;)r[e]=t;return r}function x(t,e){if(t&&"function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.slice();if("object"==typeof t){var r,n={};if(e===!0)for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else for(r in t)t.hasOwnProperty(r)&&(n[r]=x(t[r]));return n}return t}var w=r(3).Bipartite,E=r(2).Bimap,S=r(4).SetStore;n.prototype.generateUid=y,n.prototype.uid=function(){return this._uid},n.prototype.getId=function(){return this._model?this._model.getIdOf(this):this._uid},n.prototype.setId=function(t){return this._model&&this._model.setIdOf(this,t),this},n.prototype.getLabel=function(){return this._model?this._model.getLabelOf(this):""},n.prototype.setLabel=function(t){return this._model&&this._model.setLabelOf(this,t),this},n.prototype.getType=function(){throw new d},n.prototype.clone=function(){throw new d},n.prototype.copy=function(){throw new d},n.prototype.toJSON=function(){throw new d},n.prototype.setFromJSON=function(){throw new d},i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.getType=function(){return"fe_node"},i.prototype.clone=function(){return new i(this.x,this.y,this.z,this._model)},i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},i.prototype.toJSON=function(){var t={};return t.x=this.x,t.y=this.y,t.z=this.z,t},i.prototype.setFromJSON=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},i.prototype.getElements=function(){var t=this._model,e=t._nodeEleGraph.getNeighbors(this);return Array.isArray(e)?e:[]},i.prototype.isInElement=function(t){var e=this._model._nodeEleGraph;return e.hasEdge(this,t)},i.prototype.isAdjacentTo=function(t){var e=this.getAdjacentNodes();return-1!==e.indexOf(t)},i.prototype.getAdjacentNodes=function(){var t=this.getElements(),e=[],r={};return r[this.uid()]=!0,t.forEach(function(t){var n=t.getNodes();n.forEach(function(t){var n=t.uid();r[n]||(e.push(t),r[n]=!0)})}),e},i.prototype.setConstraint=function(){},i.prototype.getNumOfConstraints=function(){},i.prototype.isFree=function(){},i.prototype.isConstrained=function(){},i.prototype.setFixedIn=function(){},i.prototype.setFreeIn=function(){},i.prototype.isFreeIn=function(){},i.prototype.isFixedIn=function(){},i.prototype.isFixedIn=function(){},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.getType=function(){return"fe_node_property"},o.prototype.clone=function(){var t=new o(this._model);return t.copy(this),this},o.prototype.copy=function(t){return this._model=t._model,this.setNodes(t.getNodes()),this._values={},this._valuse.spc=new u,this._values.spc.copy(t._values.spc),this._valuse.forceLoad=new s,this._values.forceLoad.copy(t._values.forceLoad),this._valuse.dispLoad=new s,this._values.dispLoad.copy(t._values.dispLoad),this},o.prototype.toJSON=function(){var t={};return t.nodes=this.getNodes().map(g),t.values=this.getValues(),t},o.prototype.getNodes=function(){var t=this._model._nodePropGraph,e=t.getNeighbors(this);return Array.isArray(e)?e:[]},o.prototype.getNumOfNodes=function(){return this.getNodes().length},o.prototype.setNodes=function(t){return this._model.assignNodeProperty(t,this),this},o.prototype.getValues=function(){var t={};return this._values.spc.isConstrained()&&(t.spc=this._values.spc.getValue()),this._values.forceLoad.isZero()||(t.forceLoad=this._values.forceLoad.getValue()),this._values.dispLoad.isZero()||(t.dispLoad=this._values.dispLoad.getValue()),t};var j=["setConstraint","getNumOfConstraints","isFree","isConstrained","setFixedIn","setFreeIn","isFreeIn","isFixedIn"];j.forEach(function(t){o.prototype[t]=function(){var e=this._values.spc[t].apply(this._values.spc,arguments);return e===this._values.spc&&(e=this),e}}),u.prototype=Object.create(o.prototype),u.prototype.constructor=u,u.prototype.getType=function(){return"spc"},u.prototype.copy=function(t){return this._comps=x(t._comps),this},u.prototype.clone=function(){var t=new u;return t._comps=x(this._comps),t},u.prototype.toJSON=function(){var t={};return t.components=x(this._comps),t},u.prototype.getValue=function(){return x(this._comps)},u.prototype.setValue=function(t){return this._comps=x(t),this},u.prototype.setConstraint=function(t,e){if(Array.isArray(t))t.forEach(function(t,r){var n=Array.isArray(e)?e[r]:e;this.setConstraint(t,n)},this);else{for(var r=this._comps.length;t>r;++r)this._comps[r]=null;this._comps[t]=e}return this},u.prototype.getNumOfConstraints=function(){var t=0;return this._comps.forEach(function(e){null!==e&&++t}),t},u.prototype.isFree=function(){return 0===this.getNumOfConstraints()},u.prototype.isConstrained=function(){return!this.isFree()},u.prototype.setFixedIn=function(t){Array.isArray(t)||(t=[t]);var e=t.map(function(){return 0});return this.setConstraint(t,e),this},u.prototype.setFreeIn=function(t){Array.isArray(t)||(t=[t]);var e=t.map(function(){return null});return this.setConstraint(t,e),this},u.prototype.isFreeIn=function(t){var e=this._comps[t];return null===e||"undefined"==typeof e},u.prototype.isFixedIn=function(t){return!this.isFree(t)},s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.getType=function(){return this._type},s.prototype._setType=function(t){return this._type=/^(nodal_)?[dD]isp(lacement)?(_load)?$/.test(t)?"nodal_displacement_load":"nodal_force_load",this},s.prototype.getValues=function(){return this._values.slice()},s.prototype._setValues=function(t){return this._values=t.slice(),this},s.prototype.isZero=function(){return 0===this._values.reduce(function(t,e){return t+e*e},0)},s.prototype.getValueAt=function(t){return"undefined"==typeof t?this.getValues():(Array.isArray(t)||(t=[t]),t.map(function(t){var e=this._values[t];return"number"!=typeof e||isNaN(e)?0:e},this))},s.prototype.setValueAt=function(t,e){if(Array.isArray(t))t.forEach(function(t,r){var n=Array.isArray(e)?e[r]:e;this.setLoad(t,n)},this);else{for(var r=this._values.length;t>r;++r)this._values[r]=0;this._values[t]=e}return this},a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.getType=function(){return"fe_element"},a.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.nodes=this._nodes.map(function(t){return t.uid()}),t},a.prototype.getNodes=function(){return this._nodes.slice()},a.prototype.getNumOfNodes=function(){return this._nodes.length},a.prototype.hasNode=function(t){return-1!==this._nodes.indexOf(t)},a.prototype.isAdjacentTo=function(t){var e=this.getAdjacentElements();return-1!==e.indexOf(t)},a.prototype.getAdjacentElements=function(){var t=[],e={};e[this.uid()]=!0;var r=this._nodes;return r.forEach(function(r){var n=r.getElements();n.forEach(function(r){var n=r.uid();e[n]||(t.push(r),e[n]=!0)})}),t},c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.getType=function(){return""},c.prototype.getElements=function(){var t=this._model._elePropGraph,e=t.getNeighbors(this);return Array.isArray(e)?e:[]},c.prototype.setElements=function(t){var e=(this.uid(),this._model._elePropGraph);return Array.isArray(t)||(t=[t]),t.forEach(function(t){e.addEdge(t,this)},this),this},c.prototype.getValue=function(){return null},c.prototype.setValue=function(){return this},f.prototype=Object.create(c.prototype),f.prototype.constructor=f,f.prototype.getType=function(){return"truss"},f.prototype.copy=function(t){return this._model=t._model,this.A=t.A,this.E=t.E,this},f.prototype.clone=function(){return new f(this._model,this.A,this.E)},p.prototype=Object.create(n.prototype),p.prototype.constructor=p,p.prototype.getType=function(){return this._type},p.prototype.setType=function(t){if(/^[lL]inear$/.test(t))this._type="linear";else{if(!/^[cC]onstant$/.test(t))throw new Error("Unknown time series type"+t+"!");this._type="constant"}return this},p.prototype.getFactor=function(){return this._factor},p.prototype.setFactor=function(t){return t=parseFloat(t),this._factor=isNaN(t)?1:t,this},p.prototype.getParams=function(){return x(this._params)},p.prototype.setParams=function(t){return this._params=x(t),this},p.prototype.evalAt=function(t){var e=this._type,r=(this._params,this._factor);switch(e){case"linear":return r*t;case"constant":default:return r}},p.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.type=this.getType(),t.factor=this.getFactor(),t.params=this.getParams(),t},l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.prototype.getType=function(){return""},l.prototype.getTimeSeries=function(){return this._ts},l.prototype.setTimeSeries=function(t){return this._ts=t,this},l.prototype.getFactor=function(){return this._ts.getFactor()},l.prototype.setFactor=function(t){return this._ts.setFactor(t),this},l.prototype.setAsCurrent=function(){return this._model.setCurrentPattern(this),this},h.prototype=Object.create(l.prototype),h.prototype.constructor=h,h.prototype.getType=function(){return"plain"},h.prototype.createNodalLoad=function(t,e){var r=new s;return r._setType(e),r._setValues(t),this._nodalLoads[r.uid()]=r,r},h.prototype.createNodalLoad=function(t,e){var r=new s;return r._setType(e),r._setValues(t),this._nodalLoads[r.uid()]=r,r},h.prototype.createBeamUniformLoad=function(){return null},h.prototype.createBeamPointLoad=function(){return null},h.prototype.assignNodalLoad=function(t,e){var r=this._nodalLoadGraph;return Array.isArray(t)||(t=[t]),t.forEach(function(t){r.addEdge(t,e)}),this},h.prototype.getNodalLoad=function(t){var e,r=this._nodalLoadGraph,n={};return e=r.hasNode(t)?r.getNeighbors()[0]:new s,n.type=e.getType(),n.values=e.getValues(),n},h.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.type=this.getType(),t.nodalLoads=Object.keys(this._nodeProps).map(function(t){return this[t].toJSON()},this._nodeProps),t.eleProps=Object.keys(this._eleProps).map(function(t){return this[t].toJSON()},this._eleProps),t},m.prototype=Object.create(n.prototype),m.prototype.constructor=m,m.prototype.find=function(t){return this._objects.find(t)},m.prototype.getObject=m.prototype.find,m.prototype.findInType=function(t,e){return this._objects.findInType(t,e)},m.prototype.findNode=function(t){return this.findInType(t,"fe_node")},m.prototype.findElement=function(t){return this.findInType(t,"fe_element")},m.prototype.setIdOf=function(t,e){this._objects.setKeyOf(t,e)},m.prototype.getIdOf=function(t){return this._objects.getKeyOf(t)},m.prototype.setLabelOf=function(t,e){this._objects.setLabelOf(t,e)},m.prototype.getLabelOf=function(t){return this._objects.getLabelOf(t)},m.prototype.findByLabel=function(t){return this._objects.findByLabel(t)},m.prototype.createNode=function(t,e,r){Array.isArray(t)&&(e=t[1],r=t[2],t=t[0]);var n=new i(t,e,r,this);return this._objects.insert(n),n},m.prototype.createElement=function(t){var e=new a(t,this);return this._objects.insert(e),e},m.prototype.assignNodeProperty=function(t,e){var r=this.getCurrentPattern();return r.assignNodeProperty(t,e),this},m.prototype.createNodalLoad=function(t){var e=this.getCurrentPattern();return e.createNodalLoad(t)},m.prototype.assignNodalLoad=function(t){var e=this.getCurrentPattern();return e.assignNodalLoad(t,nodeLoad),this},m.prototype.createElementProperty=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var r;if(/[tT]russ/.test(t)){var n=e.shift(),i=e.shift();r=new f(this,n,i)}},m.prototype.assignElementProperty=function(t,e){var r=this._elePropGraph;return Array.isArray(t)||(t=[t]),t.forEach(function(t){r.addEdge(t,e)}),this},m.prototype.getNodeProperty=function(t){var e=this.getCurrentPattern();return e.getNodeProperty(t)},m.prototype.createSPC=function(t,e){var r=this.createNodeProperty();return r.setConstraint(t,e),r},m.prototype.assignSPC=function(t,e){return this.assignNodeProperty(t,e),this},m.prototype.createPattern=function(t,e){var r;if(/^[pP]lain$/.test(t))r=new PlainPattern(e,this);else{if(!/^[uU]niform(Excitation)?$/.test(t))throw new Error("Unknown load pattern type "+t+"!");r=new UniformPattern(e,this)}return this.setCurrentPattern(r),r},m.prototype.getCurrentPattern=function(){return this._currentPattern},m.prototype.setCurrentPattern=function(t){var e=g(t);return"undefined"==typeof this._patterns[e]&&(this._patterns[e]=t),this._currentPattern=t,this},m.prototype.getNodes=function(){return this._nodeEleGraph.getLeftNodes()},m.prototype.getElements=function(){return this._nodeEleGraph.getRightNodes()},m.prototype.forEachNode=function(t,e){this._nodes;this._nodeEleGraph.forEachLeftNode(t,e)},m.prototype.forEachElement=function(t,e){this._elements;this._nodeEleGraph.forEachRightNode(t,e)},m.prototype.getAABB=function(){var t=[1/0,-1/0,1/0,-1/0,1/0,-1/0];return this.forEachNode(function(e){e.x<t[0]?t[0]=e.x:e.x>t[1]&&(t[1]=e.x),e.y<t[2]?t[2]=e.y:e.y>t[3]&&(t[3]=e.y),e.z<t[4]?t[4]=e.z:e.z>t[5]&&(t[5]=e.z)}),t},m.prototype.getXRange=function(){return this.getAABB().slice(0,2)},m.prototype.getYRange=function(){return this.getAABB().slice(2,4)},m.prototype.getZRange=function(){return this.getAABB().slice(4)},m.prototype.getXDiff=function(){var t=this.getXRange();return t[1]-t[0]},m.prototype.getYDiff=function(){var t=this.getYRange();return t[1]-t[0]},m.prototype.getZDiff=function(){var t=this.getZRange();return t[1]-t[0]},m.TOL=1e-8,m.prototype.getDimension=function(){var t=m.TOL,e=0;return e+=this.getXDiff()>t?1:0,e+=this.getYDiff()>t?1:0,e+=this.getZDiff()>t?1:0},m.prototype.toJSON=function(){var t={};return t.id=this.uid(),t.nodes=Object.keys(this._nodes).map(function(t){var e=this[t],r=e.toJSON();return r.id=e.uid(),r},this._nodes),t.elements=Object.keys(this._elements).map(function(t){var e=this[t],r=e.toJSON();return r.id=e.uid(),r},this._elements),t.currentPattern=this._currentPattern.uid(),t.patterns=Object.keys(this._patterns).map(function(t){return this[t].toJSON()},this._patterns),t},m.prototype.setFromJSON=function(){return this},m.prototype.copy=function(t){this.setFromJSON(t.toJSON())},m.prototype.clone=function(){this.setFromJSON(other.toJSON())},m.createFromJSON=function(t){var e=new m;t.id&&(e._uid=t.id);var r=(t.refType||"id",t.nodes);Array.isArray(r)&&r.forEach(function(t){var r=e.createNode(t.x,t.y,t.z);t.id&&r.setId(t.id)});var n=t.elements;return Array.isArray(n)&&n.forEach(function(t){var r=t.nodes.map(function(t){return e.getObject(t)}),n=e.createElement(r);t.id&&n.setId(t.id)}),e},d.prototype=new Error,e.FeObject=n,e.FeNode=i,e.FeElement=a,e.FeSPC=u,e.FeModel=m},function(t,e,r){function n(t){return Math.sqrt(k.sum(k.pow(t,2)))}function i(t,e){return t[e-1]}function o(t,e){return t.map(function(t){return[t[e-1]]})}function u(t,e,r){var n=f(t,1),i=f(t,2);":"===e&&(e=S(n,function(t){return t+1})),":"===r&&(r=S(i,function(t){return t+1}));var o=e.length,u=r.length,s=j(o,u,0);return e.forEach(function(e,n){var i=e-1;r.forEach(function(e,r){var o=e-1;s[n][r]=t[i][o]})}),s}function s(t,e,r,n){var i=f(t,1),o=f(t,2);":"===e&&(e=S(i,function(t){return t+1})),":"===r&&(r=S(o,function(t){return t+1}));var u=e.length,s=r.length;"number"==typeof n&&(n=j(u,s,n));var a=t;return e.forEach(function(t,e){var i=t-1;r.forEach(function(t,r){var o=t-1;a[i][o]=n[e][r]})}),a}function a(t,e,r,n){var i=E(t);return s(i,e,r,n)}function c(t,e,r){"number"!=typeof r&&(r=1);
var n=[],i=t;if(r>0)for(;e>=i;)n.push(i),i+=r;else{if(!(0>r))throw new Error("colon(): step must not equals to 0.");for(;i>=e;)n.push(i),i+=r}return n}function f(t,e){return 1===e?t.length:2===e?t[0].length:[t.length,t[0].length]}function p(t,e,r){if(!w.isArray(t)||!w.isArray(e))return!1;if(t.length!==e.length)return!1;if(0===t.length)return!1;var n,i=t.length;for(n=0;i>n;++n)if("number"!=typeof t[n])return!1;for(n=0;i>n;++n)if("number"!=typeof e[n])return!1;var o=r||p.TOLERANCE,u=k.sub(t,e),s=k.norm2(u);if(0===s)return!0;var a=s/k.norm2(e);return o>a}function l(t,e,r){if(t.length!==e.length)return!1;var n=t.length;if(0===n)return!1;var i=t[0].length||0;if(0===i)return!1;if(!e||!e[0]||e[0].length!==i)return!1;var o="number"==typeof r?r:l.TOLERANCE,u=k.sub(t,e),s=k.norm2(u);if(0===s)return!0;var a=s/k.norm2(e);return o>a}function h(t){var e=t[0],r=t[1],n=t[2],i=n.length,o=0,u=0;return{hasNext:function(){return i>o},next:function(){var t,i,s,a;t=r[o],i=u,s=n[o],a=[t,i,s];var c=e[u+1];return++o,o>=c&&++u,a}}}function m(t){if(!w.isArray(t))return!1;if(t.length<=0)return!1;if(!w.isArray(t[0]))return!1;var e=t.length,r=t[0].length;if(0>=r)return!1;var n;for(n=1;e>n;++n)if(!w.isArray(t[n])||t[n].length!==r)return!1;return!0}function y(t){return[t.length,t[0].length]}function d(t,e,r){if("number"==typeof t&&t>0&&"number"==typeof e&&e>0)this._m=t,this._n=e,this._data=w.array2d(t,e,"undefined"!=typeof r?r:0);else if(m(t)){this._data=w.cloneDeep(t);var n=y(t);this._m=n[0],this._n=n[1]}else{if(!(t instanceof d))throw new Error("DenseMatrix(m, n): m and n must be positive integer.");this._m=t._m,this._n=t._n,this._data=w.cloneDeep(t._data)}}function g(t,e,r){var n=new d(t);if(null!==e&&n.m()!==e)throw new Error("ensureMatrixDimension(mat, m, n): mat.m = "+n.m()+" but expect m = "+e);if(null!==r&&n.n()!==r)throw new Error("ensureMatrixDimension(mat, m, n): mat.n = "+n.n()+" but expect n = "+r);return t}function v(t,e,r){if((0|e)!==e||0>=e||(0|r)!==r||0>=r)throw new Error("DokSparseMatrix(ijvLst, m, n): m, n must be positive integer.");this._m=e,this._n=r,this._dict={};var n=w.noopIterator;w.isArray(t)?n=w.iteratorFromList(t):w.isIterator(t)&&(n=t);for(var i,o,u,s;n.hasNext();)i=n.next(),o=i[0],u=i[1],s=i[2],this.set_(o,u,s)}function b(t,e){if((0|e)!==e||0>=e)throw new Error("SparseVector(valueList, dimension): dimension must be positive integer.");this._dim=e,this._dict={};var r=w.noopIterator;w.isArray(t)?r=w.iteratorFromList(t):w.isIterator(t)&&(r=t);for(var n,i,o;r.hasNext();)n=r.next(),i=n[0],o=n[1],0!==o&&this.set_(i,o)}function _(t,e){if(t instanceof v&&e instanceof b)return t.solveSparseVector(e);if(t instanceof v&&w.isArray(e))return t.solveVector(e);throw new Error("mldivide(A, b): unsupported type A or b. A, b: "+t+", "+e)}function x(t){return j(t,t,function(t,e){return t===e?1:0})}var w=r(1),E=w.cloneDeep,S=w.array1d,j=w.array2d,O=w.listFromIterator,k=r(26),A=k.ccsSparse,N=(k.ccsFull,k.ccsLUP),M=k.ccsLUPSolve;w.assign(e,k),e.norm=n,e.nthRow=i,e.nthColumn=o,e.ix=u,e.ixUpdate_=s,e.ixUpdate=a,e.colon=c,e.size=f,p.TOLERANCE=1e-4,e.vecEquals=p,e.vecEql=p,e.array1dEquals=p,l.TOLERANCE=1e-4,e.array2dEquals=l,e.matrixEquals=l,e.matEql=l,e.ccsValueListIterator=h,e.isMatrixLikeArray=m,d.prototype.at=function(t,e){if(t>=0&&t<this._m&&e>=0&&e<this._n)return this._data[t][e];throw new Error("DenseMatrix::at(): index "+[t,e]+" outof bound "+[this.m,this.n])},d.prototype.size=function(){return[this._m,this._n]},d.prototype.m=function(){return this._m},d.prototype.n=function(){return this._n},d.prototype.set_=function(t,e,r){if(0>t||t>=this._m||0>e||e>=this._n)throw new Error("DenseMatrix::set(): index "+[t,e]+" outof bound "+[this.m,this.n]);if("number"!=typeof r)throw new Error("DenseMatrix::set_(i, j, val): val must be a number.");this._data[t][e]=r},d.prototype.toFull=function(){return w.cloneDeep(this._data)},d.prototype.toCcs=function(){return A(this._data)},e.DenseMatrix=d,e.ensureMatrixDimension=g,v.prototype.size=function(){return[this.m,this.n]},v.prototype.m=function(){return this._m},v.prototype.n=function(){return this._n},v.prototype.at=function(t,e){if(t>=0&&t<this._m&&e>=0&&e<this._n)return this._dict[e]&&this._dict[e][t]?this._dict[e][t]:0;throw new Error("DokSparseMatrix::at(i, j): i,j: "+[t,e]+" outof dimension m, n: "+[this._m,this._n])},v.prototype.set_=function(t,e,r){if(t>=0&&t<this._m&&e>=0&&e<this._n){if("number"!=typeof r)throw new Error("DokSparseMatrix::set_(i, j, val): val must be a number. val = "+r);return this._dict[e]||(this._dict[e]={}),void(this._dict[e][t]=r)}throw new Error("DokSparseMatrix::set_(i, j, val): i,j: "+[t,e]+" outof dimension m, n: "+[this._m,this._n])},v.prototype.toFull=function(){var t=this._m,e=this._n,r=j(t,e,0);return Object.keys(this._dict).forEach(function(t){Object.keys(this._dict[t]).forEach(function(e){r[e][t]=this.at(e,t)},this)},this),r},v.prototype.toCcs=function(){var t=this._dict,e=(this._m,this._n),r=[[0],[],[]],n=S(e,function(e){return"undefined"!=typeof t[e]?Object.keys(t[e]).length:0});n.forEach(function(t){var e=r[0],n=e[e.length-1];e.push(n+t)});var i=Object.keys(t).sort(function(t,e){return parseInt(t)-parseInt(e)});return i.forEach(function(e){Object.keys(t[e]).forEach(function(n){var i=t[e][n];r[1].push(n),r[2].push(i)})}),r},v.prototype.toJSON=function(){return{m:this.m,n:this.n,values:this.toValueList()}},v.prototype.toValueList=function(){var t=[],e=this._dict;return Object.keys(e).forEach(function(r){Object.keys(e[r]).forEach(function(n){var i=e[r][n];t.push([r,n,i])})}),t},v.prototype.solveVector=function(t){if(this._m!==this._n)throw new Error("DokSparseMatrix::solve can only be used by square matrix where this.m === this.n.");if(this._m!==t.length)throw new Error("DokSparseMatrix::solve can only be applied to vector of same dimension.");var e=this.toCcs(),r=N(e);return M(r,t)},v.prototype.solveSparseVector=function(t){if(!(t instanceof b))throw new Error("DokSparseMatrix::solveSparseVector(b): b must be a SparseVector.");if(this._m!==t.length())throw new Error("DokSparseMatrix::solve can only be applied to vector of same dimension.");var e=this.toCcs(),r=N(e),n=t.toCcs(),i=M(r,n),o=O(h(i)).map(function(t){return[t[0],t[2]]}),u=new b(o,this._m);return u},e.DokSparseMatrix=v,b.prototype.length=function(){return this._dim},b.prototype.dim=b.prototype.length,b.prototype.nzCount=function(){var t,e=0;for(t in this._dict)++e;return e},b.prototype.at=function(t){if(t>=0&&t<this._dim){var e=this._dict[t];return"number"==typeof e?e:0}throw new Error("SparseVector::at(i): index outof bound.")},b.prototype.valueListIterator=function(){var t=0,e=Object.keys(this._dict),r=e.length,n=this._dict;return e.sort(function(t,e){return parseInt(t)-parseInt(e)}),{hasNext:function(){return r>t},next:function(){var r=e[t],i=[parseInt(r),n[r]];return++t,i}}},b.prototype.equals=function(t,e){var r=this.toList(),n="function"==typeof t.toList?t.toList():t,i=p(r,n,e);return i},b.prototype.set_=function(t,e){if(0>t||t>=this._dim)throw new Error("SparseVector::set_(i): index outof bound.");if("number"!=typeof e)throw new Error("SparseVector::set_(i, val): val must be a number. val = "+e);0!==e&&(this._dict[t]=e)},b.prototype.toCcs=function(){var t,e,r=this._dict,n=(this._dim,[[0,-1],[],[]]),i=0;for(t in r)e=parseInt(t),n[1].push(e),n[2].push(r[e]),++i;return n[0][1]=i,n},b.prototype.toFull=function(){var t=this._dim,e=this._dict;return j(t,1,function(t){return"number"==typeof e[t]?e[t]:0})},b.prototype.toList=function(){var t=this._dim,e=this._dict;return S(t,function(t){return"number"==typeof e[t]?e[t]:0})},e.mldivide=_,e.eye=x,e.SparseVector=b},function(t,e,r){function n(){function t(t){return i.reduce(t,function(t,e){return e.length>t&&(t=e.length),t},0)}var e,r=Array.prototype.slice.call(arguments),n=r.length;if(1===n&&i.isArray(r[0])){if(0===r[0].length)throw new Error("PointSet() Can not determin pointset dimension from []");e=r[0],this._rn=t(e)}else if(2===n&&"number"==typeof r[0]&&"number"==typeof r[1])e=i.array2d(r[0],r[1],0),this._rn=t(e);else if(2===n&&"number"==typeof r[0]&&"function"==typeof r[1])e=i.array1d(r[0],r[1]),this._rn=t(e);else{if(2!==n||!i.isArray(r[0])||"number"!=typeof r[1])throw new Error("PointSet() can not initialize with args: "+r);e=r[0],this._rn=r[1]}this._points=new Array(e.length),i.each(e,function(t,e){var r=i.array1d(this._rn,0);i.each(t,function(t,e){r[e]=t}),this._points[e]=r},this)}var i=r(1),o=r(6),u=o.norm2,s=o.sub;n.prototype.getSize=function(){return this._points.length},n.prototype.__defineGetter__("size",n.prototype.getSize),n.prototype.getRn=function(){return this._rn},n.prototype.__defineGetter__("rn",n.prototype.getRn),n.prototype.clone=function(){return new n(this.toList(),this.rn)},n.prototype.toJSON=function(){var t={};return t.points=this.toList(),t.rn=this.rn,t},n.prototype.toList=function(){return i.cloneDeep(this._points)},n.prototype.equals=function(t){if(this.rn!==t.rn||this.size!==t.size)return!1;var e,r,n=this.size,i=this.rn;for(e=0;n>e;e+=1){var o=this.get(e),u=t.get(e);for(r=0;i>r;++r)if(o[r]!==u[r])return!1}return!0},n.prototype.isEqualTo=n.prototype.equals,n.prototype.get=function(t){if(t>=0&&t<this._points.length)return this._points[t].slice();throw new Error("PointSet::get() index outof bounds.")},n.prototype.set_=function(t,e){if(t>=0&&t<this._points.length){if(e.length!==this.rn)throw new Error("PointSet::set() point dimension is not matched.");var r=this._points;return void i.each(r[t],function(n,i){r[t][i]=e[i]})}throw new Error("PointSet::set() index outof bounds.")},n.prototype.setAtDir_=function(t,e,r){if(0>e||e>=this.getRn())throw new Error("PointSet::setAtDir_() dir is out of range.");if(t>=0&&t<this._points.length){var n=this._points;return void(n[t][e]=r)}throw new Error("PointSet::set() index outof bounds.")},n.prototype.forEach=function(t){var e,r,n;for(e=0,r=this.getSize();r>e;++e)n=this.get(e),t(n,e)},n.prototype.map=function(t){var e=new Array(this.getSize());return this.forEach(function(r,n){e[n]=t(r,n)}),new n(e)},n.prototype.filter=function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(r)}),new n(e,this._rn)},n.prototype.embed=function(t){return this.map(function(e){return i.embed(e,t)})},n.prototype.extrude=function(t){var e=t.reduce(function(t,e){var r=t[t.length-1];return t.push(r+e),t},[0]),r=this.rn,o=this._points,u=i.reduce(e,function(t,e){return i.each(o,function(r){var n=i.clone(r);n.push(e),t.push(n)}),t},[]);return new n(u,r+1)},n.prototype.findOne=function(t){var e,r,n=this.getSize();for(e=0;n>e;++e)if(r=this.get(e),t(r,e)===!0)return r;return null},n.prototype.contains=function(t,e){var r=e||n.DEFAULT_PRECISION;return i.isArray(t)&&t.length===this.rn?null!==this.findOne(function(e){return u(s(e,t))<r}):!1},n.prototype.merged=function(t){var e=t||n.DEFAULT_PRECISION,r=[];return this.forEach(function(t){var n=i.any(r,function(r){return u(t,r)<e});n||r.push(t)}),new n(r,this.rn)},n.DEFAULT_PRECISION=1e-6,n.prototype.combineWith=function(t){if(this.rn!==t.rn)throw new Error("Pointset::combineWith(other): pointset rn dismatch.");var e=this.toList();return t.forEach(function(t){e.push(t)}),new n(e,this.rn)},n.prototype.fuse=n.prototype.combineWith,n.prototype.rotate=function(){throw new Error("PointSet::rotate(dims, values) is not implemented")},n.prototype.scale=function(t,e){if(i.isArray(t)&&i.isArray(e)&&t.length===e.length){if(i.max(t)+1>this.rn)throw new Error("PointSet::scale(dims, values): dim must be no greater than rn.");return this.map(function(r){return t.forEach(function(t,n){r[t]=r[t]*e[n]}),r})}throw new Error("PointSet::scale(dims, values): dims and values must be array of same length.")},n.prototype.translate=function(t,e){if(i.isArray(t)&&i.isArray(e)&&t.length===e.length){if(i.max(t)+1>this.rn)throw new Error("PointSet::translate(dims, values): dim must be no greater than rn.");return this.map(function(r){return t.forEach(function(t,n){r[t]=r[t]+e[n]}),r})}throw new Error("PointSet::translate(dims, values): dims and values must be array of same length.")},n.prototype.transform=function(){throw new Error("PointSet::transform(matrix) is not implemented")},n.prototype.prod=function(){throw new Error("PointSet::prod(other) is not implemented.")},e.PointSet=n},function(t,e,r){function n(t,e){if(!m.isArray(t))throw new Error("Topology(): complexes must be a list of connectiviy list.");var r,n,i,o,u,s,a,c,f;for(o=t.length,r=0;o>r;++r){if(u=t[r],!m.isArray(u))throw new Error("Topology(): connectivity list must be an array.");if(s=u.length,s>0){if(c=u[0],!m.isArray(c))throw new Error("Topology(): cell index list must be an array.");for(a=c.length,n=0;s>n;++n){if(c=u[n],!m.isArray(c))throw new Error("Topology(): cell index list must be an array.");if(c.length!==a)throw new Error("Topology(): inconsist cell size.");for(i=0;a>i;++i)if(f=c[i],(0|f)!==f)throw new Error("Topology: cell index must be an integer.")}}}var p=m.cloneDeep(t);this._complexes=p;var l=[];if(m.isArray(e)&&e.length===this._complexes.length)this._cellSizes=m.clone(e);else if(this._cellSizes=this._complexes.map(function(t,e){return 0===t.length?(l.push("Topology(): Can not determine the dim of cells in dim "+e),-1):t[0].length}),l.length>0)throw new Error(l.join("\n"))}function i(t){var e=[t[0]],r=[t[1]];return[e,r]}function o(t){var e=[t[0],t[1]],r=[t[1],t[2]],n=[t[2],t[3]],i=[t[3],t[0]];return[e,r,n,i]}function u(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],u=t[5],s=t[6],a=t[7],c=[e,i,n,r],f=[e,r,u,o],p=[r,n,s,u],l=[n,i,a,s],h=[e,o,a,i],m=[o,u,s,a];return[c,f,p,l,h,m]}function s(t,e){var r;if(1===e)r=i;else if(2===e)r=o;else{if(3!==e)throw new Error("hypercubeBoundaryCells(conn, dim): dim ("+e+") is not valid.");r=u}var n=function(t){return g(t).join(",")},s={},a=[];return t.forEach(function(t){var e=r(t);e.forEach(function(t){var e=n(t);s[e]||(a.push(t),s[e]=!0)})}),a}function a(t){return"number"==typeof t[0]?[t.map(function(t){return[t]})]:[d(t)]}function c(t){var e=y(2,function(){return null});return e[1]=d(t),e[0]=s(e[1],1),e}function f(t){var e=y(3,function(){return null});return e[2]=d(t),e[1]=s(e[2],2),e[0]=s(e[1],1),e}function p(t){var e=y(4,function(){return null});return e[3]=d(t),e[2]=s(e[3],3),e[1]=s(e[2],2),e[0]=s(e[1],1),e}function l(t,e){if(0===e)return new n(a(t));if(1===e)return new n(c(t));if(2===e)return new n(f(t));if(3===e)return new n(p(t));throw new Error("hypercube(conn, dim): dim must be one of 0,1,2,3.")}function h(){var t=[];return new n(t)}var m=r(1),y=m.array1d,d=m.cloneDeep,g=m.normalizedCell,v=m.byLexical,b=m.Bimap;n.prototype.getDim=function(){return this._complexes.length-1},n.prototype.__defineGetter__("dim",n.prototype.getDim),n.prototype.getNumOfCellsInDim=function(t){if(0>t||t>this.getDim())throw new Error("Topology::getNumOfCellsInDim(): dim out of bound.");return this._complexes[t].length},n.prototype.getCellSizeInDim=function(t){if(0>t||t>this.getDim())throw new Error("Topology::getCellSizeInDim(): dim out of bound.");return this._cellSizes[t]},n.prototype.toList=function(){return m.cloneDeep(this._complexes)},n.prototype.toJSON=function(){return{complexes:this.toList()}},n.prototype.clone=function(){var t=new n([]);return t._complexes=this.toList(),t._cellSizes=m.cloneDeep(this._cellSizes),t},n.prototype.normalized=function(){var t=d(this._complexes);return t.forEach(function(t){t.forEach(function(e,r){t[r]=g(e)}),t.sort(v)}),new n(t,this._cellSizes)},n.prototype.equals=function(t){if(this.getDim()!==t.getDim())return!1;var e,r=this.getDim();for(e=0;r>=e;++e)if(this.getCellSizeInDim(e)!==t.getCellSizeInDim(e))return!1;var n,i;for(e=0;r>=e;++e)for(i=this.getNumOfCellsInDim(e),n=0;i>n;++n)if(!m.isEqual(this._complexes[e][n],t._complexes[e][n]))return!1;return!0},n.prototype.getCellsInDim=function(t){return m.cloneDeep(this._complexes[t])},n.prototype.getMaxCells=function(){return this.getCellsInDim(this.getDim())},n.prototype.getPointIndices=function(){return this._complexes[0].map(function(t){return t[0]})},n.prototype.boundary=function(){throw new Error("Topology::boundary(): is not implemented.")};new b([[0,1],[1,2],[2,4],[3,8]]);h.prototype=Object.create(n.prototype),h.prototype.constructor=h,e.Topology=n,e.hypercube=l,e.simplex=h},function(t,e,r){function n(t,e){var r=u(e),n=r[0],i=r[1];if(n===i)return s(n);var o=e.map(function(t){return[t[0]]});switch(o=a(o,c(o)),i){case 1:return o;case 2:throw new Error("genISORm: ntan = "+i+" is not implemented.");default:throw new Error("genISORm: incorrect size of tangents, ntan = "+i)}}function i(t){var e,r=t.length;if(3===r)e=[[0,-t[2],t[1]],[t[3],0,-t[0]],[-t[1],t[0],0]];else{if(2!==r)throw new Error("skewmat(theta): theta must be a vector of 2 or 3.");e=[-t[1],t[0]]}return e}var o=r(6),u=o.size,s=o.eye,a=o.div,c=o.norm2;e.genISORm=n,e.skewmat=i},function(t,e,r){function n(t){this._xyz=s.instance(t.xyz,p)?t.xyz.clone():new p(t.xyz)}{var i=r(1),o=i.cloneDeep,u=i.embed,s=i.check,a=i.assert,c=i.defineContract,f=i.isMatrixOfDimension,p=(i.vectorOfDimension,r(7).PointSet);c(function(t){if(a.object(t),a.assigned(t.xyz),!(f(t.xyz,"*",1)||f(t.xyz,"*",2)||f(t.xyz,"*",3)||s.instance(t.xyz,p)))throw new Error("Not valid xyz for fens.")},"Input is not a valid fens option.")}n.prototype.dim=function(){return this._xyz.getRn()},n.prototype.xyz=function(){return this._xyz.toList()},n.prototype.xyzById=function(t){return this._xyz.get(t-1)},n.prototype.get=n.prototype.xyzById,n.prototype.xyzIter=function(){var t=0,e=this._xyz,r=e.getSize();return{hasNext:function(){return r>t},next:function(){return e.get(t++)}}},n.prototype.xyz3=function(){return this._xyz.embed(3).toList()},n.prototype.xyz3ById=function(t){return u(this._xyz.get(t-1),3)},n.prototype.xyz3Iter=function(){var t=this.xyzIter();return{hasNext:function(){return t.hasNext()},next:function(){return u(t.next(),3)}}},n.prototype.count=function(){return this._xyz.getSize()},n.prototype.boxSelect=function(t){function e(t,e){var r,n,i,o,u=t.length,s=!0;for(r=0;u>r;++r)if(n=t[r],i=e[2*r],o=e[2*r+1],i>n||n>o)return!1;return s}if(!t||!t.bounds||t.bounds.length!==2*this.dim())throw new Error("FeNodeSet::boxSelect() invalid options.bounds");var r,n,i=o(t.bounds),u=i.length;if("number"==typeof t.inflate)for(n=Math.abs(t.inflate),r=0;u>r;++r)r%2==0?i[r]-=n:i[r]+=n;var s,a,c=(this.dim(),this.nfens()),f=[];for(s=1;c>=s;++s)a=this.xyzById(s),e(a,i)&&f.push(s);return f},n.prototype.nfens=n.prototype.count,e.FeNodeSet=n},function(t,e,r){function n(t,e){var r=[];return e.forEach(function(e){return r.push(u(t[e]))}),r}var i=r(1),o=i.uuid,u=i.cloneDeep,s=(i.noop,i.defineContract,i.assert),a=i.check,c=a.assigned,f=a.object,p=a.instance,l=a.number,h=a["function"],m=(s.matrixOfDimension,s.vectorOfDimension,r(6)),y=m.size,d=m.norm,g=m.nthColumn,v=m.dot,b=m.mul,_=m.inv,x=m.transpose,w=r(9),E=w.skewmat,S=r(8),j=S.Topology,O=S.hypercube;e.GCellSet=function(t){if(!f(t)||!p(t.topology,j))throw new Error("GCellSet#constructor(options): options is not a valid GCellSet~InitOption.");this._axisSymm=null,this._otherDimension=null,this._id=null,this._topology=null,this._otherDimension=l(t.otherDimension)||h(t.otherDimension)?t.otherDimension:1,this._axisSymm=c(t.axisSymm)?!!t.axisSymm:!1;var e=t.topology,r=e.getCellSizeInDim(e.getDim()),n=this.cellSize();if(r!==n)throw new Error("GCellSet(): cellSize of the topology dismatch.");var i=e.getDim(),u=this.dim();if(i!==u)throw new Error("GCellSet(): dim of the topology dismatch.");this._id=o(),this._topology=e};var k=e.GCellSet;e.GCellSet.prototype.topology=function(){return this._topology},e.GCellSet.prototype.otherDimension=function(t,e,r){return"function"==typeof this._otherDimension?this._otherDimension(t,e,r):this._otherDimension},e.GCellSet.prototype.axisSymm=function(){return this._axisSymm},e.GCellSet.prototype.vertices=function(){return this._topology.getPointIndices()},e.GCellSet.prototype.edges=function(){return this._topology.getCellsInDim(1)},e.GCellSet.prototype.triangles=function(){return this._topology.getCellsInDim(2)},e.GCellSet.prototype.type=function(){throw new Error("GCellSet::type(): is not implemented.")},e.GCellSet.prototype.boundaryGCellSetConstructor=function(){throw new Error("GCellSet::getBoundaryGCellSetConstructor(): is not implemented.")},e.GCellSet.prototype.boundaryCellType=function(){var t=this.boundaryGCellSetConstructor();return t.prototype.type.call(null)},e.GCellSet.prototype.boundary=function(){var t=this.boundaryGCellSetConstructor(),e=this._topology.boundary();return new t({topology:e})},e.GCellSet.prototype.dim=function(){throw new Error("GCellSet::dim(): is not implemented.")},e.GCellSet.prototype.cellSize=function(){throw new Error("GCellSet::cellSize(): is not implemented.")},e.GCellSet.prototype.id=function(){return this._id},e.GCellSet.prototype.conn=function(){return this._topology.getMaxCells()},e.GCellSet.prototype.jacobianMatrix=function(t,e){return b(x(e),t)},e.GCellSet.prototype.bfun=function(){throw new Error("GCellSet::bfun(): is not implemented.")},e.GCellSet.prototype.bfundpar=function(){throw new Error("GCellSet::bfundpar(): is not implemented.")},e.GCellSet.prototype.bfundsp=function(t,e){var r=b(x(e),t),n=v(t,_(r));return n},e.GCellSet.prototype.count=function(){return this._topology.getNumOfCellsInDim(this._topology.getDim())},e.GCellSet.prototype.nfens=function(){return this._topology.getNumOfCellsInDim(0)},e.GCellSet.prototype.subset=function(t){var e=n(this.conn(),t),r=this.constructor;return new r({conn:e,axisSymm:this._axisSymm,otherDimension:this._otherDimension})},e.GCellSet.prototype.clone=function(){var t=this.constructor;return new t({topology:this._topology.clone(),axisSymm:this._axisSymm,otherDimension:this._otherDimension})},e.GCellSetManifold0=function(t){k.call(this,t)};var A=e.GCellSetManifold0;A.prototype=Object.create(k.prototype),A.prototype.constructor=A,e.GCellSetManifold0.prototype.dim=function(){return 0},e.GCellSetManifold0.prototype.jacobian=function(){var t=1;return t},e.GCellSetManifold0.prototype.jacobianCurve=function(t,e,r,n){var i,o;return this.axisSymm()?(o=v(x(e),n)[0],i=2*Math.PI*o[0]):i=1*this.otherDimension(t,e,n),i},e.GCellSetManifold0.prototype.jacobianSurface=function(t,e,r,n){var i,o;return this.axisSymm()?(o=v(x(e),n)[0],i=2*Math.PI*o[0]*this.otherDimension(t,e,n)):i=1*this.otherDimension(t,e,n),i},e.GCellSetManifold0.prototype.jacobianVolumn=function(t,e,r,n){var i;if(this.axisSymm()){var o=b(x(e),n)[0];i=2*this.jacobianCurve(t,e,r,n)*Math.PI*o[0]*this.otherDimension(t,e,n)}else i=this.jacobianCurve(t,e,r,n)*this.otherDimension(t,e,n);return i},e.GCellSetManifold0.prototype.jacobianInDim=function(t,e,r,n,i){var o;switch(i){case 3:o=this.jacobianVolumn(t,e,r,n);break;case 2:o=this.jacobianSurface(t,e,r,n);break;case 1:o=this.jacobianCurve(t,e,r,n);break;default:throw new Error("GCellSetManifold0::jacobianInDim(): wrong dimension "+i)}return o},e.GCellSetManifold1=function(t){k.call(this,t)};var N=e.GCellSetManifold1;N.prototype=Object.create(k.prototype),N.prototype.constructor=N,e.GCellSetManifold1.prototype.dim=function(){return 1},e.GCellSetManifold1.prototype.jacobian=function(t,e,r,n){var i=this.jacobianCurve(t,e,r,n);return i},e.GCellSetManifold1.prototype.jacobianCurve=function(t,e,r){var n=x(r)[0],i=d(n);return i},e.GCellSetManifold1.prototype.jacobianSurface=function(t,e,r,n){var i,o;return this.axisSymm()?(o=v(x(e),n)[0],i=2*this.jacobianCurve(t,e,r,n)*Math.PI*o[0]):i=this.jacobianCurve(t,e,r,n)*this.otherDimension(t,e,n),i},e.GCellSetManifold1.prototype.jacobianVolumn=function(t,e,r,n){var i,o;return this.axisSymm()?(o=v(x(e),n)[0],i=2*this.jacobianCurve(t,e,r,n)*Math.PI*o[0]*this.otherDimension(t,e,n)):i=this.jacobianCurve(t,e,r,n)*this.otherDimension(t,e,n),i},e.GCellSetManifold1.prototype.jacobianInDim=function(t,e,r,n,i){var o;switch(i){case 3:o=this.jacobianVolumn(t,e,r,n);break;case 2:o=this.jacobianSurface(t,e,r,n);break;case 1:o=this.jacobianCurve(t,e,r,n);break;default:throw new Error("GCellSetManifold1::jacobianInDim(): wrong dimension "+i)}return o},e.GCellSetManifold2=function(t){k.call(this,t)};var M=e.GCellSetManifold2;M.prototype=Object.create(k.prototype),M.prototype.constructor=M,e.GCellSetManifold2.prototype.dim=function(){return 2},e.GCellSetManifold2.prototype.jacobian=function(t,e,r,n){return this.jacobianSurface(t,e,r,n)},e.GCellSetManifold2.prototype.jacobianSurface=function(t,e,r){var n,i=y(r),o=i[0],u=i[1];if(2!==u)throw new Error("GCellSetManifold2::jacobianSurface(): is not implemented when ntan is not 2");return o===u?n=r[0][0]*r[1][1]-r[1][0]*r[0][1]:(n=E(g(r,1)),n=v(n,g(r,2)),n=d(n)),n},e.GCellSetManifold2.prototype.jacobianVolumn=function(t,e,r,n){var i,o;return this.axisSymm()?(i=v(x(e),n)[0],o=2*this.jacobianSurface(t,e,r,n)*Math.PI*i[0]):o=this.jacobianSurface(t,e,r,n)*this.otherDimension(t,e,n),o},e.GCellSetManifold2.prototype.jacobianInDim=function(t,e,r,n,i){switch(i){case 3:return this.jacobianVolumn(t,e,r,n);case 2:return this.jacobianSurface(t,e,r,n);default:throw new Error("GCellSetManifold2::jacobianInDim(): unsupported dim "+i)}},e.L2=function(t){if(!t||!t.conn&&!t.topology)throw new Error("L2#constructor(options): options is not a valid L2~InitOption");t.conn&&(t.topology=O(t.conn,1)),N.call(this,t)};var C=e.L2;C.prototype=Object.create(N.prototype),C.prototype.constructor=C,e.L2.prototype.boundaryGCellSetConstructor=function(){return P1},e.L2.prototype.triangles=function(){return[]},e.L2.prototype.cellSize=function(){return 2},e.L2.prototype.type=function(){return"L2"},e.L2.prototype.bfun=function(t){var e=t[0],r=[[.5*(1-e)],[.5*(1+e)]];return r},e.L2.prototype.bfundpar=function(){return[[-.5],[.5]]},e.Q4=function(t){if(!t||!t.conn&&!t.topology)throw new Error("Q4#constructor(options): options is not a valid Q4~InitOption");t.conn&&(t.topology=O(t.conn,2)),M.call(this,t)};var L=e.Q4;L.prototype=Object.create(M.prototype),L.prototype.constructor=L,e.Q4.prototype.cellSize=function(){return 4},e.Q4.prototype.type=function(){return"Q4"},e.Q4.prototype.boundaryGCellSetConstructor=function(){return C},e.Q4.prototype.triangles=function(){var t=this._topology.getCellsInDim(2),e=[];return t.forEach(function(t){var r=[t[0],t[1],t[2]],n=[t[2],t[3],t[0]];e.push(r,n)}),e},e.Q4.prototype.bfun=function(t){var e=1-t[0],r=1+t[0],n=1-t[1],i=1+t[1],o=[[.25*e*n],[.25*r*n],[.25*r*i],[.25*e*i]];return o},e.Q4.prototype.bfundpar=function(t){var e=t[0],r=t[1],n=[[.25*-(1-r),.25*-(1-e)],[.25*(1-r),.25*-(1+e)],[.25*(1+r),.25*(1+e)],[.25*-(1+r),.25*(1-e)]];return n}},function(t,e,r){var n=r(1),i=n.cloneDeep,o=n.check,u=n.assert,s=o.isVectorOfDimension,a=n.array2d,c=n.array1d,f=n.defineContract,p=u.ensureMatrixOfDimension,l=r(7).PointSet,h=r(10).FeNodeSet,m=f(function(t){if(u.object(t),o.assigned(t.values))p("*","*","values is not a valid matrix.")(t.values);else if(o.assigned(t.nfens)&&o.assigned(t.dim)){if(u.integer(t.nfens),u.integer(t.dim),t.nfens<0)throw new Error("nfens must > 0.");if(t.dim<0)throw new Error("dim must > 0")}else if(o.assigned(t.fens))u.instance(t.fens,h);else{if(!o.assigned(t.pointset))throw new Error("");u.instance(t.pointset,l)}o.assigned(t.ebcs)&&u.array(t.ebcs,"ebcs must be a array of valid EBC object")},"Input is not a valid Field option.");e.Field=function(t){if(m(t),this._values=null,this._prescribed=null,this._prescribedValues=null,this._eqnums=null,this._neqns=-1,o.assigned(t.values)?this._values=new l(t.values):o.assigned(t.pointset)?this._values=t.pointset.clone():o.assigned(t.fens)?this._values=new l(t.fens.xyz()):o.assigned(t.nfens)&&o.assigned(t.dim)&&(this._values=new l(t.nfens,t.dim)),o.assigned(t.ebcs)){var e=a(this.nfens()+1,this.dim()+1,!1),r=a(this.nfens()+1,this.dim()+1,0);this._prescribed=e,this._prescribedValues=r,t.ebcs.forEach(function(t){t.applyToField_(this)},this)}};var y=e.Field;e.Field.prototype.nfens=function(){return this._values.getSize()},e.Field.prototype.neqns=function(){return this._eqnums||this._numberEqnums_(),this._neqns},e.Field.prototype.dim=function(){return this._values.getRn()},e.Field.prototype.values=function(){return this._values.toList()},e.Field.prototype.map=function(t){var e=this._values.map(t),r=new y({pointset:e});return r},e.Field.prototype.clone=function(){var t=this._values.clone(),e=new y({pointset:t});return e._neqns=this._neqns,e._eqnums=i(this._eqnums),e._prescribed=i(this._prescribed),e._prescribedValues=i(this._prescribedValues),e},e.Field.prototype._bop=function(t,e,r){if(o.number(t))return this.map(function(r){return r.map(function(r){return e(r,t)})});if(o.instance(t,y)&&t.dim()===this.dim()&&t.nfens()===this.nfens())return this.map(function(r,n){return r.map(function(r,i){return e(r,t.at(n)[i])})});if(o.array(t)&&t.length===this.dim())return this.map(function(r){return r.map(function(r,n){return e(r,t[n])})});throw new Error("Field::"+r+"(other, bopFn): other must be a number , a field of same this.nfens() and this.dim() or an array of length this.dim().")},e.Field.prototype.bop=function(t,e){return this._bop(t,e,e.name||"custom binary function")},e.Field.prototype.mul=function(t){return this._bop(t,function(t,e){return t*e},"mul")},e.Field.prototype.scale=e.Field.prototype.mul,e.Field.prototype.add=function(t){return this._bop(t,function(t,e){return t+e},"add")},e.Field.prototype.sub=function(t){return this._bop(t,function(t,e){return t-e},"sub")},e.Field.prototype.div=function(t){return this._bop(t,function(t,e){return t/e},"div")},e.Field.prototype.getById=function(t){var e=t-1;return this._values.get(e)},e.Field.prototype.at=function(t){return this._values.get(t)},e.Field.prototype.pointset=function(){return this._values},e.Field.prototype.isPrescribed=function(t,e){return this._prescribed?this._prescribed[t][e]:!1},e.Field.prototype.prescribedValue=function(t,e){return this.isPrescribed(t,e)?this._prescribedValues[t][e]:0},e.Field.prototype.setPrescribedValue_=function(t,e,r){this._prescribed[t][e]=!0,this._prescribedValues[t][e]=r,this._values.setAtDir_(t-1,e-1,r)},e.Field.prototype._numberEqnums_=function(){var t,e,r=a(this.nfens()+1,this.dim()+1,0),n=0,i=this.nfens(),o=this.dim();for(t=1;i>=t;++t)for(e=1;o>=e;++e)this.isPrescribed(t,e)?r[t][e]=0:(n++,r[t][e]=n);this._eqnums=r,this._neqns=n},e.Field.prototype.eqnum=function(t,e){if(this._eqnums||this._numberEqnums_(),1>t||t>this.nfens())throw new Error("Field::eqnum(): id out of range.");if(1>e||e>this.dim())throw new Error("Field::eqnum(): direction out of range.");return this._eqnums[t][e]},e.Field.prototype.gatherEqnumsVector=function(t){var e=[],r=this.dim();return t.forEach(function(t){var n;for(n=1;r>=n;++n)e.push(this.eqnum(t,n))},this),e},e.Field.prototype.gatherValuesMatrix=function(t){var e=t.length,r=(this.dim(),c(e,null));return t.forEach(function(t,e){var n=t-1;r[e]=this._values.get(n)},this),r},e.Field.prototype.gatherPrescirbedValues=function(t){var e=[],r=this.dim();return t.forEach(function(t){var n;for(n=1;r>=n;++n)e.push(this.prescribedValue(t,n))},this),e},e.Field.prototype.scatterSystemVector_=function(t){var e=this.neqns();if(!s(t,e))throw new Error("Field::scatterSystemVector(): vec is not a vector of dimension "+e);this._eqnums||this._numberEqnums_();var r,n,i,o,u=this._eqnums,a=this.nfens(),c=this.dim(),f=this._values;for(r=1;a>=r;++r)for(n=1;c>=n;++n)i=u[r][n],0!==i&&(o=t[i-1],f.setAtDir_(r-1,n-1,o))},e.Field=y},function(t,e,r){function n(t){this._rho=t&&"number"==typeof t.rho?t.rho:1}function i(t){d(t),n.call(this,t),this._E=t.E,this._nu=t.nu,s.assigned(this._nu)||(this._nu=0)}var o=r(1),u=o.assert,s=o.check,a=u.ensureMatrixOfDimension,c=a(6,6),f=r(6),p=f.diag,l=f.transpose,h=f.add,m=f.dot,y=f.mul;n.prototype.rho=function(){return this._rho},e.MaterialProperty=n;var d=o.defineContract(function(t){if(u.object(t,"props is not a JS object"),u.undefined(t.G,"props.G should not be set, it is compute from E and nu."),u.positive(t.E,"props.E is not a positive number."),s.assigned(t.nu)&&(u.number(t.nu,"props.nu is not a number."),t.nu<0))throw new Error("props.nu < 0.")},"input is not a valid linear elasitc iso property.");e.LinElIso=i,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.E=function(){return this._E
},i.prototype.nu=function(){return this._nu},i.prototype.G=function(){return this._G||(this._G=.5*this._E/(1+this._nu)),this._G};var g=c;i.prototype.D=function(){if(!this._D){var t=this.E(),e=this.nu(),r=(this.G(),t*e/((1+e)*(1-2*e))),n=t/(2*(1+e)),i=p([1,1,1,.5,.5,.5]),o=l([[1,1,1,0,0,0]]);this._D=h(y(r,m(o,l(o))),y(2*n,i))}return g(this._D),this._D}},function(t,e,r){function n(){}function i(t){b(t),this._prop=t.property}function o(t){b(t),this._prop=t.property,this._reduction=t.reduction||"strain"}var u=r(1),s=u.check,a=u.assert,c=u.defineContract,f=r(13),p=f.LinElIso,l=r(6),h=l.ix,m=l.ixUpdate,y=l.mul,d=l.div,g=l.dot,v=l.add;n.prototype.newState=function(){throw new Error("Material::newState(): is not implemented.")},n.prototype.update=function(){throw new Error("Material::update(): is not implemented.")},e.Material=n;var b=c(function(t){if(a.object(t),!s.instance(t.property,p))throw new Error("input is not a instance of LinElIso.")},"Input is not a valid option for DeforSSLinElUniax");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.tangentModuli=function(){return[[this._prop.E()]]},e.DeforSSLinElUniax=i;c(function(t){if(a.object(t),!s.instance(t.property,p))throw new Error("input is not a instance of LinElIso.")},"Input is not a valid option for DeforSSLinElBiax");e.DeforSSLinElBiax=o,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.tangentModuli=function(){var t,e,r=this._prop.D();if("strain"===this._reduction)t=h(r,[1,2,4],[1,2,4]);else if("axisSymm"===this._reduction)t=h(r,[1,2,3,4],[1,2,3,4]);else{if("stress"!==this._reduction)throw new Error("DeforSSLinElBiax::tangentModuli() is ");e=h(r,[1,2],[1,2]),e=v(e,y(-1,d(g(h(r,[1,2],[3]),h(r,[3],[1,2])),r[2][2]))),t=h(r,[1,2,4],[1,2,4]),t=m(t,[1,2],[1,2],e)}return t}},function(t,e,r){function n(){}function i(t){O(t),this._mater=t.material,this._gcells=t.gcells,this._ir=t.integrationRule,s.assigned(t.rm)&&(this._rm=t.rm);var e=this._gcells.dim();switch(e){case 1:this.hBlmat=this._blmat1;break;case 2:if(this._gcells.axisSymm())throw new Error("DeforSS::hBlmat() for axixSymm, dim = "+e+" is not implemented.");this.hBlmat=this._blmat2;break;default:throw new Error("DeforSS::hBlmat() for dim "+e+" is not implemented.")}}var o=r(1),u=o.assert,s=o.check,a=o.array2d,c=o.array1d,f=o.defineContract,p=(o.isMatrixOfDimension,r(6)),l=p.size,h=p.transpose,m=p.dot,y=p.add,d=p.mul,g=p.inv,v=p.norm,b=p.ixUpdate,_=p.colon,x=r(14).Material,w=r(11).GCellSet,E=r(18).IntegrationRule,S=r(21).ElementMatrix,j=r(22).ElementVector;n.prototype.gcells=function(){return this._gcells},n.prototype.topology=function(){return this._gcells.topology()};var O=f(function(t){if(u.object(t),!s.instance(t.material,x))throw new Error("options.material is not a instance of Material");if(!s.instance(t.gcells,w))throw new Error("options.gcells is not a instance of GCellSet");if(!s.instance(t.integrationRule,E))throw new Error("options.integrationRule is not a instance of integrationRule")},"Input is not valid DeforSS option.");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype._blmat1=function(t,e,r,n){var i,o,u,s,f,p,h=l(e,1),m=l(r,2),y=a(1,h*m,0);if(!n)throw new Error("_blmat1: not implmented when !Rm");for(u=n.map(function(t){return t[0]}),i=1;h>=i;++i)s=m*(i-1),f=m*i-1,p=f-s,o=c(p+1,function(t){return s+t}),o.forEach(function(t,r){y[0][t]=e[i-1][0]*u[r]});return y},i.prototype._blmat2=function(t,e,r,n){var i,o,u,s=l(e,1),c=l(r,2),f=a(3,s*c,0);if(!n)throw new Error("_blmat1: not implmented when !Rm");for(i=1;s>=i;++i)o=_(c*(i-1)+1,c*i),u=[[e[i-1][0],0],[0,e[i-1][1]],[e[i-1][1],e[i-1][0]]],f=b(f,":",o,u);return f},i.prototype.stiffness=function(t,e){var r,n=this._gcells,i=n.cellSize(),o=this._ir,u=o.paramCoords(),s=o.weights(),f=o.npts(),p=[],l=[];for(r=0;f>r;++r)p[r]=n.bfun(u[r]),l[r]=n.bfundpar(u[r]);var v=null;"function"==typeof this._rm&&(v=this._rm);var b,_=this._rm,x=this._mater,w=n.conn(),E=n.count(),j=new Array(E),O=new Array(E),k=t.dim();for(b=0;E>b;++b)O[b]=e.gatherEqnumsVector(w[b]),j[b]=a(k*i,k*i,0);var A,N,M,C,L,T,P,I,D,F=c(t.nfens(),function(t){return t+1}),V=t.gatherValuesMatrix(F);for(b=0;E>b;++b)for(A=w[b],N=A.map(function(t){return V[t-1]}),r=0;f>r;++r){if(M=m(h(p[r]),N),C=m(h(N),l[r]),v&&(_=v(M,C)),L=_?m(l[r],g(m(h(_),C))):m(l[r],g(C)),T=n.jacobianVolumn(A,p[r],C,N),0>T)throw new Error("Non-positive Jacobian");P=this.hBlmat(p[r],L,M,_),I=x.tangentModuli({xyz:M}),D=m(m(h(P),d(I,T*s[r])),P),j[b]=y(j[b],D)}var q=j.map(function(t,e){return new S(t,O[e])});return q},i.prototype.noneZeroEBCLoads=function(t,e){var r,n,o,u,s,a,c,f,p=this._gcells,l=p.count(),h=p.conn(),y=[];for(r=0;l>r;++r)n=h[r],o=e.gatherPrescirbedValues(n),0!==v(o)&&(u=new i({material:this._mater,gcells:this._gcells.subset([r]),integrationRule:this._ir,rm:this._rm}),s=u.stiffness(t,e),a=s[0].matrix,c=d(-1,m(a,o)),f=e.gatherEqnumsVector(n),y.push(new j(c,f)));return y},e.DeforSS=i},function(t,e,r){function n(t,e){if(t instanceof a&&e instanceof c)return t.dokMatrix().solveSparseVector(e.sparseVector()).toList();if(t instanceof a&&o(e))return t.dokMatrix().solveVector(e);throw new Error("system.solve(): unsupported type A and b.")}var i=r(1),o=i.isArray,u=r(21),s=r(22),a=u.SparseSystemMatrix,c=s.SparseSystemVector;e.matrix=u,e.vector=s,e.mldivide=n},function(t,e,r){function n(t){var e=t.ids||t.id,r=t.dirs||t.dir,n=t.magns||t.magn;o.array(e)||(e=[e]),o.array(r)||(r=[r]),o.array(n)||(n=[n]),this._ids=e,this._dirs=r,this._magns=n}var i=r(1),o=i.check,u=r(22).ElementVector;n.prototype.loads=function(t){var e,r,n,i,o,s,a=this._ids.length,c=this._dirs.length,f=[],p=[];for(e=0;a>e;++e)for(i=this._ids[e],r=0;c>r;++r)o=this._dirs[r],n=t.eqnum(i,o),s=this._magns[r],f.push(s),p.push(n);return new u(f,p)},e.NodalLoad=n},function(t,e,r){function n(){}function i(t,e){var r,n;switch(e){case 1:r=[0],n=[2];break;case 2:r=[-.577350269189626,.577350269189626],n=[1,1];break;case 3:r=[-.774596669241483,0,.774596669241483],n=[.5555555555555556,.888888888888889,.5555555555555556];break;case 4:r=[-.86113631159405,-.33998104358486,.33998104358486,.86113631159405],n=[.34785484513745,.65214515486255,.65214515486255,.34785484513745];break;default:throw new Error("GaussRule(dim, order): for order = "+e+" is not implemented.")}var i,o,u,a,c;switch(t){case 1:i=s([r]),o=n;break;case 2:for(i=[],o=[],u=0;e>u;++u)for(a=0;e>a;++a)i.push([r[u],r[a]]),o.push(n[u]*n[a]);break;case 3:for(i=[],o=[],u=0;e>u;++u)for(a=0;e>a;++a)for(c=0;e>c;++c)i.push([r[u],r[a],r[c]]),o.push(n[u]*n[a]*n[c]);break;default:throw new Error("GaussRule(dim, order): for dim = "+t+" is not implemented.")}this._paramCoords=i,this._weights=o}var o=r(1),u=r(6),s=u.transpose,a=o.cloneDeep;n.prototype.paramCoords=function(){throw new Error("IntegrationRule::paramCoords(): must be overrided by subclass.")},n.prototype.weights=function(){throw new Error("IntegrationRule::weights(): must be overrided by subclass.")},n.prototype.npts=function(){throw new Error("IntegrationRule::npts(): must be overrided by subclass.")},n.prototype.dim=function(){throw new Error("IntegrationRule::dim(): must be overrided by subclass.")},e.IntegrationRule=n,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.paramCoords=function(){return a(this._paramCoords)},i.prototype.weights=function(){return a(this._weights)},i.prototype.npts=function(){return this._paramCoords.length},i.prototype.dim=function(){return this._paramCoords[0].length},e.GaussRule=i},function(t,e,r){function n(t){if(o["function"](t.id))this._idIterFn=t.id;else if("all"===t.id)this._idIterFn=function(t){var e=0,r=t.nfens();return{hasNext:function(){return r>e},next:function(){return++e}}};else if(o.array(t.id))this._idIterFn=function(){return u(t.id)};else{if(!o.number(t.id))throw new Error("EBC(): options.id is not valid.");this._idIterFn=function(){return u([t.id])}}if(o.array(t.value))this._valFn=function(e,r,n){return t.value[n]};else if(o.number(t.value))this._valFn=function(){return t.value};else{if(!o["function"](t.value))throw new Error("EBC(): options.value is not valid.");this._valFn=t.value}if(o.number(t.dir))this._dirs=[t.dir];else{if(!o.array(t.dir))throw new Error("EBC(): options.dir is not valid.");this._dirs=t.dir}}var i=r(1),o=i.check,u=(i.isArray,i.isIterator,i.iteratorFromList);e.EBC=n,n.prototype.applyToField_=function(t){for(var e,r=this._idIterFn(t),n=this._valFn,i=this._dirs,o=0;r.hasNext();)e=r.next(),i.forEach(function(r){var i=n(e,r,o,t);t.setPrescribedValue_(e,r,i)}),++o},e.EBC},function(t,e,r){function n(t){s(t)||(t={}),this._fens=t.fens,this._gcells=t.gcells}function i(){var t,e;return t=new c({xyz:[[.5,0],[1,0],[1,.5],[.5,.5],[1,1],[.5,1],[0,1],[0,.5]]}),e=new p({conn:[[1,2,3,4],[4,3,5,6],[4,6,7,8]]}),new n({fens:t,gcells:e})}var o=r(1),u=o.check,s=u.object,a=r(10),c=a.FeNodeSet,f=r(11),p=f.Q4;n.prototype.fens=function(){return this._fens},n.prototype.gcells=function(){return this._gcells},e.L2x2=i},function(t,e,r){function n(t,e){this.matrix=t,this.eqnums=e}function i(t,e){if(!c(e)){if(!a(e))throw new Error("assemble_(dest, sources): sources must be a iterator or array.");e=s(e)}for(var r;e.hasNext();){r=e.next();var n=r.matrix,i=r.eqnums,o=i.map(function(t,e){return{globalIndex:t,localIndex:e}}).filter(function(t){return 0!==t.globalIndex});o.forEach(function(e){var r=e.globalIndex-1,i=e.localIndex;o.forEach(function(e){var o=e.globalIndex-1,u=e.localIndex,s=t.at(r,o),a=n[i][u];t.set_(r,o,s+a)})})}}function o(t,e,r){this._kes=r,this._nrows=t,this._ncols=e,this._dokMatrix=null}var u=r(1),s=u.iteratorFromList,a=u.isArray,c=u.isIterator,f=r(6),p=f.mldivide,l=f.DokSparseMatrix;e.ElementMatrix=n,o.prototype._assemble_=function(){this._dokMatrix=new l([],this._nrows,this._ncols),i(this._dokMatrix,this._kes)},o.prototype.dokMatrix=function(){return null==this._dokMatrix&&this._assemble_(),this._dokMatrix},o.prototype.toFull=function(){return this.dokMatrix().toFull()},o.prototype.mldivide=function(t){var e=this.dokMatrix();return p(e,t)},e.SparseSystemMatrix=o},function(t,e,r){function n(t,e){this.vector=t,this.eqnums=e}function i(t,e){this._dim=t,this._evs=e,this._sparseVector=null}var o=r(1),u=o.iteratorFromList,s=o.isArray,a=o.isIterator,c=r(6),f=c.SparseVector;e.ElementVector=n,e.SparseSystemVector=i,i.prototype._assemble_=function(){var t=this._evs,e=new f([],this._dim);if(!a(t)){if(!s(t))throw new Error("SparseSystemVector::_assemble_: evs must be a iterator or array.");t=u(t)}for(var r,n,i;t.hasNext();)r=t.next(),n=r.vector,i=r.eqnums,i.forEach(function(t,r){if(0!==t){var i=n[r],o=t-1,u=e.at(o);e.set_(o,u+i)}});this._sparseVector=e},i.prototype.sparseVector=function(){return null===this._sparseVector&&this._assemble_(),this._sparseVector},i.prototype.toFull=function(){return this.sparseVector().toFull()}},function(t,e,r){function n(t,e){return h.isUndefined(e)?""+e:h.isNumber(e)&&!isFinite(e)?e.toString():h.isFunction(e)||h.isRegExp(e)?e.toString():e}function i(t,e){return h.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return i(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+i(JSON.stringify(t.expected,n),128)}function u(t,e,r,n,i){throw new d.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function s(t,e){t||u(t,!0,e,"==",d.ok)}function a(t,e){if(t===e)return!0;if(h.isBuffer(t)&&h.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return h.isDate(t)&&h.isDate(e)?t.getTime()===e.getTime():h.isRegExp(t)&&h.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:h.isObject(t)||h.isObject(e)?f(t,e):t==e}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(h.isNullOrUndefined(t)||h.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(h.isPrimitive(t)||h.isPrimitive(e))return t===e;var r=c(t),n=c(e);if(r&&!n||!r&&n)return!1;if(r)return t=m.call(t),e=m.call(e),a(t,e);var i,o,u=g(t),s=g(e);if(u.length!=s.length)return!1;for(u.sort(),s.sort(),o=u.length-1;o>=0;o--)if(u[o]!=s[o])return!1;for(o=u.length-1;o>=0;o--)if(i=u[o],!a(t[i],e[i]))return!1;return!0}function p(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function l(t,e,r,n){var i;h.isString(r)&&(n=r,r=null);try{e()}catch(o){i=o}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&u(i,r,"Missing expected exception"+n),!t&&p(i,r)&&u(i,r,"Got unwanted exception"+n),t&&i&&r&&!p(i,r)||!t&&i)throw i}var h=r(27),m=Array.prototype.slice,y=Object.prototype.hasOwnProperty,d=t.exports=s;d.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=e.name,s=n.indexOf("\n"+i);if(s>=0){var a=n.indexOf("\n",s+1);n=n.substring(a+1)}this.stack=n}}},h.inherits(d.AssertionError,Error),d.fail=u,d.ok=s,d.equal=function(t,e,r){t!=e&&u(t,e,r,"==",d.equal)},d.notEqual=function(t,e,r){t==e&&u(t,e,r,"!=",d.notEqual)},d.deepEqual=function(t,e,r){a(t,e)||u(t,e,r,"deepEqual",d.deepEqual)},d.notDeepEqual=function(t,e,r){a(t,e)&&u(t,e,r,"notDeepEqual",d.notDeepEqual)},d.strictEqual=function(t,e,r){t!==e&&u(t,e,r,"===",d.strictEqual)},d.notStrictEqual=function(t,e,r){t===e&&u(t,e,r,"!==",d.notStrictEqual)},d["throws"]=function(){l.apply(this,[!0].concat(m.call(arguments)))},d.doesNotThrow=function(){l.apply(this,[!1].concat(m.call(arguments)))},d.ifError=function(t){if(t)throw t};var g=Object.keys||function(t){var e=[];for(var r in t)y.call(t,r)&&e.push(r);return e}},function(t,e,r){var n;(function(t,i){(function(){function o(t,e,r){for(var n=(r||0)-1,i=t?t.length:0;++n<i;)if(t[n]===e)return n;return-1}function u(t,e){var r=typeof e;if(t=t.cache,"boolean"==r||null==e)return t[e]?0:-1;"number"!=r&&"string"!=r&&(r="object");var n="number"==r?e:S+e;return t=(t=t[r])&&t[n],"object"==r?t&&o(t,e)>-1?0:-1:t?0:-1}function s(t){var e=this.cache,r=typeof t;if("boolean"==r||null==t)e[t]=!0;else{"number"!=r&&"string"!=r&&(r="object");var n="number"==r?t:S+t,i=e[r]||(e[r]={});"object"==r?(i[n]||(i[n]=[])).push(t):i[n]=!0}}function a(t){return t.charCodeAt(0)}function c(t,e){for(var r=t.criteria,n=e.criteria,i=-1,o=r.length;++i<o;){var u=r[i],s=n[i];if(u!==s){if(u>s||"undefined"==typeof u)return 1;if(s>u||"undefined"==typeof s)return-1}}return t.index-e.index}function f(t){var e=-1,r=t.length,n=t[0],i=t[r/2|0],o=t[r-1];if(n&&"object"==typeof n&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var u=h();u["false"]=u["null"]=u["true"]=u.undefined=!1;var a=h();for(a.array=t,a.cache=u,a.push=s;++e<r;)a.push(t[e]);return a}function p(t){return"\\"+ie[t]}function l(){return _.pop()||[]}function h(){return x.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function m(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function y(t){t.length=0,_.length<O&&_.push(t)}function d(t){var e=t.cache;e&&d(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,x.length<O&&x.push(t)}function g(t,e,r){e||(e=0),"undefined"==typeof r&&(r=t?t.length:0);for(var n=-1,i=r-e||0,o=Array(0>i?0:i);++n<i;)o[n]=t[e+n];return o}function v(t){function e(t){return t&&"object"==typeof t&&!pi(t)&&Un.call(t,"__wrapped__")?t:new r(t)}function r(t,e){this.__chain__=!!e,this.__wrapped__=t}function n(t){function e(){if(n){var t=g(n);Kn.apply(t,arguments)}if(this instanceof e){var o=s(r.prototype),u=r.apply(o,t||arguments);return Fe(u)?u:o}return r.apply(i,t||arguments)}var r=t[0],n=t[2],i=t[4];return fi(e,t),e}function i(t,e,r,n,o){if(r){var u=r(t);if("undefined"!=typeof u)return u}var s=Fe(t);if(!s)return t;var a=Fn.call(t);if(!W[a]||!ai.nodeClass&&m(t))return t;var c=ui[a];switch(a){case K:case J:return new c(+t);case Y:case H:return new c(t);case $:return u=c(t.source,T.exec(t)),u.lastIndex=t.lastIndex,u}var f=pi(t);if(e){var p=!n;n||(n=l()),o||(o=l());for(var h=n.length;h--;)if(n[h]==t)return o[h];u=f?c(t.length):{}}else u=f?g(t):wi({},t);return f&&(Un.call(t,"index")&&(u.index=t.index),Un.call(t,"input")&&(u.input=t.input)),e?(n.push(t),o.push(u),(f?xi:ji)(t,function(t,s){u[s]=i(t,e,r,n,o)}),p&&(y(n),y(o)),u):u}function s(t){return Fe(t)?$n(t):{}}function _(t,e,r){if("function"!=typeof t)return on;if("undefined"==typeof e||!("prototype"in t))return t;var n=t.__bindData__;if("undefined"==typeof n&&(ai.funcNames&&(n=!t.name),n=n||!ai.funcDecomp,!n)){var i=Gn.call(t);ai.funcNames||(n=!P.test(i)),n||(n=V.test(i),fi(t,n))}if(n===!1||n!==!0&&1&n[1])return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return Rr(t,e)}function x(t){function e(){var t=c?u:this;if(i){var m=g(i);Kn.apply(m,arguments)}if((o||p)&&(m||(m=g(arguments)),o&&Kn.apply(m,o),p&&m.length<a))return n|=16,x([r,l?n:-4&n,m,null,u,a]);if(m||(m=arguments),f&&(r=t[h]),this instanceof e){t=s(r.prototype);var y=r.apply(t,m);return Fe(y)?y:t}return r.apply(t,m)}var r=t[0],n=t[1],i=t[2],o=t[3],u=t[4],a=t[5],c=1&n,f=2&n,p=4&n,l=8&n,h=r;return fi(e,t),e}function O(t,e){var r=-1,n=ye(),i=t?t.length:0,s=i>=j&&n===o,a=[];if(s){var c=f(e);c?(n=u,e=c):s=!1}for(;++r<i;){var p=t[r];n(e,p)<0&&a.push(p)}return s&&d(e),a}function ie(t,e,r,n){for(var i=(n||0)-1,o=t?t.length:0,u=[];++i<o;){var s=t[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(pi(s)||be(s))){e||(s=ie(s,e,r));var a=-1,c=s.length,f=u.length;for(u.length+=c;++a<c;)u[f++]=s[a]}else r||u.push(s)}return u}function ue(t,e,r,n,i,o){if(r){var u=r(t,e);if("undefined"!=typeof u)return!!u}if(t===e)return 0!==t||1/t==1/e;var s=typeof t,a=typeof e;if(!(t!==t||t&&ne[s]||e&&ne[a]))return!1;if(null==t||null==e)return t===e;var c=Fn.call(t),f=Fn.call(e);if(c==B&&(c=Z),f==B&&(f=Z),c!=f)return!1;switch(c){case K:case J:return+t==+e;case Y:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case $:case H:return t==Mn(e)}var p=c==U;if(!p){var h=Un.call(t,"__wrapped__"),d=Un.call(e,"__wrapped__");if(h||d)return ue(h?t.__wrapped__:t,d?e.__wrapped__:e,r,n,i,o);if(c!=Z||!ai.nodeClass&&(m(t)||m(e)))return!1;var g=!ai.argsObject&&be(t)?An:t.constructor,v=!ai.argsObject&&be(e)?An:e.constructor;if(g!=v&&!(De(g)&&g instanceof g&&De(v)&&v instanceof v)&&"constructor"in t&&"constructor"in e)return!1}var b=!i;i||(i=l()),o||(o=l());for(var _=i.length;_--;)if(i[_]==t)return o[_]==e;var x=0;if(u=!0,i.push(t),o.push(e),p){if(_=t.length,x=e.length,u=x==_,u||n)for(;x--;){var w=_,E=e[x];if(n)for(;w--&&!(u=ue(t[w],E,r,n,i,o)););else if(!(u=ue(t[x],E,r,n,i,o)))break}}else Si(e,function(e,s,a){return Un.call(a,s)?(x++,u=Un.call(t,s)&&ue(t[s],e,r,n,i,o)):void 0}),u&&!n&&Si(t,function(t,e,r){return Un.call(r,e)?u=--x>-1:void 0});return i.pop(),o.pop(),b&&(y(i),y(o)),u}function se(t,e,r,n,i){(pi(e)?nr:ji)(e,function(e,o){var u,s,a=e,c=t[o];if(e&&((s=pi(e))||Oi(e))){for(var f=n.length;f--;)if(u=n[f]==e){c=i[f];break}if(!u){var p;r&&(a=r(c,e),(p="undefined"!=typeof a)&&(c=a)),p||(c=s?pi(c)?c:[]:Oi(c)?c:{}),n.push(e),i.push(c),p||se(c,e,r,n,i)}}else r&&(a=r(c,e),"undefined"==typeof a&&(a=e)),"undefined"!=typeof a&&(c=a);t[o]=c})}function ae(t,e){return t+Rn(oi()*(e-t+1))}function fe(t,e,r){var n=-1,i=ye(),s=t?t.length:0,a=[],c=!e&&s>=j&&i===o,p=r||c?l():a;if(c){var h=f(p);i=u,p=h}for(;++n<s;){var m=t[n],g=r?r(m,n,t):m;(e?!n||p[p.length-1]!==g:i(p,g)<0)&&((r||c)&&p.push(g),a.push(m))}return c?(y(p.array),d(p)):r&&y(p),a}function pe(t){return function(r,n,i){var o={};if(n=e.createCallback(n,i,3),pi(r))for(var u=-1,s=r.length;++u<s;){var a=r[u];t(o,a,n(a,u,r),r)}else xi(r,function(e,r,i){t(o,e,n(e,r,i),i)});return o}}function le(t,e,r,i,o,u){var s=1&e,a=2&e,c=4&e,f=16&e,p=32&e;if(!a&&!De(t))throw new Cn;f&&!r.length&&(e&=-17,f=r=!1),p&&!i.length&&(e&=-33,p=i=!1);var l=t&&t.__bindData__;if(l&&l!==!0)return l=g(l),l[2]&&(l[2]=g(l[2])),l[3]&&(l[3]=g(l[3])),!s||1&l[1]||(l[4]=o),!s&&1&l[1]&&(e|=8),!c||4&l[1]||(l[5]=u),f&&Kn.apply(l[2]||(l[2]=[]),r),p&&Yn.apply(l[3]||(l[3]=[]),i),l[1]|=e,le.apply(null,l);var h=1==e||17===e?n:x;return h([t,e,r,i,o,u])}function he(){re.shadowedProps=R,re.array=re.bottom=re.loop=re.top="",re.init="iterable",re.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var r in t)re[r]=t[r];var n=re.args;re.firstArg=/^[^,]+/.exec(n)[0];var i=jn("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+n+") {\n"+ci(re)+"\n}");return i(_,Q,Tn,Un,E,be,pi,Ge,re.keys,Pn,ne,si,H,In,Fn)}function me(t){return gi[t]}function ye(){var t=(t=e.indexOf)===Sr?o:t;return t}function de(t){return"function"==typeof t&&Vn.test(t)}function ge(t){var e,r;return!t||Fn.call(t)!=Z||(e=t.constructor,De(e)&&!(e instanceof e))||!ai.argsClass&&be(t)||!ai.nodeClass&&m(t)?!1:ai.ownLast?(Si(t,function(t,e,n){return r=Un.call(n,e),!1}),r!==!1):(Si(t,function(t,e){r=e}),"undefined"==typeof r||Un.call(t,r))}function ve(t){return vi[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fn.call(t)==B||!1}function _e(t,e,r,n){return"boolean"!=typeof e&&null!=e&&(n=r,r=e,e=!1),i(t,e,"function"==typeof r&&_(r,n,1))}function xe(t,e,r){return i(t,!0,"function"==typeof e&&_(e,r,1))}function we(t,e){var r=s(t);return e?wi(r,e):r}function Ee(t,r,n){var i;return r=e.createCallback(r,n,3),ji(t,function(t,e,n){return r(t,e,n)?(i=e,!1):void 0}),i}function Se(t,r,n){var i;return r=e.createCallback(r,n,3),Oe(t,function(t,e,n){return r(t,e,n)?(i=e,!1):void 0}),i}function je(t,e,r){var n=[];Si(t,function(t,e){n.push(e,t)});var i=n.length;for(e=_(e,r,3);i--&&e(n[i--],n[i],t)!==!1;);return t}function Oe(t,e,r){var n=hi(t),i=n.length;for(e=_(e,r,3);i--;){var o=n[i];if(e(t[o],o,t)===!1)break}return t}function ke(t){var e=[];return Si(t,function(t,r){De(t)&&e.push(r)}),e.sort()}function Ae(t,e){return t?Un.call(t,e):!1}function Ne(t){for(var e=-1,r=hi(t),n=r.length,i={};++e<n;){var o=r[e];i[t[o]]=o}return i}function Me(t){return t===!0||t===!1||t&&"object"==typeof t&&Fn.call(t)==K||!1}function Ce(t){return t&&"object"==typeof t&&Fn.call(t)==J||!1}function Le(t){return t&&1===t.nodeType||!1}function Te(t){var e=!0;if(!t)return e;var r=Fn.call(t),n=t.length;return r==U||r==H||(ai.argsClass?r==B:be(t))||r==Z&&"number"==typeof n&&De(t.splice)?!n:(ji(t,function(){return e=!1}),e)}function Pe(t,e,r,n){return ue(t,e,"function"==typeof r&&_(r,n,2))}function Ie(t){return Wn(t)&&!ti(parseFloat(t))}function De(t){return"function"==typeof t}function Fe(t){return!(!t||!ne[typeof t])}function Ve(t){return ze(t)&&t!=+t}function qe(t){return null===t}function ze(t){return"number"==typeof t||t&&"object"==typeof t&&Fn.call(t)==Y||!1}function Re(t){return t&&ne[typeof t]&&Fn.call(t)==$||!1}function Ge(t){return"string"==typeof t||t&&"object"==typeof t&&Fn.call(t)==H||!1}function Be(t){return"undefined"==typeof t}function Ue(t,r,n){var i={};return r=e.createCallback(r,n,3),ji(t,function(t,e,n){i[e]=r(t,e,n)}),i}function Ke(t){var e=arguments,r=2;if(!Fe(t))return t;if("number"!=typeof e[2]&&(r=e.length),r>3&&"function"==typeof e[r-2])var n=_(e[--r-1],e[r--],2);else r>2&&"function"==typeof e[r-1]&&(n=e[--r]);for(var i=g(arguments,1,r),o=-1,u=l(),s=l();++o<r;)se(t,i[o],n,u,s);return y(u),y(s),t}function Je(t,r,n){var i={};if("function"!=typeof r){var o=[];Si(t,function(t,e){o.push(e)}),o=O(o,ie(arguments,!0,!1,1));for(var u=-1,s=o.length;++u<s;){var a=o[u];i[a]=t[a]}}else r=e.createCallback(r,n,3),Si(t,function(t,e,n){r(t,e,n)||(i[e]=t)});return i}function Qe(t){for(var e=-1,r=hi(t),n=r.length,i=xn(n);++e<n;){var o=r[e];i[e]=[o,t[o]]}return i}function Xe(t,r,n){var i={};if("function"!=typeof r)for(var o=-1,u=ie(arguments,!0,!1,1),s=Fe(t)?u.length:0;++o<s;){var a=u[o];a in t&&(i[a]=t[a])}else r=e.createCallback(r,n,3),Si(t,function(t,e,n){r(t,e,n)&&(i[e]=t)});return i}function Ye(t,r,n,i){var o=pi(t);if(null==n)if(o)n=[];else{var u=t&&t.constructor,a=u&&u.prototype;n=s(a)}return r&&(r=e.createCallback(r,i,4),(o?xi:ji)(t,function(t,e,i){return r(n,t,e,i)})),n}function Ze(t){for(var e=-1,r=hi(t),n=r.length,i=xn(n);++e<n;)i[e]=t[r[e]];return i}function $e(t){var e=arguments,r=-1,n=ie(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:n.length,o=xn(i);for(ai.unindexedChars&&Ge(t)&&(t=t.split(""));++r<i;)o[r]=t[n[r]];return o}function He(t,e,r){var n=-1,i=ye(),o=t?t.length:0,u=!1;return r=(0>r?ri(0,o+r):r)||0,pi(t)?u=i(t,e,r)>-1:"number"==typeof o?u=(Ge(t)?t.indexOf(e,r):i(t,e,r))>-1:xi(t,function(t){return++n>=r?!(u=t===e):void 0}),u}function We(t,r,n){var i=!0;if(r=e.createCallback(r,n,3),pi(t))for(var o=-1,u=t.length;++o<u&&(i=!!r(t[o],o,t)););else xi(t,function(t,e,n){return i=!!r(t,e,n)});return i}function tr(t,r,n){var i=[];if(r=e.createCallback(r,n,3),pi(t))for(var o=-1,u=t.length;++o<u;){var s=t[o];r(s,o,t)&&i.push(s)}else xi(t,function(t,e,n){r(t,e,n)&&i.push(t)});return i}function er(t,r,n){if(r=e.createCallback(r,n,3),!pi(t)){var i;return xi(t,function(t,e,n){return r(t,e,n)?(i=t,!1):void 0}),i}for(var o=-1,u=t.length;++o<u;){var s=t[o];if(r(s,o,t))return s}}function rr(t,r,n){var i;return r=e.createCallback(r,n,3),ir(t,function(t,e,n){return r(t,e,n)?(i=t,!1):void 0}),i}function nr(t,e,r){if(e&&"undefined"==typeof r&&pi(t))for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);else xi(t,e,r);return t}function ir(t,e,r){var n=t,i=t?t.length:0;if(e=e&&"undefined"==typeof r?e:_(e,r,3),pi(t))for(;i--&&e(t[i],i,t)!==!1;);else{if("number"!=typeof i){var o=hi(t);i=o.length}else ai.unindexedChars&&Ge(t)&&(n=t.split(""));xi(t,function(t,r,u){return r=o?o[--i]:--i,e(n[r],r,u)})}return t}function or(t,e){var r=g(arguments,2),n=-1,i="function"==typeof e,o=t?t.length:0,u=xn("number"==typeof o?o:0);return nr(t,function(t){u[++n]=(i?e:t[e]).apply(t,r)}),u}function ur(t,r,n){var i=-1,o=t?t.length:0,u=xn("number"==typeof o?o:0);if(r=e.createCallback(r,n,3),pi(t))for(;++i<o;)u[i]=r(t[i],i,t);else xi(t,function(t,e,n){u[++i]=r(t,e,n)});return u}function sr(t,r,n){var i=-1/0,o=i;if("function"!=typeof r&&n&&n[r]===t&&(r=null),null==r&&pi(t))for(var u=-1,s=t.length;++u<s;){var c=t[u];c>o&&(o=c)}else r=null==r&&Ge(t)?a:e.createCallback(r,n,3),xi(t,function(t,e,n){var u=r(t,e,n);u>i&&(i=u,o=t)});return o}function ar(t,r,n){var i=1/0,o=i;if("function"!=typeof r&&n&&n[r]===t&&(r=null),null==r&&pi(t))for(var u=-1,s=t.length;++u<s;){var c=t[u];o>c&&(o=c)}else r=null==r&&Ge(t)?a:e.createCallback(r,n,3),xi(t,function(t,e,n){var u=r(t,e,n);i>u&&(i=u,o=t)});return o}function cr(t,r,n,i){var o=arguments.length<3;if(r=e.createCallback(r,i,4),pi(t)){var u=-1,s=t.length;for(o&&(n=t[++u]);++u<s;)n=r(n,t[u],u,t)}else xi(t,function(t,e,i){n=o?(o=!1,t):r(n,t,e,i)});return n}function fr(t,r,n,i){var o=arguments.length<3;return r=e.createCallback(r,i,4),ir(t,function(t,e,i){n=o?(o=!1,t):r(n,t,e,i)}),n}function pr(t,r,n){return r=e.createCallback(r,n,3),tr(t,function(t,e,n){return!r(t,e,n)})}function lr(t,e,r){if(t&&"number"!=typeof t.length?t=Ze(t):ai.unindexedChars&&Ge(t)&&(t=t.split("")),null==e||r)return t?t[ae(0,t.length-1)]:b;var n=hr(t);return n.length=ni(ri(0,e),n.length),n}function hr(t){var e=-1,r=t?t.length:0,n=xn("number"==typeof r?r:0);return nr(t,function(t){var r=ae(0,++e);n[e]=n[r],n[r]=t}),n}function mr(t){var e=t?t.length:0;return"number"==typeof e?e:hi(t).length}function yr(t,r,n){var i;if(r=e.createCallback(r,n,3),pi(t))for(var o=-1,u=t.length;++o<u&&!(i=r(t[o],o,t)););else xi(t,function(t,e,n){return!(i=r(t,e,n))});return!!i}function dr(t,r,n){var i=-1,o=pi(r),u=t?t.length:0,s=xn("number"==typeof u?u:0);for(o||(r=e.createCallback(r,n,3)),nr(t,function(t,e,n){var u=s[++i]=h();o?u.criteria=ur(r,function(e){return t[e]}):(u.criteria=l())[0]=r(t,e,n),u.index=i,u.value=t}),u=s.length,s.sort(c);u--;){var a=s[u];s[u]=a.value,o||y(a.criteria),d(a)}return s}function gr(t){return t&&"number"==typeof t.length?ai.unindexedChars&&Ge(t)?t.split(""):g(t):Ze(t)}function vr(t){for(var e=-1,r=t?t.length:0,n=[];++e<r;){var i=t[e];i&&n.push(i)}return n}function br(t){return O(t,ie(arguments,!0,!0,1))}function _r(t,r,n){var i=-1,o=t?t.length:0;for(r=e.createCallback(r,n,3);++i<o;)if(r(t[i],i,t))return i;return-1}function xr(t,r,n){var i=t?t.length:0;for(r=e.createCallback(r,n,3);i--;)if(r(t[i],i,t))return i;return-1}function wr(t,r,n){var i=0,o=t?t.length:0;if("number"!=typeof r&&null!=r){var u=-1;for(r=e.createCallback(r,n,3);++u<o&&r(t[u],u,t);)i++}else if(i=r,null==i||n)return t?t[0]:b;return g(t,0,ni(ri(0,i),o))}function Er(t,e,r,n){return"boolean"!=typeof e&&null!=e&&(n=r,r="function"!=typeof e&&n&&n[e]===t?null:e,e=!1),null!=r&&(t=ur(t,r,n)),ie(t,e)}function Sr(t,e,r){if("number"==typeof r){var n=t?t.length:0;r=0>r?ri(0,n+r):r||0}else if(r){var i=Tr(t,e);return t[i]===e?i:-1}return o(t,e,r)}function jr(t,r,n){var i=0,o=t?t.length:0;if("number"!=typeof r&&null!=r){var u=o;for(r=e.createCallback(r,n,3);u--&&r(t[u],u,t);)i++}else i=null==r||n?1:r||i;return g(t,0,ni(ri(0,o-i),o))}function Or(){for(var t=[],e=-1,r=arguments.length,n=l(),i=ye(),s=i===o,a=l();++e<r;){var c=arguments[e];(pi(c)||be(c))&&(t.push(c),n.push(s&&c.length>=j&&f(e?t[e]:a)))}var p=t[0],h=-1,m=p?p.length:0,g=[];t:for(;++h<m;){var v=n[0];if(c=p[h],(v?u(v,c):i(a,c))<0){for(e=r,(v||a).push(c);--e;)if(v=n[e],(v?u(v,c):i(t[e],c))<0)continue t;g.push(c)}}for(;r--;)v=n[r],v&&d(v);return y(n),y(a),g}function kr(t,r,n){var i=0,o=t?t.length:0;if("number"!=typeof r&&null!=r){var u=o;for(r=e.createCallback(r,n,3);u--&&r(t[u],u,t);)i++}else if(i=r,null==i||n)return t?t[o-1]:b;return g(t,ri(0,o-i))}function Ar(t,e,r){var n=t?t.length:0;for("number"==typeof r&&(n=(0>r?ri(0,n+r):ni(r,n-1))+1);n--;)if(t[n]===e)return n;return-1}function Nr(t){for(var e=arguments,r=0,n=e.length,i=t?t.length:0;++r<n;)for(var o=-1,u=e[r];++o<i;)t[o]===u&&(Xn.call(t,o--,1),i--);return t}function Mr(t,e,r){t=+t||0,r="number"==typeof r?r:+r||1,null==e&&(e=t,t=0);for(var n=-1,i=ri(0,qn((e-t)/(r||1))),o=xn(i);++n<i;)o[n]=t,t+=r;return o}function Cr(t,r,n){var i=-1,o=t?t.length:0,u=[];for(r=e.createCallback(r,n,3);++i<o;){var s=t[i];r(s,i,t)&&(u.push(s),Xn.call(t,i--,1),o--)}return u}function Lr(t,r,n){if("number"!=typeof r&&null!=r){var i=0,o=-1,u=t?t.length:0;for(r=e.createCallback(r,n,3);++o<u&&r(t[o],o,t);)i++}else i=null==r||n?1:ri(0,r);return g(t,i)}function Tr(t,r,n,i){var o=0,u=t?t.length:o;for(n=n?e.createCallback(n,i,1):on,r=n(r);u>o;){var s=o+u>>>1;n(t[s])<r?o=s+1:u=s}return o}function Pr(){return fe(ie(arguments,!0,!0))}function Ir(t,r,n,i){return"boolean"!=typeof r&&null!=r&&(i=n,n="function"!=typeof r&&i&&i[r]===t?null:r,r=!1),null!=n&&(n=e.createCallback(n,i,3)),fe(t,r,n)}function Dr(t){return O(t,g(arguments,1))}function Fr(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(pi(r)||be(r))var n=n?fe(O(n,r).concat(O(r,n))):r}return n||[]}function Vr(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,r=t?sr(Mi(t,"length")):0,n=xn(0>r?0:r);++e<r;)n[e]=Mi(t,e);return n}function qr(t,e){var r=-1,n=t?t.length:0,i={};for(e||!n||pi(t[0])||(e=[]);++r<n;){var o=t[r];e?i[o]=e[r]:o&&(i[o[0]]=o[1])}return i}function zr(t,e){if(!De(e))throw new Cn;return function(){return--t<1?e.apply(this,arguments):void 0}}function Rr(t,e){return arguments.length>2?le(t,17,g(arguments,2),null,e):le(t,1,null,null,e)}function Gr(t){for(var e=arguments.length>1?ie(arguments,!0,!1,1):ke(t),r=-1,n=e.length;++r<n;){var i=e[r];t[i]=le(t[i],1,null,null,t)}return t}function Br(t,e){return arguments.length>2?le(e,19,g(arguments,2),null,t):le(e,3,null,null,t)}function Ur(){for(var t=arguments,e=t.length;e--;)if(!De(t[e]))throw new Cn;return function(){for(var e=arguments,r=t.length;r--;)e=[t[r].apply(this,e)];
return e[0]}}function Kr(t,e){return e="number"==typeof e?e:+e||t.length,le(t,4,null,null,null,e)}function Jr(t,e,r){var n,i,o,u,s,a,c,f=0,p=!1,l=!0;if(!De(t))throw new Cn;if(e=ri(0,e)||0,r===!0){var h=!0;l=!1}else Fe(r)&&(h=r.leading,p="maxWait"in r&&(ri(e,r.maxWait)||0),l="trailing"in r?r.trailing:l);var m=function(){var r=e-(Li()-u);if(0>=r){i&&zn(i);var p=c;i=a=c=b,p&&(f=Li(),o=t.apply(s,n),a||i||(n=s=null))}else a=Qn(m,r)},y=function(){a&&zn(a),i=a=c=b,(l||p!==e)&&(f=Li(),o=t.apply(s,n),a||i||(n=s=null))};return function(){if(n=arguments,u=Li(),s=this,c=l&&(a||!h),p===!1)var r=h&&!a;else{i||h||(f=u);var d=p-(u-f),g=0>=d;g?(i&&(i=zn(i)),f=u,o=t.apply(s,n)):i||(i=Qn(y,d))}return g&&a?a=zn(a):a||e===p||(a=Qn(m,e)),r&&(g=!0,o=t.apply(s,n)),!g||a||i||(n=s=null),o}}function Qr(t){if(!De(t))throw new Cn;var e=g(arguments,1);return Qn(function(){t.apply(b,e)},1)}function Xr(t,e){if(!De(t))throw new Cn;var r=g(arguments,2);return Qn(function(){t.apply(b,r)},e)}function Yr(t,e){if(!De(t))throw new Cn;var r=function(){var n=r.cache,i=e?e.apply(this,arguments):S+arguments[0];return Un.call(n,i)?n[i]:n[i]=t.apply(this,arguments)};return r.cache={},r}function Zr(t){var e,r;if(!De(t))throw new Cn;return function(){return e?r:(e=!0,r=t.apply(this,arguments),t=null,r)}}function $r(t){return le(t,16,g(arguments,1))}function Hr(t){return le(t,32,null,g(arguments,1))}function Wr(t,e,r){var n=!0,i=!0;if(!De(t))throw new Cn;return r===!1?n=!1:Fe(r)&&(n="leading"in r?r.leading:n,i="trailing"in r?r.trailing:i),te.leading=n,te.maxWait=e,te.trailing=i,Jr(t,e,te)}function tn(t,e){return le(e,16,[t])}function en(t){return function(){return t}}function rn(t,e,r){var n=typeof t;if(null==t||"function"==n)return _(t,e,r);if("object"!=n)return cn(t);var i=hi(t),o=i[0],u=t[o];return 1!=i.length||u!==u||Fe(u)?function(e){for(var r=i.length,n=!1;r--&&(n=ue(e[i[r]],t[i[r]],null,!0)););return n}:function(t){var e=t[o];return u===e&&(0!==u||1/u==1/e)}}function nn(t){return null==t?"":Mn(t).replace(_i,me)}function on(t){return t}function un(t,n,i){var o=!0,u=n&&ke(n);n&&(i||u.length)||(null==i&&(i=n),s=r,n=t,t=e,u=ke(n)),i===!1?o=!1:Fe(i)&&"chain"in i&&(o=i.chain);var s=t,a=De(s);nr(u,function(e){var r=t[e]=n[e];a&&(s.prototype[e]=function(){var e=this.__chain__,n=this.__wrapped__,i=[n];Kn.apply(i,arguments);var u=r.apply(t,i);if(o||e){if(n===u&&Fe(u))return this;u=new s(u),u.__chain__=e}return u})})}function sn(){return t._=Dn,this}function an(){}function cn(t){return function(e){return e[t]}}function fn(t,e,r){var n=null==t,i=null==e;if(null==r&&("boolean"==typeof t&&i?(r=t,t=1):i||"boolean"!=typeof e||(r=e,i=!0)),n&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,r||t%1||e%1){var o=oi();return ni(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ae(t,e)}function pn(t,e){if(t){var r=t[e];return De(r)?t[e]():r}}function ln(t,r,n){var i=e.templateSettings;t=Mn(t||""),n=Ei({},n,i);var o,u=Ei({},n.imports,i.imports),s=hi(u),a=Ze(u),c=0,f=n.interpolate||F,l="__p += '",h=Nn((n.escape||F).source+"|"+f.source+"|"+(f===I?L:F).source+"|"+(n.evaluate||F).source+"|$","g");t.replace(h,function(e,r,n,i,u,s){return n||(n=i),l+=t.slice(c,s).replace(q,p),r&&(l+="' +\n__e("+r+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),l+="';\n";var m=n.variable,y=m;y||(m="obj",l="with ("+m+") {\n"+l+"\n}\n"),l=(o?l.replace(N,""):l).replace(M,"$1").replace(C,"$1;"),l="function("+m+") {\n"+(y?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var d="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+G++ +"]")+"\n*/";try{var g=jn(s,"return "+l+d).apply(b,a)}catch(v){throw v.source=l,v}return r?g(r):(g.source=l,g)}function hn(t,e,r){t=(t=+t)>-1?t:0;var n=-1,i=xn(t);for(e=_(e,r,1);++n<t;)i[n]=e(n);return i}function mn(t){return null==t?"":Mn(t).replace(bi,ve)}function yn(t){var e=++w;return Mn(null==t?"":t)+e}function dn(t){return t=new r(t),t.__chain__=!0,t}function gn(t,e){return e(t),t}function vn(){return this.__chain__=!0,this}function bn(){return Mn(this.__wrapped__)}function _n(){return this.__wrapped__}t=t?ce.defaults(oe.Object(),t,ce.pick(oe,z)):oe;var xn=t.Array,wn=t.Boolean,En=t.Date,Sn=t.Error,jn=t.Function,On=t.Math,kn=t.Number,An=t.Object,Nn=t.RegExp,Mn=t.String,Cn=t.TypeError,Ln=[],Tn=Sn.prototype,Pn=An.prototype,In=Mn.prototype,Dn=t._,Fn=Pn.toString,Vn=Nn("^"+Mn(Fn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),qn=On.ceil,zn=t.clearTimeout,Rn=On.floor,Gn=jn.prototype.toString,Bn=de(Bn=An.getPrototypeOf)&&Bn,Un=Pn.hasOwnProperty,Kn=Ln.push,Jn=Pn.propertyIsEnumerable,Qn=t.setTimeout,Xn=Ln.splice,Yn=Ln.unshift,Zn=function(){try{var t={},e=de(e=An.defineProperty)&&e,r=e(t,t,t)&&e}catch(n){}return r}(),$n=de($n=An.create)&&$n,Hn=de(Hn=xn.isArray)&&Hn,Wn=t.isFinite,ti=t.isNaN,ei=de(ei=An.keys)&&ei,ri=On.max,ni=On.min,ii=t.parseInt,oi=On.random,ui={};ui[U]=xn,ui[K]=wn,ui[J]=En,ui[X]=jn,ui[Z]=An,ui[Y]=kn,ui[$]=Nn,ui[H]=Mn;var si={};si[U]=si[J]=si[Y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},si[K]=si[H]={constructor:!0,toString:!0,valueOf:!0},si[Q]=si[X]=si[$]={constructor:!0,toString:!0},si[Z]={constructor:!0},function(){for(var t=R.length;t--;){var e=R[t];for(var r in si)Un.call(si,r)&&!Un.call(si[r],e)&&(si[r][e]=!1)}}(),r.prototype=e.prototype;var ai=e.support={};!function(){var e=function(){this.x=1},r={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var i in new e)n.push(i);for(i in arguments);ai.argsClass=Fn.call(arguments)==B,ai.argsObject=arguments.constructor==An&&!(arguments instanceof xn),ai.enumErrorProps=Jn.call(Tn,"message")||Jn.call(Tn,"name"),ai.enumPrototypes=Jn.call(e,"prototype"),ai.funcDecomp=!de(t.WinRTError)&&V.test(v),ai.funcNames="string"==typeof jn.name,ai.nonEnumArgs=0!=i,ai.nonEnumShadows=!/valueOf/.test(n),ai.ownLast="x"!=n[0],ai.spliceObjects=(Ln.splice.call(r,0,1),!r[0]),ai.unindexedChars="x"[0]+An("x")[0]!="xx";try{ai.nodeClass=!(Fn.call(document)==Z&&!({toString:0}+""))}catch(o){ai.nodeClass=!0}}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:e}};var ci=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",ai.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):ai.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),ai.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),ai.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var r=[];if(ai.enumPrototypes&&r.push('!(skipProto && index == "prototype")'),ai.enumErrorProps&&r.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",r.length&&(e+="    if ("+r.join(" && ")+") {\n  "),e+=t.loop+";    ",r.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&r.push("hasOwnProperty.call(iterable, index)"),r.length&&(e+="    if ("+r.join(" && ")+") {\n  "),e+=t.loop+";    ",r.length&&(e+="\n    }"),e+="\n  }    ",ai.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||ai.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};$n||(s=function(){function e(){}return function(r){if(Fe(r)){e.prototype=r;var n=new e;e.prototype=null}return n||t.Object()}}());var fi=Zn?function(t,e){ee.value=e,Zn(t,"__bindData__",ee)}:an;ai.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Un.call(t,"callee")&&!Jn.call(t,"callee")||!1});var pi=Hn||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fn.call(t)==U||!1},li=he({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),hi=ei?function(t){return Fe(t)?ai.enumPrototypes&&"function"==typeof t||ai.nonEnumArgs&&t.length&&be(t)?li(t):ei(t):[]}:li,mi={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:hi,loop:"if (callback(iterable[index], index, collection) === false) return result"},yi={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:hi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},di={top:"if (!objectTypes[typeof iterable]) return result;\n"+mi.top,array:!1},gi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vi=Ne(gi),bi=Nn("("+hi(vi).join("|")+")","g"),_i=Nn("["+hi(gi).join("")+"]","g"),xi=he(mi),wi=he(yi,{top:yi.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Ei=he(yi),Si=he(mi,di,{useHas:!1}),ji=he(mi,di);De(/x/)&&(De=function(t){return"function"==typeof t&&Fn.call(t)==X});var Oi=Bn?function(t){if(!t||Fn.call(t)!=Z||!ai.argsClass&&be(t))return!1;var e=t.valueOf,r=de(e)&&(r=Bn(e))&&Bn(r);return r?t==r||Bn(t)==r:ge(t)}:ge,ki=pe(function(t,e,r){Un.call(t,r)?t[r]++:t[r]=1}),Ai=pe(function(t,e,r){(Un.call(t,r)?t[r]:t[r]=[]).push(e)}),Ni=pe(function(t,e,r){t[r]=e}),Mi=ur,Ci=tr,Li=de(Li=En.now)&&Li||function(){return(new En).getTime()},Ti=8==ii(A+"08")?ii:function(t,e){return ii(Ge(t)?t.replace(D,""):t,e||0)};return e.after=zr,e.assign=wi,e.at=$e,e.bind=Rr,e.bindAll=Gr,e.bindKey=Br,e.chain=dn,e.compact=vr,e.compose=Ur,e.constant=en,e.countBy=ki,e.create=we,e.createCallback=rn,e.curry=Kr,e.debounce=Jr,e.defaults=Ei,e.defer=Qr,e.delay=Xr,e.difference=br,e.filter=tr,e.flatten=Er,e.forEach=nr,e.forEachRight=ir,e.forIn=Si,e.forInRight=je,e.forOwn=ji,e.forOwnRight=Oe,e.functions=ke,e.groupBy=Ai,e.indexBy=Ni,e.initial=jr,e.intersection=Or,e.invert=Ne,e.invoke=or,e.keys=hi,e.map=ur,e.mapValues=Ue,e.max=sr,e.memoize=Yr,e.merge=Ke,e.min=ar,e.omit=Je,e.once=Zr,e.pairs=Qe,e.partial=$r,e.partialRight=Hr,e.pick=Xe,e.pluck=Mi,e.property=cn,e.pull=Nr,e.range=Mr,e.reject=pr,e.remove=Cr,e.rest=Lr,e.shuffle=hr,e.sortBy=dr,e.tap=gn,e.throttle=Wr,e.times=hn,e.toArray=gr,e.transform=Ye,e.union=Pr,e.uniq=Ir,e.values=Ze,e.where=Ci,e.without=Dr,e.wrap=tn,e.xor=Fr,e.zip=Vr,e.zipObject=qr,e.collect=ur,e.drop=Lr,e.each=nr,e.eachRight=ir,e.extend=wi,e.methods=ke,e.object=qr,e.select=tr,e.tail=Lr,e.unique=Ir,e.unzip=Vr,un(e),e.clone=_e,e.cloneDeep=xe,e.contains=He,e.escape=nn,e.every=We,e.find=er,e.findIndex=_r,e.findKey=Ee,e.findLast=rr,e.findLastIndex=xr,e.findLastKey=Se,e.has=Ae,e.identity=on,e.indexOf=Sr,e.isArguments=be,e.isArray=pi,e.isBoolean=Me,e.isDate=Ce,e.isElement=Le,e.isEmpty=Te,e.isEqual=Pe,e.isFinite=Ie,e.isFunction=De,e.isNaN=Ve,e.isNull=qe,e.isNumber=ze,e.isObject=Fe,e.isPlainObject=Oi,e.isRegExp=Re,e.isString=Ge,e.isUndefined=Be,e.lastIndexOf=Ar,e.mixin=un,e.noConflict=sn,e.noop=an,e.now=Li,e.parseInt=Ti,e.random=fn,e.reduce=cr,e.reduceRight=fr,e.result=pn,e.runInContext=v,e.size=mr,e.some=yr,e.sortedIndex=Tr,e.template=ln,e.unescape=mn,e.uniqueId=yn,e.all=We,e.any=yr,e.detect=er,e.findWhere=er,e.foldl=cr,e.foldr=fr,e.include=He,e.inject=cr,un(function(){var t={};return ji(e,function(r,n){e.prototype[n]||(t[n]=r)}),t}(),!1),e.first=wr,e.last=kr,e.sample=lr,e.take=wr,e.head=wr,ji(e,function(t,n){var i="sample"!==n;e.prototype[n]||(e.prototype[n]=function(e,n){var o=this.__chain__,u=t(this.__wrapped__,e,n);return o||null!=e&&(!n||i&&"function"==typeof e)?new r(u,o):u})}),e.VERSION="2.4.1",e.prototype.chain=vn,e.prototype.toString=bn,e.prototype.value=_n,e.prototype.valueOf=_n,xi(["join","pop","shift"],function(t){var n=Ln[t];e.prototype[t]=function(){var t=this.__chain__,e=n.apply(this.__wrapped__,arguments);return t?new r(e,t):e}}),xi(["push","reverse","sort","unshift"],function(t){var r=Ln[t];e.prototype[t]=function(){return r.apply(this.__wrapped__,arguments),this}}),xi(["concat","slice","splice"],function(t){var n=Ln[t];e.prototype[t]=function(){return new r(n.apply(this.__wrapped__,arguments),this.__chain__)}}),ai.spliceObjects||xi(["pop","shift","splice"],function(t){var n=Ln[t],i="splice"==t;e.prototype[t]=function(){var t=this.__chain__,e=this.__wrapped__,o=n.apply(e,arguments);return 0===e.length&&delete e[0],t||i?new r(o,t):o}}),e}var b,_=[],x=[],w=0,E={},S=+new Date+"",j=75,O=40,A=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",N=/\b__p \+= '';/g,M=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,P=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,D=RegExp("^["+A+"]*0+(?=.$)"),F=/($^)/,V=/\bthis\b/,q=/['\n\r\t\u2028\u2029\\]/g,z=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],R=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],G=0,B="[object Arguments]",U="[object Array]",K="[object Boolean]",J="[object Date]",Q="[object Error]",X="[object Function]",Y="[object Number]",Z="[object Object]",$="[object RegExp]",H="[object String]",W={};W[X]=!1,W[B]=W[U]=W[K]=W[J]=W[Y]=W[Z]=W[$]=W[H]=!0;var te={leading:!1,maxWait:0,trailing:!1},ee={configurable:!1,enumerable:!1,value:null,writable:!1},re={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},ne={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ie={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},oe=ne[typeof window]&&window||this,ue=ne[typeof e]&&e&&!e.nodeType&&e,se=ne[typeof t]&&t&&!t.nodeType&&t,ae=(se&&se.exports===ue&&ue,ne[typeof i]&&i);!ae||ae.global!==ae&&ae.window!==ae||(oe=ae);var ce=v();oe._=ce,n=function(){return ce}.call(e,r,e,t),!(n!==b&&(t.exports=n))}).call(this)}).call(e,r(28)(t),function(){return this}())},function(t,e,r){var n;!function(i){"use strict";function o(t,e){var r;K.object(t),K.object(e);for(r in e)if(e.hasOwnProperty(r)){if(t.hasOwnProperty(r)===!1||typeof t[r]!=typeof e[r])return!1;if(a(t[r])&&o(t[r],e[r])===!1)return!1}return!0}function u(t,e){return t&&y(e)&&t instanceof e?!0:!1}function s(t){return a(t)&&0===Object.keys(t).length}function a(t){return c(t)&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){return!f(t)&&!p(t)}function f(t){return void 0===t}function p(t){return null===t}function l(t,e){return K.not.undefined(e),c(t)&&t.length===e}function h(t){return Array.isArray(t)}function m(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}function y(t){return"function"==typeof t}function d(t){return g(t)&&/^(https?:)?\/\/([\w-\.~:@]+)(\/[\w-\.~\/\?#\[\]&\(\)\*\+,;=%]*)?$/.test(t)}function g(t){return v(t)&&""!==t}function v(t){return"string"==typeof t}function b(t){return x(t)&&!_(t)}function _(t){return S(t)&&t%2===0}function x(t){return S(t)&&t%1===0}function w(t){return S(t)&&t>0}function E(t){return S(t)&&0>t}function S(t){return"number"==typeof t&&isNaN(t)===!1&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY}function j(t){return t===!1||t===!0}function O(t,e){return K.array(t),y(e)?t.map(function(t){return e(t)}):(K.array(e),K.length(t,e.length),t.map(function(t,r){return e[r](t)}))}function k(t,e){var r,n={};return K.object(t),K.object(e),r=Object.keys(e),K.length(Object.keys(t),r.length),r.forEach(function(r){var i=e[r];y(i)?n[r]=i(t[r]):a(i)&&(n[r]=k(t[r],i))}),n}function A(t){return h(t)?N(t,!1):(K.object(t),M(t,!1))}function N(t,e){var r;for(r=0;r<t.length;r+=1)if(t[r]===e)return e;return!e}function M(t,e){var r,n;for(r in t)if(t.hasOwnProperty(r)){if(n=t[r],a(n)&&M(n,e)===e)return e;if(n===e)return e}return!e}function C(t){return h(t)?N(t,!0):(K.object(t),M(t,!0))}function L(t,e){return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function T(t,e){return function(){P(t,arguments,e)}}function P(t,e,r){var n;if(!t.apply(null,e))throw n=e[e.length-1],new Error(g(n)?n:r)}function I(t,e){return function(){function r(t,e){return t[e]=function(){if(n&&!B[e].apply(null,arguments))throw n},t}var n;try{P(t,arguments,e)}catch(i){n=i}return{or:Object.keys(B).reduce(r,{})}}}function D(t){return function(){return!t.apply(null,arguments)}}function F(t){return function(){return c(arguments[0])?t.apply(null,arguments):!0}}function V(t){function e(){return!0}return function(){function r(t,r){return t[r]=n?e:B[r],t}var n=t.apply(null,arguments);return{or:Object.keys(B).reduce(r,{})}}}function q(t){return z(t,B)}function z(t,e){var r={};return Object.keys(e).forEach(function(n){r[n]=t(e[n],G[n])}),r}function R(i){n=function(){return i}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}var G,B,U,K,J,Q,X;G={like:"Invalid type",instance:"Invalid type",emptyObject:"Invalid object",object:"Invalid object",assigned:"Invalid value",undefined:"Invalid value","null":"Invalid value",length:"Invalid length",array:"Invalid array",date:"Invalid date",fn:"Invalid function",webUrl:"Invalid URL",unemptyString:"Invalid string",string:"Invalid string",odd:"Invalid number",even:"Invalid number",positive:"Invalid number",negative:"Invalid number",integer:"Invalid number",number:"Invalid number","boolean":"Invalid boolean"},B={like:o,instance:u,emptyObject:s,object:a,assigned:c,undefined:f,"null":p,length:l,array:h,date:m,"function":y,webUrl:d,unemptyString:g,string:v,odd:b,even:_,positive:w,negative:E,integer:x,number:S,"boolean":j},U={apply:O,map:k,all:A,any:C},U=L(U,B),K=q(T),J=q(D),Q=q(F),X=q(V),K.not=z(T,J),K.maybe=z(T,Q),K.either=z(I,B),R(L(U,{assert:K,not:J,maybe:Q,either:X}))}(this)},function(module,exports,__webpack_require__){(function(global){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var r,n,i,o;for("undefined"==typeof e&&(e=15),i=.5,r=new Date;;){for(i*=2,o=i;o>3;o-=4)t(),t(),t(),t();for(;o>0;)t(),o--;if(n=new Date,n-r>e)break}for(o=i;o>3;o-=4)t(),t(),t(),t();for(;o>0;)t(),o--;return n=new Date,1e3*(3*i-1)/(n-r)},numeric._myIndexOf=function(t){var e,r=this.length;for(e=0;r>e;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(0>t)return"-"+e(-t);if(isFinite(t)){var r=Math.floor(Math.log(t)/Math.log(10)),n=t/Math.pow(10,r),i=n.toPrecision(numeric.precision);return 10===parseFloat(i)&&(r++,n=1,i=n.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+r.toString()}return"Infinity"}function r(t){var i;if("undefined"==typeof t)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return n.push('"'+t+'"'),!1;if("boolean"==typeof t)return n.push(t.toString()),!1;if("number"==typeof t){var o=e(t),u=t.toPrecision(numeric.precision),s=parseFloat(t.toString()).toString(),a=[o,u,s,parseFloat(u).toString(),parseFloat(s).toString()];for(i=1;i<a.length;i++)a[i].length<o.length&&(o=a[i]);return n.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===t)return n.push("null"),!1;if("function"==typeof t){n.push(t.toString());var c=!1;for(i in t)t.hasOwnProperty(i)&&(n.push(c?",\n":"\n{"),c=!0,n.push(i),n.push(": \n"),r(t[i]));return c&&n.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return n.push("...Large Array..."),!0;var c=!1;for(n.push("["),i=0;i<t.length;i++)i>0&&(n.push(","),c&&n.push("\n ")),c=r(t[i]);return n.push("]"),!0}n.push("{");var c=!1;for(i in t)t.hasOwnProperty(i)&&(c&&n.push(",\n"),c=!0,n.push(i),n.push(": \n"),r(t[i]));return n.push("}"),!0}var n=[];return r(t),n.join("")},numeric.parseDate=function(t){function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var r,n=[];for(r=0;r<t.length;r++)n[r]=e(t[r]);return n}return e(t)},numeric.parseFloat=function(t){function e(t){if("string"==typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var r,n=[];for(r=0;r<t.length;r++)n[r]=e(t[r]);return n}return e(t)},numeric.parseCSV=function(t){var e,r,n=t.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(t){return t.substr(0,t.length-1)},a=0;for(r=0;r<n.length;r++){var c,f=(n[r]+",").match(o);if(f.length>0){for(i[a]=[],e=0;e<f.length;e++)c=s(f[e]),i[a][e]=u.test(c)?parseFloat(c):c;a++}}return i},numeric.toCSV=function(t){var e,r,n,i,o,u,s=numeric.dim(t);for(n=s[0],i=s[1],u=[],e=0;n>e;e++){for(o=[],r=0;n>r;r++)o[r]=t[e][r].toString();u[e]=o.join(", ")}return u.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t){var e,r,n,i,o,u,s,a,c=t.length,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="";for(e=0;c>e;e+=3)r=t[e],n=t[e+1],i=t[e+2],o=r>>2,u=((3&r)<<4)+(n>>4),s=((15&n)<<2)+(i>>6),a=63&i,e+1>=c?s=a=64:e+2>=c&&(a=64),p+=f.charAt(o)+f.charAt(u)+f.charAt(s)+f.charAt(a);return p}function r(t,e,r){"undefined"==typeof e&&(e=0),"undefined"==typeof r&&(r=t.length);{var n,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1,u=0;t.length}for(n=e;r>n;n++)u=255&(o^t[n]),o=o>>>8^i[u];return-1^o}var n,i,o,u,s,a,c,f,p,l,h=t[0].length,m=t[0][0].length,y=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,m>>24&255,m>>16&255,m>>8&255,255&m,h>>24&255,h>>16&255,h>>8&255,255&h,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=r(y,12,29),y[29]=l>>24&255,y[30]=l>>16&255,y[31]=l>>8&255,y[32]=255&l,n=1,i=0,c=0;h>c;c++){for(y.push(h-1>c?0:1),s=3*m+1+(0===c)&255,a=3*m+1+(0===c)>>8&255,y.push(s),y.push(a),y.push(255&~s),y.push(255&~a),0===c&&y.push(0),f=0;m>f;f++)for(o=0;3>o;o++)s=t[o][c][f],s=s>255?255:0>s?0:Math.round(s),n=(n+s)%65521,i=(i+n)%65521,y.push(s);y.push(0)}return p=(i<<16)+n,y.push(p>>24&255),y.push(p>>16&255),y.push(p>>8&255),y.push(255&p),u=y.length-41,y[33]=u>>24&255,y[34]=u>>16&255,y[35]=u>>8&255,y[36]=255&u,l=r(y,37),y.push(l>>24&255),y.push(l>>16&255),y.push(l>>8&255),y.push(255&l),y.push(0),y.push(0),y.push(0),y.push(0),y.push(73),y.push(69),y.push(78),y.push(68),y.push(174),y.push(66),y.push(96),y.push(130),"data:image/png;base64,"+e(y)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e,r;return"object"==typeof t?(e=t[0],"object"==typeof e?(r=e[0],"object"==typeof r?numeric._dim(t):[t.length,e.length]):[t.length]):[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,r){var n,i;if(!(e instanceof Array&&r instanceof Array))return!1;if(i=e.length,i!==r.length)return!1;for(n=0;i>n;n++)if(e[n]!==r[n]){if("object"!=typeof e[n])return!1;if(!t(e[n],r[n]))return!1}return!0},numeric.rep=function(t,e,r){"undefined"==typeof r&&(r=0);var n,i=t[r],o=Array(i);if(r===t.length-1){for(n=i-2;n>=0;n-=2)o[n+1]=e,o[n]=e;return-1===n&&(o[0]=e),o}for(n=i-1;n>=0;n--)o[n]=numeric.rep(t,e,r+1);return o},numeric.dotMMsmall=function(t,e){var r,n,i,o,u,s,a,c,f,p,l;for(o=t.length,u=e.length,s=e[0].length,a=Array(o),r=o-1;r>=0;r--){for(c=Array(s),f=t[r],i=s-1;i>=0;i--){for(p=f[u-1]*e[u-1][i],n=u-2;n>=1;n-=2)l=n-1,p+=f[n]*e[n][i]+f[l]*e[l][i];0===n&&(p+=f[0]*e[0][i]),c[i]=p}a[r]=c}return a},numeric._getCol=function(t,e,r){var n,i=t.length;for(n=i-1;n>0;--n)r[n]=t[n][e],--n,r[n]=t[n][e];0===n&&(r[0]=t[0][e])},numeric.dotMMbig=function(t,e){var r,n,i,o,u=numeric._getCol,s=e.length,a=Array(s),c=t.length,f=e[0].length,p=new Array(c),l=numeric.dotVV;for(--s,--c,n=c;-1!==n;--n)p[n]=Array(f);for(--f,n=f;-1!==n;--n)for(u(e,n,a),i=c;-1!==i;--i)o=0,r=t[i],p[i][n]=l(r,a);return p},numeric.dotMV=function(t,e){var r,n=t.length,i=(e.length,Array(n)),o=numeric.dotVV;for(r=n-1;r>=0;r--)i[r]=o(t[r],e);return i},numeric.dotVM=function(t,e){var r,n,i,o,u,s,a;for(i=t.length,o=e[0].length,u=Array(o),n=o-1;n>=0;n--){for(s=t[i-1]*e[i-1][n],r=i-2;r>=1;r-=2)a=r-1,s+=t[r]*e[r][n]+t[a]*e[a][n];0===r&&(s+=t[0]*e[0][n]),u[n]=s}return u},numeric.dotVV=function(t,e){var r,n,i=t.length,o=t[i-1]*e[i-1];for(r=i-2;r>=1;r-=2)n=r-1,o+=t[r]*e[r]+t[n]*e[n];return 0===r&&(o+=t[0]*e[0]),o},numeric.dot=function(t,e){var r=numeric.dim;switch(1e3*r(t).length+r(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,r,n,i,o=t.length,u=Array(o);for(e=o-1;e>=0;e--){for(i=Array(o),r=e+2,n=o-1;n>=r;n-=2)i[n]=0,i[n-1]=0;for(n>e&&(i[n]=0),i[e]=t[e],n=e-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),u[e]=i}return u},numeric.getDiag=function(t){var e,r=Math.min(t.length,t[0].length),n=Array(r);for(e=r-1;e>=1;--e)n[e]=t[e][e],--e,n[e]=t[e][e];return 0===e&&(n[0]=t[0][0]),n},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,r){"undefined"==typeof r&&(r="");var n,i,o=[],u=/\[i\]$/,s="",a=!1;for(n=0;n<t.length;n++)u.test(t[n])?(i=t[n].substring(0,t[n].length-3),s=i):i=t[n],"ret"===i&&(a=!0),o.push(i);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(a?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,e,r){"undefined"==typeof r&&(r="");var n,i,o=[],u=/\[i\]$/,s="",a=!1;for(n=0;n<t.length;n++)u.test(t[n])?(i=t[n].substring(0,t[n].length-3),s=i):i=t[n],"ret"===i&&(a=!0),o.push(i);return o[t.length]="var _n = "+s+".length;\nvar i"+(a?"":", ret = Array(_n)")+";\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function e(t,r,n,i,o){if(i===n.length-1)return void o(t,r);var u,s=n[i];for(u=s-1;u>=0;u--)e("object"==typeof t?t[u]:t,"object"==typeof r?r[u]:r,n,i+1,o)},numeric._biforeach2=function r(t,e,n,i,o){if(i===n.length-1)return o(t,e);var u,s=n[i],a=Array(s);for(u=s-1;u>=0;--u)a[u]=r("object"==typeof t?t[u]:t,"object"==typeof e?e[u]:e,n,i+1,o);return a},numeric._foreach=function n(t,e,r,i){if(r===e.length-1)return void i(t);var o,u=e[r];for(o=u-1;o>=0;o--)n(t[o],e,r+1,i)},numeric._foreach2=function i(t,e,r,n){if(r===e.length-1)return n(t);var o,u=e[r],s=Array(u);for(o=u-1;o>=0;o--)s[o]=i(t[o],e,r+1,n);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;
for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var r,n,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(i="var "+e+" = Math."+e+";\n",r=function(t,r,n){return t+" = "+e+"("+r+","+n+")"},n=function(t,r){return t+" = "+e+"("+t+","+r+")"}):(r=function(t,r,n){return t+" = "+r+" "+e+" "+n},n=numeric.opseq.hasOwnProperty(t+"eq")?function(t,r){return t+" "+e+"= "+r}:function(t,r){return t+" = "+t+" "+e+" "+r}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),i),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),i),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),i),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(i="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(i="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",i),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",i),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,r,n,i,o,u,s,t,a=numeric.dim(t),c=Math.abs,f=a[0],p=a[1],l=numeric.clone(t),h=numeric.identity(f);for(u=0;p>u;++u){var m=-1,y=-1;for(o=u;o!==f;++o)s=c(l[o][u]),s>y&&(m=o,y=s);for(r=l[m],l[m]=l[u],l[u]=r,i=h[m],h[m]=h[u],h[u]=i,t=r[u],s=u;s!==p;++s)r[s]/=t;for(s=p-1;-1!==s;--s)i[s]/=t;for(o=f-1;-1!==o;--o)if(o!==u){for(e=l[o],n=h[o],t=e[u],s=u+1;s!==p;++s)e[s]-=r[s]*t;for(s=p-1;s>0;--s)n[s]-=i[s]*t,--s,n[s]-=i[s]*t;0===s&&(n[0]-=i[0]*t)}}return h},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var r,n,i,o,u,s,a,c,f=e[0],p=1,l=numeric.clone(t);for(n=0;f-1>n;n++){for(i=n,r=n+1;f>r;r++)Math.abs(l[r][n])>Math.abs(l[i][n])&&(i=r);for(i!==n&&(a=l[i],l[i]=l[n],l[n]=a,p*=-1),o=l[n],r=n+1;f>r;r++){for(u=l[r],s=u[n]/o[n],i=n+1;f-1>i;i+=2)c=i+1,u[i]-=o[i]*s,u[c]-=o[c]*s;i!==f&&(u[i]-=o[i]*s)}if(0===o[n])return 0;p*=o[n]}return p*l[n][n]},numeric.transpose=function(t){var e,r,n,i,o,u=t.length,s=t[0].length,a=Array(s);for(r=0;s>r;r++)a[r]=Array(u);for(e=u-1;e>=1;e-=2){for(i=t[e],n=t[e-1],r=s-1;r>=1;--r)o=a[r],o[e]=i[r],o[e-1]=n[r],--r,o=a[r],o[e]=i[r],o[e-1]=n[r];0===r&&(o=a[0],o[e]=i[0],o[e-1]=n[0])}if(0===e){for(n=t[0],r=s-1;r>=1;--r)a[r][0]=n[r],--r,a[r][0]=n[r];0===r&&(a[0][0]=n[0])}return a},numeric.negtranspose=function(t){var e,r,n,i,o,u=t.length,s=t[0].length,a=Array(s);for(r=0;s>r;r++)a[r]=Array(u);for(e=u-1;e>=1;e-=2){for(i=t[e],n=t[e-1],r=s-1;r>=1;--r)o=a[r],o[e]=-i[r],o[e-1]=-n[r],--r,o=a[r],o[e]=-i[r],o[e-1]=-n[r];0===r&&(o=a[0],o[e]=-i[0],o[e-1]=-n[0])}if(0===e){for(n=t[0],r=s-1;r>=1;--r)a[r][0]=-n[r],--r,a[r][0]=-n[r];0===r&&(a[0][0]=-n[0])}return a},numeric._random=function o(t,e){var r,n,i=t[e],u=Array(i);if(e===t.length-1){for(n=Math.random,r=i-1;r>=1;r-=2)u[r]=n(),u[r-1]=n();return 0===r&&(u[0]=n()),u}for(r=i-1;r>=0;r--)u[r]=o(t,e+1);return u},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,r){if("undefined"==typeof r&&(r=Math.max(Math.round(e-t)+1,1)),2>r)return 1===r?[t]:[];var n,i=Array(r);for(r--,n=r;n>=0;n--)i[n]=(n*e+(r-n)*t)/r;return i},numeric.getBlock=function(t,e,r){function n(t,o){var u,s=e[o],a=r[o]-s,c=Array(a);if(o===i.length-1){for(u=a;u>=0;u--)c[u]=t[u+s];return c}for(u=a;u>=0;u--)c[u]=n(t[u+s],o+1);return c}var i=numeric.dim(t);return n(t,0)},numeric.setBlock=function(t,e,r,n){function i(t,n,u){var s,a=e[u],c=r[u]-a;if(u===o.length-1)for(s=c;s>=0;s--)t[s+a]=n[s];for(s=c;s>=0;s--)i(t[s+a],n[s],u+1)}var o=numeric.dim(t);return i(t,n,0),t},numeric.getRange=function(t,e,r){var n,i,o,u,s=e.length,a=r.length,c=Array(s);for(n=s-1;-1!==n;--n)for(c[n]=Array(a),o=c[n],u=t[e[n]],i=a-1;-1!==i;--i)o[i]=u[r[i]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var r,n,i,o,u,s=e[0],a=e[1];for(r=0,n=0,i=0;s>i;++i)r+=t[i][0].length;for(o=0;a>o;++o)n+=t[0][o][0].length;var c=Array(r);for(i=0;r>i;++i)c[i]=Array(n);var f,p,l,h,m,y=0;for(i=0;s>i;++i){for(f=n,o=a-1;-1!==o;--o)for(u=t[i][o],f-=u[0].length,l=u.length-1;-1!==l;--l)for(m=u[l],p=c[y+l],h=m.length-1;-1!==h;--h)p[f+h]=m[h];y+=t[i][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var r=numeric.dim(t),n=numeric.dim(e);if(1!==r.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,u,s,a=r[0],c=n[0],f=Array(a);for(o=a-1;o>=0;o--){for(i=Array(c),s=t[o],u=c-1;u>=3;--u)i[u]=s*e[u],--u,i[u]=s*e[u],--u,i[u]=s*e[u],--u,i[u]=s*e[u];for(;u>=0;)i[u]=s*e[u],--u;f[o]=i}return f},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,r,n,i){numeric.indexOf;if("string"!=typeof i){var o;i="";for(o in numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||e.indexOf(o)>=0||r.indexOf(o)>=0||n.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\n  }\n  return new numeric.T("+r+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,r),e(numeric.neg(this.y),r))}return new T(e(1,this.x))},numeric.T.prototype.div=function u(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var u=numeric.div;return this.y?new numeric.T(u(this.x,t.x),u(this.y,t.x)):new numeric.T(u(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,r=this.y;return r?new numeric.T(t(e),t(r)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,r=this.y;return r?new numeric.T(t(e),numeric.negtranspose(r)):new numeric.T(t(e))},numeric.Tunop=function(t,e,r){return"string"!=typeof r&&(r=""),Function("var x = this;\n"+r+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if("undefined"==typeof t.y)return new numeric.T(numeric.inv(t.x));var e,r,n,i,o,u,s,a,c,f,p,e,r,n,l,h,m,y,d,g,v,b=t.x.length,_=numeric.identity(b),x=numeric.rep([b,b],0),w=numeric.clone(t.x),E=numeric.clone(t.y);for(e=0;b>e;e++){for(m=w[e][e],y=E[e][e],l=m*m+y*y,n=e,r=e+1;b>r;r++)m=w[r][e],y=E[r][e],h=m*m+y*y,h>l&&(n=r,l=h);for(n!==e&&(v=w[e],w[e]=w[n],w[n]=v,v=E[e],E[e]=E[n],E[n]=v,v=_[e],_[e]=_[n],_[n]=v,v=x[e],x[e]=x[n],x[n]=v),i=w[e],o=E[e],a=_[e],c=x[e],m=i[e],y=o[e],r=e+1;b>r;r++)d=i[r],g=o[r],i[r]=(d*m+g*y)/l,o[r]=(g*m-d*y)/l;for(r=0;b>r;r++)d=a[r],g=c[r],a[r]=(d*m+g*y)/l,c[r]=(g*m-d*y)/l;for(r=e+1;b>r;r++){for(u=w[r],s=E[r],f=_[r],p=x[r],m=u[e],y=s[e],n=e+1;b>n;n++)d=i[n],g=o[n],u[n]-=d*m-g*y,s[n]-=g*m+d*y;for(n=0;b>n;n++)d=a[n],g=c[n],f[n]-=d*m-g*y,p[n]-=g*m+d*y}}for(e=b-1;e>0;e--)for(a=_[e],c=x[e],r=e-1;r>=0;r--)for(f=_[r],p=x[r],m=w[r][e],y=E[r][e],n=b-1;n>=0;n--)d=a[n],g=c[n],f[n]-=m*d-y*g,p[n]-=m*g+y*d;return new numeric.T(_,x)},numeric.T.prototype.get=function(t){var e,r=this.x,n=this.y,i=0,o=t.length;if(n){for(;o>i;)e=t[i],r=r[e],n=n[e],i++;return new numeric.T(r,n)}for(;o>i;)e=t[i],r=r[e],i++;return new numeric.T(r)},numeric.T.prototype.set=function(t,e){var r,n=this.x,i=this.y,o=0,u=t.length,s=e.x,a=e.y;if(0===u)return a?this.y=a:i&&(this.y=void 0),this.x=n,this;if(a){for(i||(i=numeric.rep(numeric.dim(n),0),this.y=i);u-1>o;)r=t[o],n=n[r],i=i[r],o++;return r=t[o],n[r]=s,i[r]=a,this}if(i){for(;u-1>o;)r=t[o],n=n[r],i=i[r],o++;return r=t[o],n[r]=s,i[r]=s instanceof Array?numeric.rep(numeric.dim(s),0):0,this}for(;u-1>o;)r=t[o],n=n[r],o++;return r=t[o],n[r]=s,this},numeric.T.prototype.getRows=function(t,e){var r,n,i=e-t+1,o=Array(i),u=this.x,s=this.y;for(r=t;e>=r;r++)o[r-t]=u[r];if(s){for(n=Array(i),r=t;e>=r;r++)n[r-t]=s[r];return new numeric.T(o,n)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,e,r){var n,i=this.x,o=this.y,u=r.x,s=r.y;for(n=t;e>=n;n++)i[n]=u[n-t];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),n=t;e>=n;n++)o[n]=s[n-t];else if(o)for(n=t;e>=n;n++)o[n]=numeric.rep([u[n-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,r=this.y;return r?new numeric.T(e[t],r[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var r=this.x,n=this.y,i=e.x,o=e.y;return r[t]=i,o?(n||(n=numeric.rep(numeric.dim(r),0),this.y=n),n[t]=o):n&&(n=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var r=this.x,n=this.y,i=numeric.getBlock;return n?new numeric.T(i(r,t,e),i(n,t,e)):new numeric.T(i(r,t,e))},numeric.T.prototype.setBlock=function(t,e,r){r instanceof numeric.T||(r=new numeric.T(r));var n=this.x,i=this.y,o=numeric.setBlock,u=r.x,s=r.y;return s?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(n,t,e,u),o(i,t,e,s),this):(o(n,t,e,u),void(i&&o(i,t,e,numeric.rep(numeric.dim(u),0))))},numeric.T.rep=function(t,e){var r=numeric.T;e instanceof r||(e=new r(e));var n=e.x,i=e.y,o=numeric.rep;return i?new r(o(t,n),o(t,i)):new r(o(t,n))},numeric.T.diag=function s(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,r=t.y,s=numeric.diag;return r?new numeric.T(s(e),s(r)):new numeric.T(s(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,r=this.y;return r?new t.T(t.getDiag(e),t.getDiag(r)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),r=t[0]>=0?1:-1,n=r*numeric.norm2(t);e[0]+=n;var i=numeric.norm2(e);if(0===i)throw new Error("eig: internal error");return numeric.div(e,i)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r,n,i,o,u,s,a,c,f,p,l=e[0],h=numeric.clone(t),m=numeric.identity(l);for(n=0;l-2>n;n++){for(o=Array(l-n-1),r=n+1;l>r;r++)o[r-n-1]=h[r][n];if(numeric.norm2(o)>0){for(u=numeric.house(o),s=numeric.getBlock(h,[n+1,n],[l-1,l-1]),a=numeric.tensor(u,numeric.dot(u,s)),r=n+1;l>r;r++)for(c=h[r],f=a[r-n-1],i=n;l>i;i++)c[i]-=2*f[i-n];for(s=numeric.getBlock(h,[0,n+1],[l-1,l-1]),a=numeric.tensor(numeric.dot(s,u),u),r=0;l>r;r++)for(c=h[r],f=a[r],i=n+1;l>i;i++)c[i]-=2*f[i-n-1];for(s=Array(l-n-1),r=n+1;l>r;r++)s[r-n-1]=m[r];for(a=numeric.tensor(u,numeric.dot(u,s)),r=n+1;l>r;r++)for(p=m[r],f=a[r-n-1],i=0;l>i;i++)p[i]-=2*f[i]}}return{H:h,Q:m}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){"undefined"==typeof e&&(e=1e4),t=numeric.clone(t);var r,n,i,o,u,s,a,c,f,p,l,h,m,y,d,g,v,b,_=(numeric.clone(t),numeric.dim(t)),x=_[0],w=numeric.identity(x);if(3>x)return{Q:w,B:[[0,x-1]]};var E=numeric.epsilon;for(b=0;e>b;b++){for(g=0;x-1>g;g++)if(Math.abs(t[g+1][g])<E*(Math.abs(t[g][g])+Math.abs(t[g+1][g+1]))){var S=numeric.QRFrancis(numeric.getBlock(t,[0,0],[g,g]),e),j=numeric.QRFrancis(numeric.getBlock(t,[g+1,g+1],[x-1,x-1]),e);for(h=Array(g+1),d=0;g>=d;d++)h[d]=w[d];for(m=numeric.dot(S.Q,h),d=0;g>=d;d++)w[d]=m[d];for(h=Array(x-g-1),d=g+1;x>d;d++)h[d-g-1]=w[d];for(m=numeric.dot(j.Q,h),d=g+1;x>d;d++)w[d]=m[d-g-1];return{Q:w,B:S.B.concat(numeric.add(j.B,g+1))}}if(i=t[x-2][x-2],o=t[x-2][x-1],u=t[x-1][x-2],s=t[x-1][x-1],c=i+s,a=i*s-o*u,f=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*a){var O,k;O=.5*(c+Math.sqrt(c*c-4*a)),k=.5*(c-Math.sqrt(c*c-4*a)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,O+k)),numeric.diag(numeric.rep([3],O*k)))}else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,c)),numeric.diag(numeric.rep([3],a)));for(r=[f[0][0],f[1][0],f[2][0]],n=numeric.house(r),h=[t[0],t[1],t[2]],m=numeric.tensor(n,numeric.dot(n,h)),d=0;3>d;d++)for(l=t[d],y=m[d],v=0;x>v;v++)l[v]-=2*y[v];for(h=numeric.getBlock(t,[0,0],[x-1,2]),m=numeric.tensor(numeric.dot(h,n),n),d=0;x>d;d++)for(l=t[d],y=m[d],v=0;3>v;v++)l[v]-=2*y[v];for(h=[w[0],w[1],w[2]],m=numeric.tensor(n,numeric.dot(n,h)),d=0;3>d;d++)for(p=w[d],y=m[d],v=0;x>v;v++)p[v]-=2*y[v];var A;for(g=0;x-2>g;g++){for(v=g;g+1>=v;v++)if(Math.abs(t[v+1][v])<E*(Math.abs(t[v][v])+Math.abs(t[v+1][v+1]))){var S=numeric.QRFrancis(numeric.getBlock(t,[0,0],[v,v]),e),j=numeric.QRFrancis(numeric.getBlock(t,[v+1,v+1],[x-1,x-1]),e);for(h=Array(v+1),d=0;v>=d;d++)h[d]=w[d];for(m=numeric.dot(S.Q,h),d=0;v>=d;d++)w[d]=m[d];for(h=Array(x-v-1),d=v+1;x>d;d++)h[d-v-1]=w[d];for(m=numeric.dot(j.Q,h),d=v+1;x>d;d++)w[d]=m[d-v-1];return{Q:w,B:S.B.concat(numeric.add(j.B,v+1))}}for(A=Math.min(x-1,g+3),r=Array(A-g),d=g+1;A>=d;d++)r[d-g-1]=t[d][g];for(n=numeric.house(r),h=numeric.getBlock(t,[g+1,g],[A,x-1]),m=numeric.tensor(n,numeric.dot(n,h)),d=g+1;A>=d;d++)for(l=t[d],y=m[d-g-1],v=g;x>v;v++)l[v]-=2*y[v-g];for(h=numeric.getBlock(t,[0,g+1],[x-1,A]),m=numeric.tensor(numeric.dot(h,n),n),d=0;x>d;d++)for(l=t[d],y=m[d],v=g+1;A>=v;v++)l[v]-=2*y[v-g-1];for(h=Array(A-g),d=g+1;A>=d;d++)h[d-g-1]=w[d];for(m=numeric.tensor(n,numeric.dot(n,h)),d=g+1;A>=d;d++)for(p=w[d],y=m[d-g-1],v=0;x>v;v++)p[v]-=2*y[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var r,n,i,o,u,s,a,c,f,p,l,h,m,y,d,g,v,b=numeric.toUpperHessenberg(t),_=numeric.QRFrancis(b.H,e),x=numeric.T,w=t.length,E=_.B,S=numeric.dot(_.Q,numeric.dot(b.H,numeric.transpose(_.Q))),j=new x(numeric.dot(_.Q,b.Q)),O=E.length,k=Math.sqrt;for(n=0;O>n;n++)if(r=E[n][0],r===E[n][1]);else{if(o=r+1,u=S[r][r],s=S[r][o],a=S[o][r],c=S[o][o],0===s&&0===a)continue;f=-u-c,p=u*c-s*a,l=f*f-4*p,l>=0?(h=0>f?-.5*(f-k(l)):-.5*(f+k(l)),g=(u-h)*(u-h)+s*s,v=a*a+(c-h)*(c-h),g>v?(g=k(g),y=(u-h)/g,d=s/g):(v=k(v),y=a/v,d=(c-h)/v),i=new x([[d,-y],[y,d]]),j.setRows(r,o,i.dot(j.getRows(r,o)))):(h=-.5*f,m=.5*k(-l),g=(u-h)*(u-h)+s*s,v=a*a+(c-h)*(c-h),g>v?(g=k(g+m*m),y=(u-h)/g,d=s/g,h=0,m/=g):(v=k(v+m*m),y=a/v,d=(c-h)/v,h=m/v,m=0),i=new x([[d,-y],[y,d]],[[h,m],[m,-h]]),j.setRows(r,o,i.dot(j.getRows(r,o))))}var A=j.dot(t).dot(j.transjugate()),w=t.length,N=numeric.T.identity(w);for(o=0;w>o;o++)if(o>0)for(n=o-1;n>=0;n--){var M=A.get([n,n]),C=A.get([o,o]);numeric.neq(M.x,C.x)||numeric.neq(M.y,C.y)?(h=A.getRow(n).getBlock([n],[o-1]),m=N.getRow(o).getBlock([n],[o-1]),N.set([o,n],A.get([n,o]).neg().sub(h.dot(m)).div(M.sub(C)))):N.setRow(o,N.getRow(n))}for(o=0;w>o;o++)h=N.getRow(o),N.setRow(o,h.div(h.norm2()));return N=N.transpose(),N=j.transjugate().dot(N),{lambda:A.getDiag(),E:N}},numeric.ccsSparse=function(t){var e,r,n,i,o=t.length,u=[];for(n=o-1;-1!==n;--n){r=t[n];for(i in r){for(i=parseInt(i);i>=u.length;)u[u.length]=0;0!==r[i]&&u[i]++}}var e=u.length,s=Array(e+1);for(s[0]=0,n=0;e>n;++n)s[n+1]=s[n]+u[n];var a=Array(s[e]),c=Array(s[e]);for(n=o-1;-1!==n;--n){r=t[n];for(i in r)0!==r[i]&&(u[i]--,a[s[i]+u[i]]=n,c[s[i]+u[i]]=r[i])}return[s,a,c]},numeric.ccsFull=function(t){var e,r,n,i,o=t[0],u=t[1],s=t[2],a=numeric.ccsDim(t),c=a[0],f=a[1],p=numeric.rep([c,f],0);for(e=0;f>e;e++)for(n=o[e],i=o[e+1],r=n;i>r;++r)p[u[r]][e]=s[r];return p},numeric.ccsTSolve=function(t,e,r,n,i){function o(t){var e;if(0===r[t]){for(r[t]=1,e=u[t];e<u[t+1];++e)o(s[e]);i[p]=t,++p}}var u=t[0],s=t[1],a=t[2],c=u.length-1,f=Math.max,p=0;"undefined"==typeof n&&(r=numeric.rep([c],0)),"undefined"==typeof n&&(n=numeric.linspace(0,r.length-1)),"undefined"==typeof i&&(i=[]);var l,h,m,y,d,g,v;for(l=n.length-1;-1!==l;--l)o(n[l]);for(i.length=p,l=i.length-1;-1!==l;--l)r[i[l]]=0;for(l=n.length-1;-1!==l;--l)h=n[l],r[h]=e[h];for(l=i.length-1;-1!==l;--l){for(h=i[l],m=u[h],y=f(u[h+1],m),d=m;d!==y;++d)if(s[d]===h){r[h]/=a[d];break}for(v=r[h],d=m;d!==y;++d)g=s[d],g!==h&&(r[g]-=v*a[d])}return r},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,r,n,i,o){var u,s,a,c=0,f=i.length,p=this.k,l=this.k1,h=this.j;if(0===n[t])for(n[t]=1,h[0]=t,p[0]=s=e[t],l[0]=a=e[t+1];;)if(s>=a){if(i[f]=h[c],0===c)return;++f,--c,s=p[c],a=l[c]}else u=o[r[s]],0===n[u]?(n[u]=1,p[c]=s,++c,h[c]=u,s=e[u],l[c]=a=e[u+1]):++s},numeric.ccsLPSolve=function(t,e,r,n,i,o,u){var s,a,c,f,p,l,h,m,y,d=t[0],g=t[1],v=t[2],b=(d.length-1,e[0]),_=e[1],x=e[2];for(a=b[i],c=b[i+1],n.length=0,s=a;c>s;++s)u.dfs(o[_[s]],d,g,r,n,o);for(s=n.length-1;-1!==s;--s)r[n[s]]=0;for(s=a;s!==c;++s)f=o[_[s]],r[f]=x[s];for(s=n.length-1;-1!==s;--s){for(f=n[s],p=d[f],l=d[f+1],h=p;l>h;++h)if(o[g[h]]===f){r[f]/=v[h];break}for(y=r[f],h=p;l>h;++h)m=o[g[h]],m!==f&&(r[m]-=y*v[h])}return r},numeric.ccsLUP1=function(t,e){var r,n,i,o,u,s,a,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],p=[numeric.rep([c+1],0),[],[]],l=f[0],h=f[1],m=f[2],y=p[0],d=p[1],g=p[2],v=numeric.rep([c],0),b=numeric.rep([c],0),_=numeric.ccsLPSolve,x=(Math.max,Math.abs),w=numeric.linspace(0,c-1),E=numeric.linspace(0,c-1),S=new numeric.ccsDFS(c);for("undefined"==typeof e&&(e=1),r=0;c>r;++r){for(_(f,t,v,b,r,E,S),o=-1,u=-1,n=b.length-1;-1!==n;--n)i=b[n],r>=i||(s=x(v[i]),s>o&&(u=i,o=s));for(x(v[r])<e*o&&(n=w[r],o=w[u],w[r]=o,E[o]=r,w[u]=n,E[n]=u,o=v[r],v[r]=v[u],v[u]=o),o=l[r],u=y[r],a=v[r],h[o]=w[r],m[o]=1,++o,n=b.length-1;-1!==n;--n)i=b[n],s=v[i],b[n]=0,v[i]=0,r>=i?(d[u]=i,g[u]=s,++u):(h[o]=w[i],m[o]=s/a,++o);l[r+1]=o,y[r+1]=u}for(n=h.length-1;-1!==n;--n)h[n]=E[h[n]];return{L:f,U:p,P:w,Pinv:E}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,r,n,i,o){var u,s,a,c=0,f=i.length,p=this.k,l=this.k1,h=this.j;if(0===n[t])for(n[t]=1,h[0]=t,p[0]=s=e[o[t]],l[0]=a=e[o[t]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=a){if(i[f]=o[h[c]],0===c)return;++f,--c,s=p[c],a=l[c]}else u=r[s],0===n[u]?(n[u]=1,p[c]=s,++c,h[c]=u,u=o[u],s=e[u],l[c]=a=e[u+1]):++s}},numeric.ccsLPSolve0=function(t,e,r,n,i,o,u,s){var a,c,f,p,l,h,m,y,d,g=t[0],v=t[1],b=t[2],_=(g.length-1,e[0]),x=e[1],w=e[2];for(c=_[i],f=_[i+1],n.length=0,a=c;f>a;++a)s.dfs(x[a],g,v,r,n,o,u);for(a=n.length-1;-1!==a;--a)p=n[a],r[u[p]]=0;for(a=c;a!==f;++a)p=x[a],r[p]=w[a];for(a=n.length-1;-1!==a;--a){for(p=n[a],y=u[p],l=g[p],h=g[p+1],m=l;h>m;++m)if(v[m]===y){r[y]/=b[m];break}for(d=r[y],m=l;h>m;++m)r[v[m]]-=d*b[m];r[y]=d}},numeric.ccsLUP0=function(t,e){var r,n,i,o,u,s,a,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],p=[numeric.rep([c+1],0),[],[]],l=f[0],h=f[1],m=f[2],y=p[0],d=p[1],g=p[2],v=numeric.rep([c],0),b=numeric.rep([c],0),_=numeric.ccsLPSolve0,x=(Math.max,Math.abs),w=numeric.linspace(0,c-1),E=numeric.linspace(0,c-1),S=new numeric.ccsDFS0(c);for("undefined"==typeof e&&(e=1),r=0;c>r;++r){for(_(f,t,v,b,r,E,w,S),o=-1,u=-1,n=b.length-1;-1!==n;--n)i=b[n],r>=i||(s=x(v[w[i]]),s>o&&(u=i,o=s));for(x(v[w[r]])<e*o&&(n=w[r],o=w[u],w[r]=o,E[o]=r,w[u]=n,E[n]=u),o=l[r],u=y[r],a=v[w[r]],h[o]=w[r],m[o]=1,++o,n=b.length-1;-1!==n;--n)i=b[n],s=v[w[i]],b[n]=0,v[w[i]]=0,r>=i?(d[u]=i,g[u]=s,++u):(h[o]=w[i],m[o]=s/a,++o);l[r+1]=o,y[r+1]=u}for(n=h.length-1;-1!==n;--n)h[n]=E[h[n]];return{L:f,U:p,P:w,Pinv:E}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,r){var n=numeric.ccsDim(t),i=n[0],o=n[1];"undefined"==typeof e?e=numeric.linspace(0,i-1):"number"==typeof e&&(e=[e]),"undefined"==typeof r?r=numeric.linspace(0,o-1):"number"==typeof r&&(r=[r]);var u,s,a,c,f,p=e.length,l=r.length,h=numeric.rep([o],0),m=[],y=[],d=[h,m,y],g=t[0],v=t[1],b=t[2],_=numeric.rep([i],0),x=0,w=numeric.rep([i],0);for(s=0;l>s;++s){c=r[s];var E=g[c],S=g[c+1];for(u=E;S>u;++u)a=v[u],w[a]=1,_[a]=b[u];for(u=0;p>u;++u)f=e[u],w[f]&&(m[x]=u,y[x]=_[e[u]],++x);for(u=E;S>u;++u)a=v[u],w[a]=0;h[s+1]=x}return d},numeric.ccsDot=function(t,e){var r,n,i,o,u,s,a,c,f,p,l,h=t[0],m=t[1],y=t[2],d=e[0],g=e[1],v=e[2],b=numeric.ccsDim(t),_=numeric.ccsDim(e),x=b[0],w=(b[1],_[1]),E=numeric.rep([x],0),S=numeric.rep([x],0),j=Array(x),O=numeric.rep([w],0),k=[],A=[],N=[O,k,A];for(i=0;i!==w;++i){for(o=d[i],u=d[i+1],f=0,n=o;u>n;++n)for(p=g[n],l=v[n],s=h[p],a=h[p+1],r=s;a>r;++r)c=m[r],0===S[c]&&(j[f]=c,S[c]=1,f+=1),E[c]=E[c]+y[r]*l;for(o=O[i],u=o+f,O[i+1]=u,n=f-1;-1!==n;--n)l=o+n,r=j[n],k[l]=r,A[l]=E[r],S[r]=0,E[r]=0;O[i+1]=O[i]+f}return N},numeric.ccsLUPSolve=function(t,e){var r=t.L,n=t.U,i=(t.P,e[0]),o=!1;"object"!=typeof i&&(e=[[0,e.length],numeric.linspace(0,e.length-1),e],i=e[0],o=!0);var u,s,a,c,f,p,l=e[1],h=e[2],m=r[0].length-1,y=i.length-1,d=numeric.rep([m],0),g=Array(m),v=numeric.rep([m],0),b=Array(m),_=numeric.rep([y+1],0),x=[],w=[],E=numeric.ccsTSolve,S=0;for(u=0;y>u;++u){for(f=0,a=i[u],c=i[u+1],s=a;c>s;++s)p=t.Pinv[l[s]],b[f]=p,v[p]=h[s],++f;for(b.length=f,E(r,v,d,b,g),s=b.length-1;-1!==s;--s)v[b[s]]=0;if(E(n,d,v,g,b),o)return v;for(s=g.length-1;-1!==s;--s)d[g[s]]=0;for(s=b.length-1;-1!==s;--s)p=b[s],x[S]=p,w[S]=v[p],v[p]=0,++S;_[u+1]=S}return[_,x,w]},numeric.ccsbinop=function(t,e){return"undefined"==typeof e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,r=t[0],n=t[1],i=t[2],o=numeric.sup(n)+1,u=r.length,s=numeric.rep([o],0),a=Array(u),c=Array(u),f=numeric.rep([o],0);for(e=0;u>e;++e)f[n[e]]++;for(e=0;o>e;++e)s[e+1]=s[e]+f[e];var p,l,h=s.slice(0);for(e=0;u>e;++e)l=n[e],p=h[l],a[p]=r[e],c[p]=i[e],h[l]=h[l]+1;return[s,a,c]},numeric.ccsGather=function(t){var e,r,n,i,o,u=t[0],s=t[1],a=t[2],c=u.length-1,f=s.length,p=Array(f),l=Array(f),h=Array(f);for(o=0,e=0;c>e;++e)for(n=u[e],i=u[e+1],r=n;r!==i;++r)l[o]=e,p[o]=s[r],h[o]=a[r],++o;return[p,l,h]},numeric.sdim=function a(t,e,r){if("undefined"==typeof e&&(e=[]),"object"!=typeof t)return e;"undefined"==typeof r&&(r=0),r in e||(e[r]=0),t.length>e[r]&&(e[r]=t.length);var n;for(n in t)t.hasOwnProperty(n)&&a(t[n],e,r+1);return e},numeric.sclone=function c(t,e,r){"undefined"==typeof e&&(e=0),"undefined"==typeof r&&(r=numeric.sdim(t).length);var n,i=Array(t.length);if(e===r-1){for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}for(n in t)t.hasOwnProperty(n)&&(i[n]=c(t[n],e+1,r));return i},numeric.sdiag=function(t){var e,r,n=t.length,i=Array(n);for(e=n-1;e>=1;e-=2)r=e-1,i[e]=[],i[e][e]=t[e],i[r]=[],i[r][r]=t[r];return 0===e&&(i[0]=[],i[0][0]=t[e]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){{var e,r,n,i=[];t.length}for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(r in n)n.hasOwnProperty(r)&&("object"!=typeof i[r]&&(i[r]=[]),i[r][e]=n[r])}return i},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var r,n,i,o,u,s,a,c=t.length,f=(e.length,numeric.stranspose(e)),p=f.length,l=Array(c);for(i=c-1;i>=0;i--){for(a=[],r=t[i],u=p-1;u>=0;u--){s=0,n=f[u];for(o in r)r.hasOwnProperty(o)&&o in n&&(s+=r[o]*n[o]);s&&(a[u]=s)}l[i]=a}return l},numeric.sdotMV=function(t,e){var r,n,i,o,u=t.length,s=Array(u);for(n=u-1;n>=0;n--){r=t[n],o=0;for(i in r)r.hasOwnProperty(i)&&e[i]&&(o+=r[i]*e[i]);o&&(s[n]=o)}return s},numeric.sdotVM=function(t,e){var r,n,i,o,u=[];for(r in t)if(t.hasOwnProperty(r)){i=e[r],o=t[r];for(n in i)i.hasOwnProperty(n)&&(u[n]||(u[n]=0),u[n]+=o*i[n])}return u},numeric.sdotVV=function(t,e){var r,n=0;for(r in t)t[r]&&e[r]&&(n+=t[r]*e[r]);return n},numeric.sdot=function(t,e){var r=numeric.sdim(t).length,n=numeric.sdim(e).length,i=1e3*r+n;switch(i){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+n)}},numeric.sscatter=function(t){var e,r,n,i,o=t[0].length,u=t.length,s=[];for(r=o-1;r>=0;--r)if(t[u-1][r]){for(i=s,n=0;u-2>n;n++)e=t[n][r],i[e]||(i[e]=[]),i=i[e];i[t[n][r]]=t[n+1][r]}return s},numeric.sgather=function f(t,e,r){"undefined"==typeof e&&(e=[]),"undefined"==typeof r&&(r=[]);var n,i,o;n=r.length;for(i in t)if(t.hasOwnProperty(i))if(r[n]=parseInt(i),o=t[i],"number"==typeof o){if(o){if(0===e.length)for(i=n+1;i>=0;--i)e[i]=[];for(i=n;i>=0;--i)e[i].push(r[i]);e[n+1].push(o)}}else f(o,e,r);return r.length>n&&r.pop(),e},numeric.cLU=function(t){var e,r,n,i,o,u,s=t[0],a=t[1],c=t[2],f=s.length,p=0;for(e=0;f>e;e++)s[e]>p&&(p=s[e]);p++;var l,h,m,y=Array(p),d=Array(p),g=numeric.rep([p],1/0),v=numeric.rep([p],-1/0);for(n=0;f>n;n++)e=s[n],r=a[n],r<g[e]&&(g[e]=r),r>v[e]&&(v[e]=r);for(e=0;p-1>e;e++)v[e]>v[e+1]&&(v[e+1]=v[e]);for(e=p-1;e>=1;e--)g[e]<g[e-1]&&(g[e-1]=g[e]);var b=0,_=0;for(e=0;p>e;e++)d[e]=numeric.rep([v[e]-g[e]+1],0),y[e]=numeric.rep([e-g[e]],0),b+=e-g[e]+1,_+=v[e]-e+1;for(n=0;f>n;n++)e=s[n],d[e][a[n]-g[e]]=c[n];for(e=0;p-1>e;e++)for(i=e-g[e],l=d[e],r=e+1;g[r]<=e&&p>r;r++)if(o=e-g[r],u=v[e]-e,h=d[r],m=h[o]/l[i]){for(n=1;u>=n;n++)h[n+o]-=m*l[n+i];y[r][e-g[r]]=m}var f,x,w,l=[],h=[],E=[],S=[],j=[],O=[];for(f=0,x=0,e=0;p>e;e++){for(i=g[e],o=v[e],w=d[e],r=e;o>=r;r++)w[r-i]&&(l[f]=e,h[f]=r,E[f]=w[r-i],f++);for(w=y[e],r=i;e>r;r++)w[r-i]&&(S[x]=e,j[x]=r,O[x]=w[r-i],x++);S[x]=e,j[x]=e,O[x]=1,x++}return{U:[l,h,E],L:[S,j,O]}},numeric.cLUsolve=function(t,e){var r,n,i=t.L,o=t.U,u=numeric.clone(e),s=i[0],a=i[1],c=i[2],f=o[0],p=o[1],l=o[2],h=f.length,m=(s.length,u.length);for(n=0,r=0;m>r;r++){for(;a[n]<r;)u[r]-=c[n]*u[a[n]],n++;n++}for(n=h-1,r=m-1;r>=0;r--){for(;p[n]>r;)u[r]-=l[n]*u[p[n]],n--;u[r]/=l[n],n--}return u},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var r,n,i,o=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,r){return e>=t[0]/2||r<t[1]/2};break;default:e=function(){return!0}}for(i=0,r=1;r<t[0]-1;r++)for(n=1;n<t[1]-1;n++)e(r,n)&&(o[r][n]=i,i++);return o},numeric.cdelsq=function(t){var e,r,n,i,o,u=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),a=s[0],c=s[1],f=[],p=[],l=[];for(e=1;a-1>e;e++)for(r=1;c-1>r;r++)if(!(t[e][r]<0)){for(n=0;4>n;n++)i=e+u[n][0],o=r+u[n][1],t[i][o]<0||(f.push(t[e][r]),p.push(t[i][o]),l.push(-1));f.push(t[e][r]),p.push(t[e][r]),l.push(4)}return[f,p,l]},numeric.cdotMV=function(t,e){var r,n,i,o=t[0],u=t[1],s=t[2],a=o.length;for(i=0,n=0;a>n;n++)o[n]>i&&(i=o[n]);for(i++,r=numeric.rep([i],0),n=0;a>n;n++)r[o[n]]+=s[n]*e[u[n]];
return r},numeric.Spline=function(t,e,r,n,i){this.x=t,this.yl=e,this.yr=r,this.kl=n,this.kr=i},numeric.Spline.prototype._at=function(t,e){var t,r,n,i,o=this.x,u=this.yl,s=this.yr,a=this.kl,c=this.kr,f=numeric.add,p=numeric.sub,l=numeric.mul;r=p(l(a[e],o[e+1]-o[e]),p(s[e+1],u[e])),n=f(l(c[e+1],o[e]-o[e+1]),p(s[e+1],u[e])),i=(t-o[e])/(o[e+1]-o[e]);var h=i*(1-i);return f(f(f(l(1-i,u[e]),l(i,s[e+1])),l(r,h*(1-i))),l(n,h*i))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,r,n,i=this.x,o=i.length,u=Math.floor;for(e=0,r=o-1;r-e>1;)n=u((e+r)/2),i[n]<=t?e=n:r=n;return this._at(t,e)}var s,o=t.length,a=Array(o);for(s=o-1;-1!==s;--s)a[s]=this.at(t[s]);return a},numeric.Spline.prototype.diff=function(){var t,e,r,n=this.x,i=this.yl,o=this.yr,u=this.kl,s=this.kr,a=i.length,c=u,f=s,p=Array(a),l=Array(a),h=numeric.add,m=numeric.mul,y=numeric.div,d=numeric.sub;for(t=a-1;-1!==t;--t)e=n[t+1]-n[t],r=d(o[t+1],i[t]),p[t]=y(h(m(r,6),m(u[t],-4*e),m(s[t+1],-2*e)),e*e),l[t+1]=y(h(m(r,-6),m(u[t],2*e),m(s[t+1],4*e)),e*e);return new numeric.Spline(n,c,f,p,l)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],r=this.x,n=this.yl,i=this.yr,o=this.kl,u=this.kr;"number"==typeof n[0]&&(n=[n],i=[i],o=[o],u=[u]);var s,a,c,f,p,l,h,m,y,d,g,v,b,_,x,w,E,S,j,O,k,A,N,M,C=n.length,L=r.length-1,e=Array(C),T=Math.sqrt;for(s=0;s!==C;++s){for(f=n[s],p=i[s],l=o[s],h=u[s],m=[],a=0;a!==L;a++){for(a>0&&p[a]*f[a]<0&&m.push(r[a]),w=r[a+1]-r[a],E=r[a],g=f[a],v=p[a+1],y=l[a]/w,d=h[a+1]/w,x=t(y-d+3*(g-v))+12*d*g,b=d+3*g+2*y-3*v,_=3*(d+y+2*(g-v)),0>=x?(j=b/_,S=j>r[a]&&j<r[a+1]?[r[a],j,r[a+1]]:[r[a],r[a+1]]):(j=(b-T(x))/_,O=(b+T(x))/_,S=[r[a]],j>r[a]&&j<r[a+1]&&S.push(j),O>r[a]&&O<r[a+1]&&S.push(O),S.push(r[a+1])),A=S[0],j=this._at(A,a),c=0;c<S.length-1;c++)if(N=S[c+1],O=this._at(N,a),0!==j)if(0===O||j*O>0)A=N,j=O;else{for(var P=0;;){if(M=(j*N-O*A)/(j-O),A>=M||M>=N)break;if(k=this._at(M,a),k*O>0)N=M,O=k,-1===P&&(j*=.5),P=-1;else{if(!(k*j>0))break;A=M,j=k,1===P&&(O*=.5),P=1}}m.push(M),A=S[c+1],j=this._at(A,a)}else m.push(A),A=N,j=O;0===O&&m.push(N)}e[s]=m}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,r,n){var i,o=t.length,u=[],s=[],a=[],c=numeric.sub,f=numeric.mul,p=numeric.add;for(i=o-2;i>=0;i--)s[i]=t[i+1]-t[i],a[i]=c(e[i+1],e[i]);("string"==typeof r||"string"==typeof n)&&(r=n="periodic");var l=[[],[],[]];switch(typeof r){case"undefined":u[0]=f(3/(s[0]*s[0]),a[0]),l[0].push(0,0),l[1].push(0,1),l[2].push(2/s[0],1/s[0]);break;case"string":u[0]=p(f(3/(s[o-2]*s[o-2]),a[o-2]),f(3/(s[0]*s[0]),a[0])),l[0].push(0,0,0),l[1].push(o-2,0,1),l[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:u[0]=r,l[0].push(0),l[1].push(0),l[2].push(1)}for(i=1;o-1>i;i++)u[i]=p(f(3/(s[i-1]*s[i-1]),a[i-1]),f(3/(s[i]*s[i]),a[i])),l[0].push(i,i,i),l[1].push(i-1,i,i+1),l[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof n){case"undefined":u[o-1]=f(3/(s[o-2]*s[o-2]),a[o-2]),l[0].push(o-1,o-1),l[1].push(o-2,o-1),l[2].push(1/s[o-2],2/s[o-2]);break;case"string":l[1][l[1].length-1]=0;break;default:u[o-1]=n,l[0].push(o-1),l[1].push(o-1),l[2].push(1)}u="number"!=typeof u[0]?numeric.transpose(u):[u];var h=Array(u.length);if("string"==typeof r)for(i=h.length-1;-1!==i;--i)h[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(l)),u[i]),h[i][o-1]=h[i][0];else for(i=h.length-1;-1!==i;--i)h[i]=numeric.cLUsolve(numeric.cLU(l),u[i]);return h="number"==typeof e[0]?h[0]:numeric.transpose(h),new numeric.Spline(t,e,e,h,h)},numeric.fftpow2=function p(t,e){var r=t.length;if(1!==r){var n,i,o=Math.cos,u=Math.sin,s=Array(r/2),a=Array(r/2),c=Array(r/2),f=Array(r/2);for(i=r/2,n=r-1;-1!==n;--n)--i,c[i]=t[n],f[i]=e[n],--n,s[i]=t[n],a[i]=e[n];p(s,a),p(c,f),i=r/2;var l,h,m,y=-6.283185307179586/r;for(n=r-1;-1!==n;--n)--i,-1===i&&(i=r/2-1),l=y*n,h=o(l),m=u(l),t[n]=s[i]+h*c[i]-m*f[i],e[n]=a[i]+h*f[i]+m*c[i]}},numeric._ifftpow2=function l(t,e){var r=t.length;if(1!==r){var n,i,o=Math.cos,u=Math.sin,s=Array(r/2),a=Array(r/2),c=Array(r/2),f=Array(r/2);for(i=r/2,n=r-1;-1!==n;--n)--i,c[i]=t[n],f[i]=e[n],--n,s[i]=t[n],a[i]=e[n];l(s,a),l(c,f),i=r/2;var p,h,m,y=6.283185307179586/r;for(n=r-1;-1!==n;--n)--i,-1===i&&(i=r/2-1),p=y*n,h=o(p),m=u(p),t[n]=s[i]+h*c[i]-m*f[i],e[n]=a[i]+h*f[i]+m*c[i]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,r,n){numeric.fftpow2(t,e),numeric.fftpow2(r,n);var i,o,u,s,a,c=t.length;for(i=c-1;-1!==i;--i)o=t[i],s=e[i],u=r[i],a=n[i],t[i]=o*u-s*a,e[i]=o*a+s*u;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){{var t,e,r=this.x,n=this.y,i=r.length,o=Math.log,u=o(2),s=Math.ceil(o(2*i-1)/u),a=Math.pow(2,s),c=numeric.rep([a],0),f=numeric.rep([a],0),p=Math.cos,l=Math.sin,h=-3.141592653589793/i,m=numeric.rep([a],0),y=numeric.rep([a],0);Math.floor(i/2)}for(t=0;i>t;t++)m[t]=r[t];if("undefined"!=typeof n)for(t=0;i>t;t++)y[t]=n[t];for(c[0]=1,t=1;a/2>=t;t++)e=h*t*t,c[t]=p(e),f[t]=l(e),c[a-t]=p(e),f[a-t]=l(e);var d=new numeric.T(m,y),g=new numeric.T(c,f);return d=d.mul(g),numeric.convpow2(d.x,d.y,numeric.clone(g.x),numeric.neg(g.y)),d=d.mul(g),d.x.length=i,d.y.length=i,d},numeric.T.prototype.ifft=function(){{var t,e,r=this.x,n=this.y,i=r.length,o=Math.log,u=o(2),s=Math.ceil(o(2*i-1)/u),a=Math.pow(2,s),c=numeric.rep([a],0),f=numeric.rep([a],0),p=Math.cos,l=Math.sin,h=3.141592653589793/i,m=numeric.rep([a],0),y=numeric.rep([a],0);Math.floor(i/2)}for(t=0;i>t;t++)m[t]=r[t];if("undefined"!=typeof n)for(t=0;i>t;t++)y[t]=n[t];for(c[0]=1,t=1;a/2>=t;t++)e=h*t*t,c[t]=p(e),f[t]=l(e),c[a-t]=p(e),f[a-t]=l(e);var d=new numeric.T(m,y),g=new numeric.T(c,f);return d=d.mul(g),numeric.convpow2(d.x,d.y,numeric.clone(g.x),numeric.neg(g.y)),d=d.mul(g),d.x.length=i,d.y.length=i,d.div(i)},numeric.gradient=function(t,e){var r=e.length,n=t(e);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var i,o,u,s,a,c,f,p,l,h,m=Math.max,y=numeric.clone(e),d=Array(r),m=(numeric.div,numeric.sub,Math.max),g=.001,v=Math.abs,b=Math.min,_=0;for(i=0;r>i;i++)for(var x=m(1e-6*n,1e-8);;){if(++_,_>20)throw new Error("Numerical gradient fails");if(y[i]=e[i]+x,o=t(y),y[i]=e[i]-x,u=t(y),y[i]=e[i],isNaN(o)||isNaN(u))x/=16;else{if(d[i]=(o-u)/(2*x),a=e[i]-x,c=e[i],f=e[i]+x,p=(o-n)/x,l=(n-u)/x,h=m(v(d[i]),v(n),v(o),v(u),v(a),v(c),v(f),1e-8),s=b(m(v(p-d[i]),v(l-d[i]),v(p-l))/h,x/h),!(s>g))break;x/=16}}return d},numeric.uncmin=function(t,e,r,n,i,o,u){var s=numeric.gradient;"undefined"==typeof u&&(u={}),"undefined"==typeof r&&(r=1e-8),"undefined"==typeof n&&(n=function(e){return s(t,e)}),"undefined"==typeof i&&(i=1e3),e=numeric.clone(e);var a,c,f=e.length,p=t(e);if(isNaN(p))throw new Error("uncmin: f(x0) is a NaN!");var l=Math.max,h=numeric.norm2;r=l(r,numeric.epsilon);var m,y,d,g,v,b,_,x,w,E,S=u.Hinv||numeric.identity(f),j=numeric.dot,O=(numeric.inv,numeric.sub),k=numeric.add,A=numeric.tensor,N=numeric.div,M=numeric.mul,C=numeric.all,L=numeric.isFinite,T=numeric.neg,P=0,I="";for(y=n(e);i>P;){if("function"==typeof o&&o(P,e,p,y,S)){I="Callback returned true";break}if(!C(L(y))){I="Gradient has Infinity or NaN";break}if(m=T(j(S,y)),!C(L(m))){I="Search direction has Infinity or NaN";break}if(E=h(m),r>E){I="Newton step smaller than tol";break}for(w=1,c=j(y,m),v=e;i>P&&!(r>w*E)&&(g=M(m,w),v=k(e,g),a=t(v),a-p>=.1*w*c||isNaN(a));)w*=.5,++P;if(r>w*E){I="Line search step size smaller than tol";break}if(P===i){I="maxit reached during line search";break}d=n(v),b=O(d,y),x=j(b,g),_=j(S,b),S=O(k(S,M((x+j(b,_))/(x*x),A(g,g))),N(k(A(_,g),A(g,_)),x)),e=v,p=a,y=d,++P}return{solution:e,f:p,gradient:y,invHessian:S,iterations:P,message:I}},numeric.Dopri=function(t,e,r,n,i,o,u){this.x=t,this.y=e,this.f=r,this.ymid=n,this.iterations=i,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(t,e){function r(t){return t*t}var n,i,o,u,s,a,t,c,f,p,l,h=this,m=h.x,y=h.y,d=h.f,g=h.ymid,v=(m.length,Math.floor,.5),b=numeric.add,_=numeric.mul,x=numeric.sub;return n=m[e],i=m[e+1],u=y[e],s=y[e+1],c=i-n,o=n+v*c,a=g[e],f=x(d[e],_(u,1/(n-o)+2/(n-i))),p=x(d[e+1],_(s,1/(i-o)+2/(i-n))),l=[r(t-i)*(t-o)/r(n-i)/(n-o),r(t-n)*r(t-i)/r(n-o)/r(i-o),r(t-n)*(t-o)/r(i-n)/(i-o),(t-n)*r(t-i)*(t-o)/r(n-i)/(n-o),(t-i)*r(t-n)*(t-o)/r(n-i)/(i-o)],b(b(b(b(_(u,l[0]),_(a,l[1])),_(s,l[2])),_(f,l[3])),_(p,l[4]))},numeric.Dopri.prototype.at=function(t){var e,r,n,i=Math.floor;if("number"!=typeof t){var o=t.length,u=Array(o);for(e=o-1;-1!==e;--e)u[e]=this.at(t[e]);return u}var s=this.x;for(e=0,r=s.length-1;r-e>1;)n=i(.5*(e+r)),s[n]<=t?e=n:r=n;return this._at(t,e)},numeric.dopri=function(t,e,r,n,i,o,u){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof o&&(o=1e3);var s,a,c,f,p,l,h,m,y,d,g,v,b,_=[t],x=[r],w=[n(t,r)],E=[],S=.2,j=[.075,.225],O=[44/45,-56/15,32/9],k=[19372/6561,-25360/2187,64448/6561,-212/729],A=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],N=[35/384,0,500/1113,125/192,-2187/6784,11/84],M=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],C=[.2,.3,.8,8/9,1,1],L=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],T=0,P=(e-t)/10,I=0,D=numeric.add,F=numeric.mul,V=(Math.max,Math.min),q=Math.abs,z=numeric.norminf,R=Math.pow,G=numeric.any,B=numeric.lt,U=numeric.and,K=(numeric.sub,new numeric.Dopri(_,x,w,E,-1,""));for("function"==typeof u&&(g=u(t,r));e>t&&o>I;)if(++I,t+P>e&&(P=e-t),s=n(t+C[0]*P,D(r,F(S*P,w[T]))),a=n(t+C[1]*P,D(D(r,F(j[0]*P,w[T])),F(j[1]*P,s))),c=n(t+C[2]*P,D(D(D(r,F(O[0]*P,w[T])),F(O[1]*P,s)),F(O[2]*P,a))),f=n(t+C[3]*P,D(D(D(D(r,F(k[0]*P,w[T])),F(k[1]*P,s)),F(k[2]*P,a)),F(k[3]*P,c))),p=n(t+C[4]*P,D(D(D(D(D(r,F(A[0]*P,w[T])),F(A[1]*P,s)),F(A[2]*P,a)),F(A[3]*P,c)),F(A[4]*P,f))),y=D(D(D(D(D(r,F(w[T],P*N[0])),F(a,P*N[2])),F(c,P*N[3])),F(f,P*N[4])),F(p,P*N[5])),l=n(t+P,y),h=D(D(D(D(D(F(w[T],P*L[0]),F(a,P*L[2])),F(c,P*L[3])),F(f,P*L[4])),F(p,P*L[5])),F(l,P*L[6])),d="number"==typeof h?q(h):z(h),d>i){if(P=.2*P*R(i/d,.25),t+P===t){K.msg="Step size became too small";break}}else{if(E[T]=D(D(D(D(D(D(r,F(w[T],P*M[0])),F(a,P*M[2])),F(c,P*M[3])),F(f,P*M[4])),F(p,P*M[5])),F(l,P*M[6])),++T,_[T]=t+P,x[T]=y,w[T]=l,"function"==typeof u){var J,Q,X=t,Y=t+.5*P;if(v=u(Y,E[T-1]),b=U(B(g,0),B(0,v)),G(b)||(X=Y,Y=t+P,g=v,v=u(Y,y),b=U(B(g,0),B(0,v))),G(b)){for(var Z,$,H=0,W=1,te=1;;){if("number"==typeof g)Q=(te*v*X-W*g*Y)/(te*v-W*g);else for(Q=Y,m=g.length-1;-1!==m;--m)g[m]<0&&v[m]>0&&(Q=V(Q,(te*v[m]*X-W*g[m]*Y)/(te*v[m]-W*g[m])));if(X>=Q||Q>=Y)break;J=K._at(Q,T-1),$=u(Q,J),Z=U(B(g,0),B(0,$)),G(Z)?(Y=Q,v=$,b=Z,te=1,-1===H?W*=.5:W=1,H=-1):(X=Q,g=$,W=1,1===H?te*=.5:te=1,H=1)}return y=K._at(.5*(t+Q),T-1),K.f[T]=n(Q,J),K.x[T]=Q,K.y[T]=J,K.ymid[T-1]=y,K.events=b,K.iterations=I,K}}t+=P,r=y,g=v,P=V(.8*P*R(i/d,.25),4*P)}return K.iterations=I,K},numeric.LU=function(t,e){e=e||!1;var r,n,i,o,u,s,a,c,f,p=Math.abs,l=t.length,h=l-1,m=new Array(l);for(e||(t=numeric.clone(t)),i=0;l>i;++i){for(a=i,s=t[i],f=p(s[i]),n=i+1;l>n;++n)o=p(t[n][i]),o>f&&(f=o,a=n);for(m[i]=a,a!=i&&(t[i]=t[a],t[a]=s,s=t[i]),u=s[i],r=i+1;l>r;++r)t[r][i]/=u;for(r=i+1;l>r;++r){for(c=t[r],n=i+1;h>n;++n)c[n]-=c[i]*s[n],++n,c[n]-=c[i]*s[n];n===h&&(c[n]-=c[i]*s[n])}}return{LU:t,P:m}},numeric.LUsolve=function(t,e){var r,n,i,o,u,s=t.LU,a=s.length,c=numeric.clone(e),f=t.P;for(r=a-1;-1!==r;--r)c[r]=e[r];for(r=0;a>r;++r)for(i=f[r],f[r]!==r&&(u=c[r],c[r]=c[i],c[i]=u),o=s[r],n=0;r>n;++n)c[r]-=c[n]*o[n];for(r=a-1;r>=0;--r){for(o=s[r],n=r+1;a>n;++n)c[r]-=c[n]*o[n];c[r]/=o[r]}return c},numeric.solve=function(t,e,r){return numeric.LUsolve(numeric.LU(t,r),e)},numeric.echelonize=function(t){var e,r,n,i,o,u,s,a,c=numeric.dim(t),f=c[0],p=c[1],l=numeric.identity(f),h=Array(f),m=Math.abs,y=numeric.diveq;for(t=numeric.clone(t),e=0;f>e;++e){for(n=0,o=t[e],u=l[e],r=1;p>r;++r)m(o[n])<m(o[r])&&(n=r);for(h[e]=n,y(u,o[n]),y(o,o[n]),r=0;f>r;++r)if(r!==e){for(s=t[r],a=s[n],i=p-1;-1!==i;--i)s[i]-=o[i]*a;for(s=l[r],i=f-1;-1!==i;--i)s[i]-=u[i]*a}}return{I:l,A:t,P:h}},numeric.__solveLP=function(t,e,r,n,i,o,u){var s,a,c,f,p=numeric.sum,l=(numeric.log,numeric.mul),h=numeric.sub,m=numeric.dot,y=numeric.div,d=numeric.add,g=t.length,v=r.length,b=!1,_=0,x=1,w=(numeric.transpose(e),numeric.svd,numeric.transpose),E=(numeric.leq,Math.sqrt),S=Math.abs,j=(numeric.muleq,numeric.norminf,numeric.any,Math.min),O=numeric.all,k=numeric.gt,A=Array(g),N=Array(v),M=(numeric.rep([v],1),numeric.solve),C=h(r,m(e,o)),L=m(t,t);for(c=_;i>c;++c){var T,P;for(T=v-1;-1!==T;--T)N[T]=y(e[T],C[T]);var I=w(N);for(T=g-1;-1!==T;--T)A[T]=p(I[T]);x=.25*S(L/m(t,A));var D=100*E(L/m(A,A));for((!isFinite(x)||x>D)&&(x=D),f=d(t,l(x,A)),a=m(I,N),T=g-1;-1!==T;--T)a[T][T]+=1;P=M(a,y(f,x),!0);var F=y(C,m(e,P)),V=1;for(T=v-1;-1!==T;--T)F[T]<0&&(V=j(V,-.999*F[T]));if(s=h(o,l(P,V)),C=h(r,m(e,s)),!O(k(C,0)))return{solution:o,message:"",iterations:c};if(o=s,n>x)return{solution:s,message:"",iterations:c};if(u){var q=m(t,f),z=m(e,f);for(b=!0,T=v-1;-1!==T;--T)if(q*z[T]<0){b=!1;break}}else b=o[g-1]>=0?!1:!0;if(b)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,r,n,i){var o,u=t.length,s=r.length,a=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,f=(numeric.div,numeric.add,numeric.rep([u],0).concat([1])),p=numeric.rep([s,1],-1),l=numeric.blockMatrix([[e,p]]),h=r,o=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),m=numeric.__solveLP(f,l,h,n,i,o,!1),y=numeric.clone(m.solution);y.length=u;var d=numeric.inf(a(r,c(e,y)));if(0>d)return{solution:0/0,message:"Infeasible",iterations:m.iterations};var g=numeric.__solveLP(t,e,r,n,i-m.iterations,y,!0);return g.iterations+=m.iterations,g},numeric.solveLP=function(t,e,r,n,i,o,u){if("undefined"==typeof u&&(u=1e3),"undefined"==typeof o&&(o=numeric.epsilon),"undefined"==typeof n)return numeric._solveLP(t,e,r,o,u);var s,a=n.length,c=n[0].length,f=e.length,p=numeric.echelonize(n),l=numeric.rep([c],0),h=p.P,m=[];for(s=h.length-1;-1!==s;--s)l[h[s]]=1;for(s=c-1;-1!==s;--s)0===l[s]&&m.push(s);var y=numeric.getRange,d=numeric.linspace(0,a-1),g=numeric.linspace(0,f-1),v=y(n,d,m),b=y(e,g,h),_=y(e,g,m),x=numeric.dot,w=numeric.sub,E=x(b,p.I),S=w(_,x(E,v)),j=w(r,x(E,i)),O=Array(h.length),k=Array(m.length);for(s=h.length-1;-1!==s;--s)O[s]=t[h[s]];for(s=m.length-1;-1!==s;--s)k[s]=t[m[s]];var A=w(k,x(O,x(p.I,v))),N=numeric._solveLP(A,S,j,o,u),M=N.solution;if(M!==M)return N;var C=x(p.I,w(i,x(v,M))),L=Array(t.length);for(s=h.length-1;-1!==s;--s)L[h[s]]=C[s];for(s=m.length-1;-1!==s;--s)L[m[s]]=M[s];return{solution:L,message:N.message,iterations:N.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+r+": "+t[r]+"\nCurrent state: "+s[u]+"\n")}t instanceof String&&t.split("\n");var r,n,i,o,u=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],a=t.length,c=0,f={},p=[],l=0,h={},m=0,y=[],d=[],g=[];for(r=0;a>r;++r){i=t[r];var v=i.match(/\S*/g),b=[];for(n=0;n<v.length;++n)""!==v[n]&&b.push(v[n]);if(0!==b.length){for(n=0;n<s.length&&i.substr(0,s[n].length)!==s[n];++n);if(n<s.length){if(u=n,1===n&&(o=b[1]),6===n)return{name:o,c:y,A:numeric.transpose(d),b:g,rows:f,vars:h}}else switch(u){case 0:case 1:e("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:e("Two or more N rows");break;case"L":f[b[1]]=l,p[l]=1,g[l]=0,++l;break;case"G":f[b[1]]=l,p[l]=-1,g[l]=0,++l;break;case"E":f[b[1]]=l,p[l]=0,g[l]=0,++l;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:h.hasOwnProperty(b[0])||(h[b[0]]=m,y[m]=0,d[m]=numeric.rep([l],0),++m);var _=h[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==c){var x=f[b[n]];d[_][x]=(p[x]<0?-1:1)*parseFloat(b[n+1])}else y[_]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)g[f[b[n]]]=(p[f[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,r,n,i,o,u){function s(t){var e,n,i=this,o=t.length,u=0,s=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(t=[o++]);r>u;)i.S[u]=u++;for(u=0;r>u;u++)e=i.S[u],s=f(s+e+t[u%o]),n=i.S[s],i.S[u]=n,i.S[s]=e;i.g=function(t){var e=i.S,n=f(i.i+1),o=e[n],u=f(i.j+o),s=e[u];e[n]=s,e[u]=o;for(var a=e[f(o+s)];--t;)n=f(n+1),o=e[n],u=f(u+o),s=e[u],e[n]=s,e[u]=o,a=a*r+e[f(o+s)];return i.i=n,i.j=u,a},i.g(r)}function a(t,e,r,n,i){if(r=[],i=typeof t,e&&"object"==i)for(n in t)if(n.indexOf("S")<5)try{r.push(a(t[n],e-1))}catch(o){}return r.length?r:t+("string"!=i?"\x00":"")}function c(t,e,r,n){for(t+="",r=0,n=0;n<t.length;n++)e[f(n)]=f((r^=19*e[f(n)])+t.charCodeAt(n));t="";for(n in e)t+=String.fromCharCode(e[n]);return t}function f(t){return t&r-1}e.seedrandom=function(f,p){var l,h=[];return f=c(a(p?[f,t]:arguments.length?f:[(new Date).getTime(),t,window],3),h),l=new s(h),c(l.S,t),e.random=function(){for(var t=l.g(n),e=u,s=0;i>t;)t=(t+s)*r,e*=r,s=l.g(1);for(;t>=o;)t/=2,e/=2,s>>>=1;return(t+s)/e},f},u=e.pow(r,n),i=e.pow(2,i),o=2*i,c(e.random(),t)}([],numeric.seedrandom,256,6,52),function(t){function e(t){if("object"!=typeof t)return t;var r,n=[],i=t.length;for(r=0;i>r;r++)n[r+1]=e(t[r]);return n}function r(t){if("object"!=typeof t)return t;var e,n=[],i=t.length;for(e=1;i>e;e++)n[e-1]=r(t[e]);return n}function n(t,e,r){var n,i,o,u,s;for(o=1;r>=o;o+=1){for(t[o][o]=1/t[o][o],s=-t[o][o],n=1;o>n;n+=1)t[n][o]=s*t[n][o];if(u=o+1,u>r)break;for(i=u;r>=i;i+=1)for(s=t[o][i],t[o][i]=0,n=1;o>=n;n+=1)t[n][i]=t[n][i]+s*t[n][o]}}function i(t,e,r,n){var i,o,u,s;for(o=1;r>=o;o+=1){for(s=0,i=1;o>i;i+=1)s+=t[i][o]*n[i];n[o]=(n[o]-s)/t[o][o]}for(u=1;r>=u;u+=1)for(o=r+1-u,n[o]=n[o]/t[o][o],s=-n[o],i=1;o>i;i+=1)n[i]=n[i]+s*t[i][o]}function o(t,e,r,n){var i,o,u,s,a,c;for(o=1;r>=o;o+=1){if(n[1]=o,c=0,u=o-1,1>u){if(c=t[o][o]-c,0>=c)break;t[o][o]=Math.sqrt(c)}else{for(s=1;u>=s;s+=1){for(a=t[s][o],i=1;s>i;i+=1)a-=t[i][o]*t[i][s];a/=t[s][s],t[s][o]=a,c+=a*a}if(c=t[o][o]-c,0>=c)break;t[o][o]=Math.sqrt(c)}n[1]=0}}function u(t,e,r,u,s,a,c,f,p,l,h,m,y,d,g,v){function b(){for(d[1]=d[1]+1,O=T,S=1;l>=S;S+=1){for(O+=1,q=-f[S],j=1;u>=j;j+=1)q+=c[j][S]*s[j];if(Math.abs(q)<Q&&(q=0),S>h)g[O]=q;else if(g[O]=-Math.abs(q),q>0){for(j=1;u>=j;j+=1)c[j][S]=-c[j][S];f[S]=-f[S]}}for(S=1;y>=S;S+=1)g[T+m[S]]=0;for(I=0,V=0,S=1;l>=S;S+=1)g[T+S]<V*g[F+S]&&(I=S,V=g[T+S]/g[F+S]);return 0===I?999:0}function _(){for(S=1;u>=S;S+=1){for(q=0,j=1;u>=j;j+=1)q+=t[j][S]*c[j][I];g[S]=q}for(k=M,S=1;u>=S;S+=1)g[k+S]=0;for(j=y+1;u>=j;j+=1)for(S=1;u>=S;S+=1)g[k+S]=g[k+S]+t[S][j]*g[j];for(K=!0,S=y;S>=1;S-=1){for(q=g[S],O=L+S*(S+3)/2,k=O-S,j=S+1;y>=j;j+=1)q-=g[O]*g[C+j],O+=j;if(q/=g[k],g[C+S]=q,m[S]<h)break;if(0>q)break;K=!1,N=S}if(!K)for(z=g[P+N]/g[C+N],S=1;y>=S&&!(m[S]<h)&&!(g[C+S]<0);S+=1)V=g[P+S]/g[C+S],z>V&&(z=V,N=S);for(q=0,S=M+1;M+u>=S;S+=1)q+=g[S]*g[S];if(Math.abs(q)<=Q){if(K)return v[1]=1,999;for(S=1;y>=S;S+=1)g[P+S]=g[P+S]-z*g[C+S];return g[P+y+1]=g[P+y+1]+z,700}for(q=0,S=1;u>=S;S+=1)q+=g[M+S]*c[S][I];for(R=-g[T+I]/q,J=!0,K||R>z&&(R=z,J=!1),S=1;u>=S;S+=1)s[S]=s[S]+R*g[M+S],Math.abs(s[S])<Q&&(s[S]=0);for(a[1]=a[1]+R*q*(R/2+g[P+y+1]),S=1;y>=S;S+=1)g[P+S]=g[P+S]-R*g[C+S];if(g[P+y+1]=g[P+y+1]+R,!J){for(q=-f[I],j=1;u>=j;j+=1)q+=s[j]*c[j][I];if(I>h)g[T+I]=q;else if(g[T+I]=-Math.abs(q),q>0){for(j=1;u>=j;j+=1)c[j][I]=-c[j][I];f[I]=-f[I]}return 700}for(y+=1,m[y]=I,O=L+(y-1)*y/2+1,S=1;y-1>=S;S+=1)g[O]=g[S],O+=1;if(y===u)g[O]=g[u];else{for(S=u;S>=y+1&&0!==g[S]&&(G=Math.max(Math.abs(g[S-1]),Math.abs(g[S])),B=Math.min(Math.abs(g[S-1]),Math.abs(g[S])),V=g[S-1]>=0?Math.abs(G*Math.sqrt(1+B*B/(G*G))):-Math.abs(G*Math.sqrt(1+B*B/(G*G))),G=g[S-1]/V,B=g[S]/V,1!==G);S-=1)if(0===G)for(g[S-1]=B*V,j=1;u>=j;j+=1)V=t[j][S-1],t[j][S-1]=t[j][S],t[j][S]=V;else for(g[S-1]=V,U=B/(1+G),j=1;u>=j;j+=1)V=G*t[j][S-1]+B*t[j][S],t[j][S]=U*(t[j][S-1]+V)-t[j][S],t[j][S-1]=V;g[O]=g[y]}return 0}function x(){if(O=L+N*(N+1)/2+1,k=O+N,0===g[k])return 798;if(G=Math.max(Math.abs(g[k-1]),Math.abs(g[k])),B=Math.min(Math.abs(g[k-1]),Math.abs(g[k])),V=g[k-1]>=0?Math.abs(G*Math.sqrt(1+B*B/(G*G))):-Math.abs(G*Math.sqrt(1+B*B/(G*G))),G=g[k-1]/V,B=g[k]/V,1===G)return 798;if(0===G){for(S=N+1;y>=S;S+=1)V=g[k-1],g[k-1]=g[k],g[k]=V,k+=S;for(S=1;u>=S;S+=1)V=t[S][N],t[S][N]=t[S][N+1],t[S][N+1]=V}else{for(U=B/(1+G),S=N+1;y>=S;S+=1)V=G*g[k-1]+B*g[k],g[k]=U*(g[k-1]+V)-g[k],g[k-1]=V,k+=S;for(S=1;u>=S;S+=1)V=G*t[S][N]+B*t[S][N+1],t[S][N+1]=U*(t[S][N]+V)-t[S][N+1],t[S][N]=V}return 0}function w(){for(k=O-N,S=1;N>=S;S+=1)g[k]=g[O],O+=1,k+=1;return g[P+N]=g[P+N+1],m[N]=m[N+1],N+=1,y>N?797:0}function E(){return g[P+y]=g[P+y+1],g[P+y+1]=0,m[y]=0,y-=1,d[2]=d[2]+1,0}var S,j,O,k,A,N,M,C,L,T,P,I,D,F,V,q,z,R,G,B,U,K,J,Q,X,Y,Z;D=Math.min(u,l),O=2*u+D*(D+5)/2+2*l+1,Q=1e-60;do Q+=Q,X=1+.1*Q,Y=1+.2*Q;while(1>=X||1>=Y);for(S=1;u>=S;S+=1)g[S]=e[S];for(S=u+1;O>=S;S+=1)g[S]=0;for(S=1;l>=S;S+=1)m[S]=0;if(A=[],0===v[1]){if(o(t,r,u,A),0!==A[1])return void(v[1]=2);i(t,r,u,e),n(t,r,u)}else{for(j=1;u>=j;j+=1)for(s[j]=0,S=1;j>=S;S+=1)s[j]=s[j]+t[S][j]*e[S];for(j=1;u>=j;j+=1)for(e[j]=0,S=j;u>=S;S+=1)e[j]=e[j]+t[j][S]*s[S]}for(a[1]=0,j=1;u>=j;j+=1)for(s[j]=e[j],a[1]=a[1]+g[j]*s[j],g[j]=0,S=j+1;u>=S;S+=1)t[S][j]=0;for(a[1]=-a[1]/2,v[1]=0,M=u,C=M+u,P=C+D,L=P+D+1,T=L+D*(D+1)/2,F=T+l,S=1;l>=S;S+=1){for(q=0,j=1;u>=j;j+=1)q+=c[j][S]*c[j][S];g[F+S]=Math.sqrt(q)}for(y=0,d[1]=0,d[2]=0,Z=0;;){if(Z=b(),999===Z)return;for(;;){if(Z=_(),0===Z)break;if(999===Z)return;if(700===Z)if(N===y)E();else{for(;;)if(x(),Z=w(),797!==Z)break;E()}}}}function s(t,n,i,o,s,a){t=e(t),n=e(n),i=e(i);var c,f,p,l,h,m,y=[],d=[],g=[],v=[],b=[];if(s=s||0,a=a?e(a):[void 0,0],o=o?e(o):[],f=t.length-1,p=i[1].length-1,!o)for(c=1;p>=c;c+=1)o[c]=0;for(c=1;p>=c;c+=1)d[c]=0;for(l=0,h=Math.min(f,p),c=1;f>=c;c+=1)g[c]=0;for(y[1]=0,c=1;2*f+h*(h+5)/2+2*p+1>=c;c+=1)v[c]=0;for(c=1;2>=c;c+=1)b[c]=0;return u(t,n,f,f,g,y,i,o,f,p,s,d,l,b,v,a),m="",1===a[1]&&(m="constraints are inconsistent, no solution!"),2===a[1]&&(m="matrix D in quadratic function is not positive definite!"),{solution:r(g),value:r(y),unconstrained_solution:r(n),iterations:r(b),iact:r(d),message:m}}t.solveQP=s}(numeric),numeric.svd=function(t){function e(t,e){return t=Math.abs(t),e=Math.abs(e),t>e?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var r,n=numeric.epsilon,i=1e-64/n,o=50,u=0,s=0,a=0,c=0,f=0,p=numeric.clone(t),l=p.length,h=p[0].length;if(h>l)throw"Need more rows than columns";var m=new Array(h),y=new Array(h);for(s=0;h>s;s++)m[s]=y[s]=0;var d=numeric.rep([h,h],0),g=0,v=0,b=0,_=0,x=0,w=0,E=0;for(s=0;h>s;s++){for(m[s]=v,E=0,f=s+1,a=s;l>a;a++)E+=p[a][s]*p[a][s];if(i>=E)v=0;else for(g=p[s][s],v=Math.sqrt(E),g>=0&&(v=-v),b=g*v-E,p[s][s]=g-v,a=f;h>a;a++){for(E=0,c=s;l>c;c++)E+=p[c][s]*p[c][a];for(g=E/b,c=s;l>c;c++)p[c][a]+=g*p[c][s]}for(y[s]=v,E=0,a=f;h>a;a++)E+=p[s][a]*p[s][a];if(i>=E)v=0;else{for(g=p[s][s+1],v=Math.sqrt(E),g>=0&&(v=-v),b=g*v-E,p[s][s+1]=g-v,a=f;h>a;a++)m[a]=p[s][a]/b;for(a=f;l>a;a++){for(E=0,c=f;h>c;c++)E+=p[a][c]*p[s][c];for(c=f;h>c;c++)p[a][c]+=E*m[c]}}x=Math.abs(y[s])+Math.abs(m[s]),x>_&&(_=x)}for(s=h-1;-1!=s;s+=-1){if(0!=v){for(b=v*p[s][s+1],a=f;h>a;a++)d[a][s]=p[s][a]/b;for(a=f;h>a;a++){for(E=0,c=f;h>c;c++)E+=p[s][c]*d[c][a];for(c=f;h>c;c++)d[c][a]+=E*d[c][s]}}for(a=f;h>a;a++)d[s][a]=0,d[a][s]=0;d[s][s]=1,v=m[s],f=s}for(s=h-1;-1!=s;s+=-1){for(f=s+1,v=y[s],a=f;h>a;a++)p[s][a]=0;if(0!=v){for(b=p[s][s]*v,a=f;h>a;a++){for(E=0,c=f;l>c;c++)E+=p[c][s]*p[c][a];for(g=E/b,c=s;l>c;c++)p[c][a]+=g*p[c][s]}for(a=s;l>a;a++)p[a][s]=p[a][s]/v}else for(a=s;l>a;a++)p[a][s]=0;p[s][s]+=1}for(n*=_,c=h-1;-1!=c;c+=-1)for(var S=0;o>S;S++){var j=!1;for(f=c;-1!=f;f+=-1){if(Math.abs(m[f])<=n){j=!0;break}if(Math.abs(y[f-1])<=n)break}if(!j){u=0,E=1;var O=f-1;for(s=f;c+1>s&&(g=E*m[s],m[s]=u*m[s],!(Math.abs(g)<=n));s++)for(v=y[s],b=e(g,v),y[s]=b,u=v/b,E=-g/b,a=0;l>a;a++)x=p[a][O],w=p[a][s],p[a][O]=x*u+w*E,p[a][s]=-x*E+w*u}if(w=y[c],f==c){if(0>w)for(y[c]=-w,a=0;h>a;a++)d[a][c]=-d[a][c];break}if(S>=o-1)throw"Error: no convergence.";for(_=y[f],x=y[c-1],v=m[c-1],b=m[c],g=((x-w)*(x+w)+(v-b)*(v+b))/(2*b*x),v=e(g,1),g=0>g?((_-w)*(_+w)+b*(x/(g-v)-b))/_:((_-w)*(_+w)+b*(x/(g+v)-b))/_,u=1,E=1,s=f+1;c+1>s;s++){for(v=m[s],x=y[s],b=E*v,v=u*v,w=e(g,b),m[s-1]=w,u=g/w,E=b/w,g=_*u+v*E,v=-_*E+v*u,b=x*E,x*=u,a=0;h>a;a++)_=d[a][s-1],w=d[a][s],d[a][s-1]=_*u+w*E,d[a][s]=-_*E+w*u;for(w=e(g,b),y[s-1]=w,u=g/w,E=b/w,g=u*v+E*x,_=-E*v+u*x,a=0;l>a;a++)x=p[a][s-1],w=p[a][s],p[a][s-1]=x*u+w*E,p[a][s]=-x*E+w*u}m[f]=0,m[c]=g,y[c]=_}for(s=0;s<y.length;s++)y[s]<n&&(y[s]=0);for(s=0;h>s;s++)for(a=s-1;a>=0;a--)if(y[a]<y[s]){for(u=y[a],y[a]=y[s],y[s]=u,c=0;c<p.length;c++)r=p[c][s],p[c][s]=p[c][a],p[c][a]=r;for(c=0;c<d.length;c++)r=d[c][s],d[c][s]=d[c][a],d[c][a]=r;s=a}return{U:p,S:y,V:d}}}).call(exports,function(){return this}())},function(t,e,r){(function(t,n){function i(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&e._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),a(n,t,n.depth)}function o(t,e){var r=i.styles[e];return r?"["+i.colors[r][0]+"m"+t+"["+i.colors[r][1]+"m":t}function u(t){return t}function s(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function a(t,r,n){if(t.customInspect&&r&&O(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=a(t,i,n)),i}var o=c(t,r);if(o)return o;var u=Object.keys(r),y=s(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(r)),j(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(r);if(0===u.length){if(O(r)){var d=r.name?": "+r.name:"";return t.stylize("[Function"+d+"]","special")}if(w(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(j(r))return f(r)}var g="",v=!1,_=["{","}"];if(m(r)&&(v=!0,_=["[","]"]),O(r)){var x=r.name?": "+r.name:"";g=" [Function"+x+"]"}if(w(r)&&(g=" "+RegExp.prototype.toString.call(r)),S(r)&&(g=" "+Date.prototype.toUTCString.call(r)),j(r)&&(g=" "+f(r)),0===u.length&&(!v||0==r.length))return _[0]+g+_[1];if(0>n)return w(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);var E;return E=v?p(t,r,n,y,u):u.map(function(e){return l(t,r,n,y,e,v)}),t.seen.pop(),h(E,g,_)}function c(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return v(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,i){for(var o=[],u=0,s=e.length;s>u;++u)o.push(C(e,String(u))?l(t,e,r,n,String(u),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(t,e,r,n,i,!0))}),o}function l(t,e,r,n,i,o){var u,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),C(n,i)||(u="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=d(r)?a(t,c.value,null):a(t,c.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(u)){if(o&&i.match(/^\d+$/))return s;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function h(t,e,r){var n=0,i=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function m(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function d(t){return null===t}function g(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===A(t)}function E(t){return"object"==typeof t&&null!==t}function S(t){return E(t)&&"[object Date]"===A(t)}function j(t){return E(t)&&("[object Error]"===A(t)||t instanceof Error)}function O(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function A(t){return Object.prototype.toString.call(t)}function N(t){return 10>t?"0"+t.toString(10):t.toString(10)}function M(){var t=new Date,e=[N(t.getHours()),N(t.getMinutes()),N(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var L=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(i(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,o=n.length,u=String(t).replace(L,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}}),s=n[r];o>r;s=n[++r])u+=d(s)||!E(s)?" "+s:" "+i(s);return u},e.deprecate=function(r,i){function o(){if(!u){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),u=!0}return r.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var u=!1;return o};var T,P={};e.debuglog=function(t){if(x(T)&&(T=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(T)){var r=n.pid;P[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else P[t]=function(){};return P[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=m,e.isBoolean=y,e.isNull=d,e.isNullOrUndefined=g,e.isNumber=v,e.isString=b,e.isSymbol=_,e.isUndefined=x,e.isRegExp=w,e.isObject=E,e.isDate=S,e.isError=j,e.isFunction=O,e.isPrimitive=k,e.isBuffer=r(29);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=r(31),e._extend=function(t,e){if(!e||!E(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,function(){return this}(),r(30))},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t){function e(){if(!o){o=!0;for(var t,e=i.length;e;){t=i,i=[];for(var r=-1;++r<e;)t[r]();e=i.length}o=!1}}function r(){}var n=t.exports={},i=[],o=!1;n.nextTick=function(t){i.push(t),o||setTimeout(e,0)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}]);